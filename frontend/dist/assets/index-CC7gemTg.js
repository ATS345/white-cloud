import{r as Kt,g as I,c as F,a as Wr,b as en,u as re,d as ae,e as x,j as e,B as t,C as V,G as l,T as a,f as m,P as j,h as $,i as Yr,k as Ws,l as Zr,D as Q,m as rn,n as sn,o as W,p as k,q as tn,s as O,t as nn,v as ee,w as fe,A as J,S as Qr,x as an,R as on,L as Es,I as U,y as ze,z as N,E as ue,F as A,H as pe,J as de,K as E,M as ln,N as je,V as Ie,O as Re,Q as H,U as Ft,W as dn,X as Tr,Y as cn,Z as xn,_ as hn,$ as un,a0 as _e,a1 as qs,a2 as pn,a3 as Jr,a4 as be,a5 as ve,a6 as ye,a7 as ne,a8 as g,a9 as we,aa as fn,ab as Bt,ac as $t,ad as Ht,ae as Vt,af as Nt,ag as te,ah as Kr,ai as es,aj as rs,ak as mn,al as _r,am as jn,an as zr,ao as gn,ap as bn,aq as ks,ar as vn,as as Ut,at as Sr,au as yn,av as wn,aw as Cn,ax as Sn,ay as In,az as Rn,aA as Wn,aB as kn,aC as _n,aD as Pr,aE as zn,aF as Se,aG as Dr,aH as Mr,aI as Os,aJ as Ts,aK as Pn,aL as Dn,aM as Mn,aN as Gs,aO as Fs,aP as qn,aQ as Ln,aR as An,aS as En,aT as On,aU as Tn,aV as Gn,aW as Fn,aX as K}from"./vendor-CIKAa89x.js";import{a as Bn}from"./network-B9ygI19o.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function s(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(d){if(d.ep)return;d.ep=!0;const h=s(d);fetch(d.href,h)}})();var qr={},Bs;function $n(){if(Bs)return qr;Bs=1;var n=Kt();return qr.createRoot=n.createRoot,qr.hydrateRoot=n.hydrateRoot,qr}var Hn=$n();const Vn=I(Hn),T=Bn.create({baseURL:"http://localhost:5000/api/v1",headers:{"Content-Type":"application/json"},withCredentials:!0,timeout:1e4});T.interceptors.request.use(n=>{const r=localStorage.getItem("token");return r&&(n.headers.Authorization=`Bearer ${r}`),n},n=>Promise.reject(n));T.interceptors.response.use(n=>n,n=>(n.response&&n.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(n)));const Gr=F("user/register",async(n,{rejectWithValue:r})=>{try{const s=await T.post("/auth/register",n);return s.data.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user))),s.data}catch(s){return r(s.response?.data?.message||"注册失败，请重试")}}),Fr=F("user/login",async(n,{rejectWithValue:r})=>{try{const s=await T.post("/auth/login",n);return s.data.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user))),s.data}catch(s){return r(s.response?.data?.message||"登录失败，请检查您的邮箱和密码")}}),ss=F("user/getCurrentUser",async(n,{rejectWithValue:r})=>{try{return(await T.get("/auth/me")).data}catch(s){return r(s.response?.data?.message||"获取用户信息失败")}}),Br=F("user/updateProfile",async(n,{rejectWithValue:r})=>{try{const s=await T.put("/auth/profile",n);return s.data.user&&localStorage.setItem("user",JSON.stringify(s.data.user)),s.data}catch(s){return r(s.response?.data?.message||"更新用户信息失败")}}),$r=F("user/changePassword",async(n,{rejectWithValue:r})=>{try{return(await T.put("/auth/password",n)).data}catch(s){return r(s.response?.data?.message||"修改密码失败")}}),Hr=F("user/logout",async(n,{rejectWithValue:r})=>{try{return localStorage.removeItem("token"),localStorage.removeItem("user"),{success:!0,message:"登出成功"}}catch(s){return r(s.response?.data?.message||"登出失败")}}),Nn=()=>{const n=localStorage.getItem("user");return n?JSON.parse(n):null},Un=()=>localStorage.getItem("token")||null,Yn=Wr({name:"user",initialState:{user:Nn(),token:Un(),loading:!1,error:null,success:!1,message:""},reducers:{clearError:n=>{n.error=null},clearMessage:n=>{n.message=""}},extraReducers:n=>{n.addCase(Gr.pending,r=>{r.loading=!0,r.error=null}).addCase(Gr.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=s.payload.user,r.token=s.payload.token,r.message=s.payload.message}).addCase(Gr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),n.addCase(Fr.pending,r=>{r.loading=!0,r.error=null}).addCase(Fr.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=s.payload.user,r.token=s.payload.token,r.message=s.payload.message}).addCase(Fr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),n.addCase(ss.pending,r=>{r.loading=!0,r.error=null}).addCase(ss.fulfilled,(r,s)=>{r.loading=!1,r.user=s.payload.user}).addCase(ss.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}),n.addCase(Br.pending,r=>{r.loading=!0,r.error=null}).addCase(Br.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=s.payload.user,r.message=s.payload.message}).addCase(Br.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),n.addCase($r.pending,r=>{r.loading=!0,r.error=null}).addCase($r.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.message=s.payload.message}).addCase($r.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),n.addCase(Hr.pending,r=>{r.loading=!0,r.error=null}).addCase(Hr.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=null,r.token=null,r.message=s.payload.message}).addCase(Hr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1})}}),Zn=Yn.reducer,We=F("game/fetchGames",async({page:n=1,...r},{rejectWithValue:s})=>{try{const i={page:n,limit:20,...r};return(await T.get("/games",{params:i})).data.data}catch(i){return s(i.response?.data?.message||"获取游戏列表失败")}}),Xn=F("game/fetchCategories",async(n,{rejectWithValue:r})=>{try{return(await T.get("/games/categories/all")).data.data}catch(s){return r(s.response?.data?.message||"获取游戏分类失败")}}),Qn=F("game/fetchTags",async(n,{rejectWithValue:r})=>{try{return(await T.get("/games/tags/all")).data.data}catch(s){return r(s.response?.data?.message||"获取游戏标签失败")}}),Vr=F("game/fetchGameDetail",async(n,{rejectWithValue:r})=>{try{return(await T.get(`/games/${n}`)).data.data}catch(s){return r(s.response?.data?.message||"获取游戏详情失败")}}),ts=F("game/launchGame",async(n,{rejectWithValue:r})=>{try{return(await T.post(`/games/${n}/launch`)).data.data}catch(s){return r(s.response?.data?.message||"游戏启动失败")}}),ns=F("game/installGame",async(n,{rejectWithValue:r})=>{try{return(await T.post(`/games/${n}/install`)).data.data}catch(s){return r(s.response?.data?.message||"游戏安装失败")}}),as=F("game/updateGame",async(n,{rejectWithValue:r})=>{try{return(await T.post(`/games/${n}/update`)).data.data}catch(s){return r(s.response?.data?.message||"游戏更新失败")}}),is=F("game/getInstallationStatus",async(n,{rejectWithValue:r})=>{try{return(await T.get(`/games/installation/${n}`)).data.data}catch(s){return r(s.response?.data?.message||"查询安装状态失败")}}),os=F("game/checkSystemRequirements",async({gameId:n,systemInfo:r},{rejectWithValue:s})=>{try{return(await T.post(`/games/${n}/check-system`,r)).data.data}catch(i){return s(i.response?.data?.message||"系统需求检测失败")}}),ls=F("game/syncGameData",async({gameId:n,syncData:r},{rejectWithValue:s})=>{try{return(await T.post(`/games/${n}/sync`,r)).data.data}catch(i){return s(i.response?.data?.message||"游戏数据同步失败")}}),ds=F("game/getGameData",async({gameId:n,dataType:r,dataName:s},{rejectWithValue:i})=>{try{const d={};return r&&(d.data_type=r),s&&(d.data_name=s),(await T.get(`/games/${n}/data`,{params:d})).data.data}catch(d){return i(d.response?.data?.message||"获取游戏数据失败")}}),cs=F("game/deleteGameData",async({gameId:n,dataId:r},{rejectWithValue:s})=>{try{return(await T.delete(`/games/${n}/data/${r}`)).data.data}catch(i){return s(i.response?.data?.message||"删除游戏数据失败")}}),xs=F("game/fetchGameReviews",async({gameId:n,page:r=1,limit:s=10},{rejectWithValue:i})=>{try{return(await T.get(`/reviews/game/${n}`,{params:{page:r,limit:s}})).data.data}catch(d){return i(d.response?.data?.message||"获取游戏评价失败")}}),hs=F("game/createGameReview",async({gameId:n,rating:r,content:s},{rejectWithValue:i})=>{try{return(await T.post(`/reviews/${n}`,{rating:r,content:s})).data.data}catch(d){return i(d.response?.data?.message||"创建游戏评价失败")}}),us=F("game/createReviewReply",async({reviewId:n,content:r},{rejectWithValue:s})=>{try{return(await T.post(`/reviews/${n}/replies`,{content:r})).data.data}catch(i){return s(i.response?.data?.message||"创建评价回复失败")}}),Jn={games:[],currentGame:null,categories:[],tags:[],totalPages:1,currentPage:1,loading:!1,gameDetailLoading:!1,operationLoading:!1,error:null,gameDetailError:null,operationError:null,filters:{search:"",categories:[],tags:[],minPrice:0,maxPrice:1e3,sortBy:"release_date",sortOrder:"desc"},currentOperationGame:null,currentInstallation:null,currentUpdate:null,installationStatus:null,systemCheckResult:null,syncResult:null,gameData:null,reviews:[],reviewsLoading:!1,reviewsError:null,reviewPagination:{currentPage:1,totalPages:1,totalItems:0},currentReview:null},Yt=Wr({name:"game",initialState:Jn,reducers:{updateFilters:(n,r)=>{n.filters={...n.filters,...r.payload}},clearGameDetail:n=>{n.currentGame=null,n.gameDetailError=null},clearError:n=>{n.error=null,n.gameDetailError=null,n.operationError=null},setCurrentOperationGame:(n,r)=>{n.currentOperationGame=r.payload}},extraReducers:n=>{n.addCase(We.pending,r=>{r.loading=!0,r.error=null}).addCase(We.fulfilled,(r,s)=>{r.loading=!1,r.games=s.payload.games,r.totalPages=s.payload.pagination.totalPages,r.currentPage=s.payload.pagination.currentPage}).addCase(We.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(Xn.fulfilled,(r,s)=>{r.categories=s.payload}).addCase(Qn.fulfilled,(r,s)=>{r.tags=s.payload}).addCase(Vr.pending,r=>{r.gameDetailLoading=!0,r.gameDetailError=null}).addCase(Vr.fulfilled,(r,s)=>{r.gameDetailLoading=!1,r.currentGame=s.payload}).addCase(Vr.rejected,(r,s)=>{r.gameDetailLoading=!1,r.gameDetailError=s.payload}).addCase(ts.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ts.fulfilled,r=>{r.operationLoading=!1}).addCase(ts.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(ns.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ns.fulfilled,(r,s)=>{r.operationLoading=!1,r.currentInstallation=s.payload}).addCase(ns.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(as.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(as.fulfilled,(r,s)=>{r.operationLoading=!1,r.currentUpdate=s.payload}).addCase(as.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(is.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(is.fulfilled,(r,s)=>{r.operationLoading=!1,r.installationStatus=s.payload}).addCase(is.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(os.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(os.fulfilled,(r,s)=>{r.operationLoading=!1,r.systemCheckResult=s.payload}).addCase(os.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(ls.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ls.fulfilled,(r,s)=>{r.operationLoading=!1,r.syncResult=s.payload}).addCase(ls.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(ds.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ds.fulfilled,(r,s)=>{r.operationLoading=!1,r.gameData=s.payload}).addCase(ds.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(cs.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(cs.fulfilled,(r,s)=>{r.operationLoading=!1,r.gameData&&r.gameData.data&&(r.gameData.data=r.gameData.data.filter(i=>i.id!==s.payload.dataId))}).addCase(cs.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(xs.pending,r=>{r.reviewsLoading=!0,r.reviewsError=null}).addCase(xs.fulfilled,(r,s)=>{r.reviewsLoading=!1,r.reviews=s.payload.reviews,r.reviewPagination=s.payload.pagination}).addCase(xs.rejected,(r,s)=>{r.reviewsLoading=!1,r.reviewsError=s.payload}).addCase(hs.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(hs.fulfilled,(r,s)=>{if(r.operationLoading=!1,r.reviews=[s.payload,...r.reviews],r.currentGame){const i=(r.currentGame.rating*r.currentGame.review_count+s.payload.rating)/(r.currentGame.review_count+1);r.currentGame={...r.currentGame,rating:parseFloat(i.toFixed(1)),review_count:r.currentGame.review_count+1}}}).addCase(hs.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(us.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(us.fulfilled,(r,s)=>{r.operationLoading=!1;const i=r.reviews.findIndex(d=>d.id===s.payload.review_id);i!==-1&&(r.reviews[i]={...r.reviews[i],replies:[...r.reviews[i].replies,s.payload]})}).addCase(us.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload})}}),{clearGameDetail:Kn}=Yt.actions,ea=Yt.reducer,ra=()=>{const n=localStorage.getItem("cart");return n?JSON.parse(n):[]},Zt=Wr({name:"cart",initialState:{items:ra(),totalAmount:0,totalItems:0},reducers:{addToCart:(n,r)=>{const{game:s}=r.payload,i=n.items.find(d=>d.id===s.id);i?i.quantity+=1:n.items.push({id:s.id,title:s.title,price:s.discount_price||s.price,originalPrice:s.price,image:s.main_image_url||"https://via.placeholder.com/300x200/6366f1/ffffff?text=Game+Image",quantity:1,isFree:s.price===0}),n.totalItems=n.items.reduce((d,h)=>d+h.quantity,0),n.totalAmount=n.items.reduce((d,h)=>d+h.price*h.quantity,0),localStorage.setItem("cart",JSON.stringify(n.items))},removeFromCart:(n,r)=>{const{gameId:s}=r.payload;n.items=n.items.filter(i=>i.id!==s),n.totalItems=n.items.reduce((i,d)=>i+d.quantity,0),n.totalAmount=n.items.reduce((i,d)=>i+d.price*d.quantity,0),localStorage.setItem("cart",JSON.stringify(n.items))},updateQuantity:(n,r)=>{const{gameId:s,quantity:i}=r.payload,d=n.items.find(h=>h.id===s);d&&i>0?(d.quantity=i,n.totalItems=n.items.reduce((h,p)=>h+p.quantity,0),n.totalAmount=n.items.reduce((h,p)=>h+p.price*p.quantity,0),localStorage.setItem("cart",JSON.stringify(n.items))):d&&i<=0&&(n.items=n.items.filter(h=>h.id!==s),n.totalItems=n.items.reduce((h,p)=>h+p.quantity,0),n.totalAmount=n.items.reduce((h,p)=>h+p.price*p.quantity,0),localStorage.setItem("cart",JSON.stringify(n.items)))},clearCart:n=>{n.items=[],n.totalItems=0,n.totalAmount=0,localStorage.removeItem("cart")},initializeCart:n=>{n.totalItems=n.items.reduce((r,s)=>r+s.quantity,0),n.totalAmount=n.items.reduce((r,s)=>r+s.price*s.quantity,0)}}}),{removeFromCart:sa,updateQuantity:$s,clearCart:ta,initializeCart:na}=Zt.actions,aa=Zt.reducer,ps=F("developer/fetchDeveloperInfo",async(n,{rejectWithValue:r})=>{try{return(await T.get("/developer/info")).data.data}catch(s){return r(s.response?.data?.message||"获取开发者信息失败")}}),fs=F("developer/fetchDeveloperGames",async({page:n=1,limit:r=10},{rejectWithValue:s})=>{try{return(await T.get("/developer/games",{params:{page:n,limit:r}})).data.data}catch(i){return s(i.response?.data?.message||"获取开发者游戏列表失败")}}),ms=F("developer/fetchDeveloperSales",async(n,{rejectWithValue:r})=>{try{return(await T.get("/developer/sales",{params:n})).data.data}catch(s){return r(s.response?.data?.message||"获取开发者销售数据失败")}}),js=F("developer/fetchDeveloperFinances",async(n,{rejectWithValue:r})=>{try{return(await T.get("/developer/finances")).data.data}catch(s){return r(s.response?.data?.message||"获取开发者财务数据失败")}}),ia={developerInfo:null,games:[],totalGames:0,totalPages:1,currentPage:1,salesData:null,financialData:null,loading:!1,gamesLoading:!1,salesLoading:!1,financesLoading:!1,error:null,gamesError:null,salesError:null,financesError:null},oa=Wr({name:"developer",initialState:ia,reducers:{clearError:n=>{n.error=null,n.gamesError=null,n.salesError=null,n.financesError=null},resetDeveloper:n=>{n.developerInfo=null,n.games=[],n.salesData=null,n.financialData=null,n.error=null}},extraReducers:n=>{n.addCase(ps.pending,r=>{r.loading=!0,r.error=null}).addCase(ps.fulfilled,(r,s)=>{r.loading=!1,r.developerInfo=s.payload}).addCase(ps.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(fs.pending,r=>{r.gamesLoading=!0,r.gamesError=null}).addCase(fs.fulfilled,(r,s)=>{r.gamesLoading=!1,r.games=s.payload.games,r.totalGames=s.payload.totalGames,r.totalPages=s.payload.totalPages,r.currentPage=s.payload.currentPage}).addCase(fs.rejected,(r,s)=>{r.gamesLoading=!1,r.gamesError=s.payload}).addCase(ms.pending,r=>{r.salesLoading=!0,r.salesError=null}).addCase(ms.fulfilled,(r,s)=>{r.salesLoading=!1,r.salesData=s.payload}).addCase(ms.rejected,(r,s)=>{r.salesLoading=!1,r.salesError=s.payload}).addCase(js.pending,r=>{r.financesLoading=!0,r.financesError=null}).addCase(js.fulfilled,(r,s)=>{r.financesLoading=!1,r.financialData=s.payload}).addCase(js.rejected,(r,s)=>{r.financesLoading=!1,r.financesError=s.payload})}}),la=oa.reducer,Nr=F("payment/createPaymentIntent",async({gameIds:n},{rejectWithValue:r})=>{try{return(await T.post("/payments/intent",{gameIds:n})).data}catch(s){return r(s.response?.data?.message||"创建支付意图失败")}}),gs=F("payment/confirmPayment",async({orderId:n,paymentIntentId:r},{rejectWithValue:s})=>{try{return(await T.post("/payments/confirm",{orderId:n,paymentIntentId:r})).data}catch(i){return s(i.response?.data?.message||"确认支付失败")}}),bs=F("payment/fetchOrderHistory",async({page:n=1,limit:r=10},{rejectWithValue:s})=>{try{return(await T.get("/payments/orders",{params:{page:n,limit:r}})).data.data}catch(i){return s(i.response?.data?.message||"获取订单历史失败")}}),vs=F("payment/fetchOrderDetail",async(n,{rejectWithValue:r})=>{try{return(await T.get(`/payments/orders/${n}`)).data.data}catch(s){return r(s.response?.data?.message||"获取订单详情失败")}}),da={loading:!1,paymentIntent:null,paymentSuccess:!1,order:null,orders:[],totalPages:1,currentPage:1,error:null},ca=Wr({name:"payment",initialState:da,reducers:{resetPayment:n=>{n.paymentIntent=null,n.paymentSuccess=!1,n.error=null},clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(Nr.pending,r=>{r.loading=!0,r.error=null}).addCase(Nr.fulfilled,(r,s)=>{r.loading=!1,r.paymentIntent=s.payload}).addCase(Nr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(gs.pending,r=>{r.loading=!0,r.error=null}).addCase(gs.fulfilled,(r,s)=>{r.loading=!1,r.paymentSuccess=!0,r.order=s.payload.order}).addCase(gs.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(bs.pending,r=>{r.loading=!0,r.error=null}).addCase(bs.fulfilled,(r,s)=>{r.loading=!1,r.orders=s.payload.orders,r.totalPages=s.payload.pagination.totalPages,r.currentPage=s.payload.pagination.currentPage}).addCase(bs.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(vs.pending,r=>{r.loading=!0,r.error=null}).addCase(vs.fulfilled,(r,s)=>{r.loading=!1,r.order=s.payload}).addCase(vs.rejected,(r,s)=>{r.loading=!1,r.error=s.payload})}}),xa=ca.reducer,ha=en({reducer:{user:Zn,game:ea,cart:aa,developer:la,payment:xa},middleware:n=>n({serializableCheck:{ignoredActions:["user/login/fulfilled"],ignoredPaths:["user.token","user.refreshToken"]}})}),ua=()=>{const n=re(),r=ae(),[s,i]=x.useState(""),d=c=>{i(c.target.value)},h=c=>{c.preventDefault(),s.trim()&&(r(We({page:1,search:s.trim()})),n(`/games?search=${encodeURIComponent(s.trim())}`))},p=[{id:1,title:"赛博朋克2077",price:298,discountPrice:149,image:"https://via.placeholder.com/300x200/6366f1/ffffff?text=Cyberpunk+2077",rating:4.5},{id:2,title:"艾尔登法环",price:298,discountPrice:199,image:"https://via.placeholder.com/300x200/ec4899/ffffff?text=Elden+Ring",rating:4.8},{id:3,title:"星穹铁道",price:0,discountPrice:0,image:"https://via.placeholder.com/300x200/10b981/ffffff?text=Star+Rail",rating:4.6},{id:4,title:"原神",price:0,discountPrice:0,image:"https://via.placeholder.com/300x200/f59e0b/ffffff?text=Genshin+Impact",rating:4.7}],R=[{id:5,title:"黑神话：悟空",price:268,discountPrice:268,image:"https://via.placeholder.com/300x200/ef4444/ffffff?text=Black+Myth",rating:4.9},{id:6,title:"星球大战：亡命徒",price:298,discountPrice:249,image:"https://via.placeholder.com/300x200/6366f1/ffffff?text=Star+Wars",rating:4.4},{id:7,title:"漫威蜘蛛人2",price:468,discountPrice:399,image:"https://via.placeholder.com/300x200/8b5cf6/ffffff?text=Spider+Man+2",rating:4.7},{id:8,title:"霍格沃茨之遗",price:298,discountPrice:199,image:"https://via.placeholder.com/300x200/14b8a6/ffffff?text=Hogwarts+Legacy",rating:4.5}];return e.jsxs(t,{sx:{bgcolor:"#0f172a",minHeight:"calc(100vh - 64px - 240px)"},children:[e.jsx(t,{sx:{bgcolor:"#1e293b",py:8,px:2},children:e.jsx(V,{maxWidth:"xl",children:e.jsxs(l,{container:!0,spacing:4,alignItems:"center",children:[e.jsxs(l,{item:!0,xs:12,md:7,children:[e.jsx(a,{variant:"h3",component:"h1",sx:{fontWeight:"bold",color:"#ffffff",mb:2},children:"发现你的下一款游戏"}),e.jsx(a,{variant:"h6",sx:{color:"rgba(255, 255, 255, 0.7)",mb:4},children:"在木鱼游戏平台，探索海量优质游戏，与全球玩家一起畅玩。"}),e.jsxs(t,{sx:{display:"flex",gap:2,mb:4,flexWrap:"wrap"},children:[e.jsx(m,{variant:"contained",size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4,py:1.5,fontSize:"1rem"},onClick:()=>n("/games"),children:"浏览游戏"}),e.jsx(m,{variant:"outlined",size:"large",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff"},px:4,py:1.5,fontSize:"1rem"},onClick:()=>n("/download"),children:"下载客户端"})]}),e.jsxs(t,{sx:{display:"flex",gap:4,alignItems:"center"},children:[e.jsxs(t,{children:[e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"超过100万玩家"}),e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"全球活跃用户"})]}),e.jsxs(t,{children:[e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"5000+游戏"}),e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"丰富的游戏库"})]}),e.jsxs(t,{children:[e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"98%好评率"}),e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"用户满意度"})]})]})]}),e.jsx(l,{item:!0,xs:12,md:5,sx:{display:"flex",justifyContent:"center",mt:{xs:4,md:0}},children:e.jsx(t,{sx:{position:"relative",width:"100%",maxWidth:400},children:e.jsx("img",{src:"https://via.placeholder.com/400x300/6366f1/ffffff?text=木鱼游戏",alt:"木鱼游戏",style:{width:"100%",borderRadius:12,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)"}})})})]})})}),e.jsx(t,{sx:{py:4,px:2},children:e.jsx(V,{maxWidth:"md",children:e.jsx(j,{sx:{p:2,bgcolor:"#1e293b",boxShadow:3,borderRadius:2},children:e.jsxs(t,{component:"form",onSubmit:h,sx:{display:"flex",gap:1},children:[e.jsx($,{fullWidth:!0,placeholder:"搜索游戏、开发者或标签",variant:"outlined",size:"small",value:s,onChange:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.1)","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiInputBase-input":{color:"white"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"}}}),e.jsx(m,{type:"submit",variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:2,px:4},children:"搜索"})]})})})}),e.jsxs(V,{maxWidth:"xl",sx:{py:6},children:[e.jsxs(t,{sx:{mb:4},children:[e.jsx(a,{variant:"h4",component:"h2",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:"热门游戏"}),e.jsx(a,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"查看当前最受欢迎的游戏"})]}),e.jsx(l,{container:!0,spacing:4,children:p.map(c=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(Yr,{sx:{bgcolor:"#1e293b",borderRadius:2,overflow:"hidden",boxShadow:3,transition:"transform 0.3s","&:hover":{transform:"translateY(-5px)"}},children:[e.jsxs(t,{sx:{position:"relative"},children:[e.jsx(Ws,{component:"img",height:"180",image:c.image,alt:c.title}),c.discountPrice<c.price&&e.jsxs(t,{sx:{position:"absolute",top:8,right:8,bgcolor:"#ef4444",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:[Math.round((c.price-c.discountPrice)/c.price*100),"% OFF"]}),c.price===0&&e.jsx(t,{sx:{position:"absolute",top:8,right:8,bgcolor:"#10b981",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:"免费"})]}),e.jsxs(Zr,{children:[e.jsx(a,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:c.title}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",color:"#f59e0b"},children:Array.from({length:5}).map((b,y)=>e.jsx("span",{sx:{fontSize:"1rem"},children:y<Math.floor(c.rating)||y<c.rating?"★":"☆"},y))}),e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:c.rating})]}),e.jsx(t,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:c.discountPrice<c.price?e.jsxs(e.Fragment,{children:[e.jsxs(a,{variant:"body2",sx:{color:"#ef4444",fontWeight:"bold"},children:["¥",c.discountPrice]}),e.jsxs(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)",textDecoration:"line-through"},children:["¥",c.price]})]}):c.price===0?e.jsx(a,{variant:"body2",sx:{color:"#10b981",fontWeight:"bold"},children:"免费"}):e.jsxs(a,{variant:"body2",sx:{color:"#ffffff",fontWeight:"bold"},children:["¥",c.price]})}),e.jsx(t,{sx:{display:"flex",gap:1},children:e.jsx(m,{variant:"contained",fullWidth:!0,size:"small",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},onClick:()=>n(`/game/${c.id}`),children:"查看详情"})})]})]})},c.id))}),e.jsx(t,{sx:{display:"flex",justifyContent:"center",mt:6},children:e.jsx(m,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff",bgcolor:"rgba(255, 255, 255, 0.1)"},borderRadius:2,px:4},onClick:()=>n("/games"),children:"查看更多热门游戏"})})]}),e.jsx(Q,{sx:{bgcolor:"rgba(255, 255, 255, 0.1)",my:6}}),e.jsxs(V,{maxWidth:"xl",sx:{py:0,pb:6},children:[e.jsxs(t,{sx:{mb:4},children:[e.jsx(a,{variant:"h4",component:"h2",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:"最新发布"}),e.jsx(a,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"探索最新上架的游戏"})]}),e.jsx(l,{container:!0,spacing:4,children:R.map(c=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(Yr,{sx:{bgcolor:"#1e293b",borderRadius:2,overflow:"hidden",boxShadow:3,transition:"transform 0.3s","&:hover":{transform:"translateY(-5px)"}},children:[e.jsxs(t,{sx:{position:"relative"},children:[e.jsx(Ws,{component:"img",height:"180",image:c.image,alt:c.title}),c.discountPrice<c.price&&e.jsxs(t,{sx:{position:"absolute",top:8,right:8,bgcolor:"#ef4444",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:[Math.round((c.price-c.discountPrice)/c.price*100),"% OFF"]}),c.price===0&&e.jsx(t,{sx:{position:"absolute",top:8,right:8,bgcolor:"#10b981",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:"免费"})]}),e.jsxs(Zr,{children:[e.jsx(a,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:c.title}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",color:"#f59e0b"},children:Array.from({length:5}).map((b,y)=>e.jsx("span",{sx:{fontSize:"1rem"},children:y<Math.floor(c.rating)||y<c.rating?"★":"☆"},y))}),e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:c.rating})]}),e.jsx(t,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:c.discountPrice<c.price?e.jsxs(e.Fragment,{children:[e.jsxs(a,{variant:"body2",sx:{color:"#ef4444",fontWeight:"bold"},children:["¥",c.discountPrice]}),e.jsxs(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)",textDecoration:"line-through"},children:["¥",c.price]})]}):c.price===0?e.jsx(a,{variant:"body2",sx:{color:"#10b981",fontWeight:"bold"},children:"免费"}):e.jsxs(a,{variant:"body2",sx:{color:"#ffffff",fontWeight:"bold"},children:["¥",c.price]})}),e.jsx(t,{sx:{display:"flex",gap:1},children:e.jsx(m,{variant:"contained",fullWidth:!0,size:"small",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},onClick:()=>n(`/game/${c.id}`),children:"查看详情"})})]})]})},c.id))}),e.jsx(t,{sx:{display:"flex",justifyContent:"center",mt:6},children:e.jsx(m,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff",bgcolor:"rgba(255, 255, 255, 0.1)"},borderRadius:2,px:4},onClick:()=>n("/games"),children:"查看更多最新游戏"})})]}),e.jsx(t,{sx:{bgcolor:"#1e293b",py:8,px:2,mt:6},children:e.jsx(V,{maxWidth:"xl",children:e.jsxs(l,{container:!0,spacing:4,alignItems:"center",children:[e.jsxs(l,{item:!0,xs:12,md:6,sx:{order:{xs:2,md:1}},children:[e.jsx(a,{variant:"h4",component:"h2",sx:{fontWeight:"bold",color:"#ffffff",mb:2},children:"下载木鱼游戏客户端"}),e.jsx(a,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)",mb:4},children:"体验更流畅的游戏购买、下载和管理体验。支持Windows、macOS等主流操作系统。"}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2,mb:4},children:[e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsx(m,{variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:2,px:4,py:1.5,fontSize:"1rem"},children:"Windows 下载"}),e.jsx(m,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff"},borderRadius:2,px:4,py:1.5,fontSize:"1rem"},children:"macOS 下载"})]}),e.jsx(m,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff"},borderRadius:2,px:4,py:1.5,fontSize:"1rem"},children:"Linux 下载"})]}),e.jsxs(t,{sx:{display:"flex",gap:4},children:[e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"版本"}),e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"v1.0.0"})]}),e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"文件大小"}),e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"200 MB"})]}),e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"更新日期"}),e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"2025-12-04"})]})]})]}),e.jsx(l,{item:!0,xs:12,md:6,sx:{display:"flex",justifyContent:"center",order:{xs:1,md:2},mt:{xs:4,md:0}},children:e.jsx(t,{sx:{position:"relative",width:"100%",maxWidth:400},children:e.jsx("img",{src:"https://via.placeholder.com/400x300/6366f1/ffffff?text=木鱼游戏客户端",alt:"木鱼游戏客户端",style:{width:"100%",borderRadius:12,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)"}})})})]})})})]})};var Me={},ys={};const pa=rn(sn);var Hs;function _(){return Hs||(Hs=1,(function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=pa})(ys)),ys}var Vs;function fa(){if(Vs)return Me;Vs=1;var n=W();Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var r=n(_()),s=k();return Me.default=(0,r.default)((0,s.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart"),Me}var ma=fa();const Ce=I(ma);var qe={},Ns;function ja(){if(Ns)return qe;Ns=1;var n=W();Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=void 0;var r=n(_()),s=k();return qe.default=(0,r.default)((0,s.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),qe}var ga=ja();const _s=I(ga);var Le={},Us;function ba(){if(Us)return Le;Us=1;var n=W();Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var r=n(_()),s=k();return Le.default=(0,r.default)((0,s.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"}),"StarBorder"),Le}var va=ba();const Ys=I(va),Lr=({game:n,onGameClick:r,onAddToCart:s})=>{const i=h=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY",minimumFractionDigits:2}).format(h),d=h=>{const p=Math.floor(h),R=h%1>=.5,c=5-p-(R?1:0);return e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[[...Array(p)].map((b,y)=>e.jsx(_s,{sx:{color:"#fbbf24",fontSize:16}},`full-${y}`)),R&&e.jsxs(t,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(Ys,{sx:{color:"#fbbf24",fontSize:16}}),e.jsx(t,{sx:{position:"absolute",left:0,top:0,overflow:"hidden",width:"50%"},children:e.jsx(_s,{sx:{color:"#fbbf24",fontSize:16}})})]}),[...Array(c)].map((b,y)=>e.jsx(Ys,{sx:{color:"#fbbf24",fontSize:16}},`empty-${y}`)),e.jsxs(a,{variant:"body2",sx:{ml:1,color:"text.secondary"},children:["(",n.review_count,")"]})]})};return e.jsxs(Yr,{className:"game-card",sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:2,transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(99, 102, 241, 0.3)"}},children:[e.jsxs(tn,{onClick:()=>r(n.id),sx:{flexGrow:1},children:[e.jsxs(t,{sx:{position:"relative"},children:[e.jsx(Ws,{component:"img",height:"200",image:n.main_image_url||"https://via.placeholder.com/400x200?text=Game+Image",alt:n.title,sx:{objectFit:"cover",borderRadius:2}}),n.discount_price&&n.discount_price<n.price&&e.jsxs(t,{sx:{position:"absolute",top:8,right:8,backgroundColor:"#ef4444",color:"white",padding:"4px 8px",borderRadius:1,fontWeight:700,fontSize:"0.8rem",boxShadow:2},children:[Math.round((1-n.discount_price/n.price)*100),"% OFF"]})]}),e.jsxs(Zr,{children:[e.jsx(t,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:1},children:n.categories?.slice(0,2).map(h=>e.jsx(O,{label:h.name,size:"small",sx:{backgroundColor:"#475569",color:"white","&:hover":{backgroundColor:"#64748b"}}},h.id))}),e.jsx(a,{gutterBottom:!0,variant:"h6",component:"h2",sx:{fontWeight:600},children:n.title}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{lineHeight:1.6,mb:2},children:n.description.length>100?`${n.description.substring(0,100)}...`:n.description}),d(n.rating||0)]})]}),e.jsxs(nn,{sx:{justifyContent:"space-between",p:2},children:[e.jsx(t,{children:n.discount_price&&n.discount_price<n.price?e.jsxs(t,{children:[e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#6366f1"},children:i(n.discount_price)}),e.jsx(a,{variant:"body2",sx:{textDecoration:"line-through",color:"text.secondary"},children:i(n.price)})]}):e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#6366f1"},children:i(n.price)})}),e.jsx(m,{variant:"contained",color:"primary",startIcon:e.jsx(Ce,{}),onClick:h=>{h.stopPropagation(),s(n)},sx:{borderRadius:2},children:"加入购物车"})]})]})};var Ae={},Zs;function ya(){if(Zs)return Ae;Zs=1;var n=W();Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=void 0;var r=n(_()),s=k();return Ae.default=(0,r.default)((0,s.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),Ae}var wa=ya();const Ca=I(wa),Sa=()=>{const n=ae(),{games:r,loading:s,error:i,totalPages:d,currentPage:h}=ee(S=>S.game),[p,R]=x.useState({search:"",categories:[],tags:[],minPrice:0,maxPrice:1e3,sortBy:"release_date",sortOrder:"desc"}),[c,b]=x.useState(!1),[y,w]=x.useState(""),[v,G]=x.useState([]),[C,M]=x.useState([]),[o,D]=x.useState([]),[f,u]=x.useState([]);x.useEffect(()=>{n(We({page:1,...p}))},[n,p]);const L=S=>{window.location.href=`/game/${S}`},P=S=>{w(`${S.title} 已加入购物车`),b(!0)},Y=()=>{b(!1)};return x.useEffect(()=>{if(r.length>0){const S=[...r].filter(X=>X.rating>=4).sort((X,ce)=>ce.rating-X.rating).slice(0,4);G(S);const Z=[...r].sort((X,ce)=>new Date(ce.release_date)-new Date(X.release_date)).slice(0,8);M(Z);const ie=new Date;ie.setDate(ie.getDate()-30);const z=[...r].filter(X=>new Date(X.release_date)>=ie).sort((X,ce)=>new Date(ce.release_date)-new Date(X.release_date)).slice(0,8);D(z);const oe=[...r].sort((X,ce)=>{const Pe=X.rating*Math.log(X.review_count+1);return ce.rating*Math.log(ce.review_count+1)-Pe}).slice(0,8);u(oe)}},[r]),e.jsxs(V,{maxWidth:"xl",children:[e.jsxs(t,{sx:{py:4},children:[e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:700},children:"木鱼游戏"}),e.jsx(a,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:"发现最新、最热门的游戏"})]}),v.length>0&&e.jsxs(t,{sx:{mb:6},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"精选游戏"}),e.jsx(j,{sx:{p:4,borderRadius:2,background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",color:"white"},children:e.jsxs(l,{container:!0,spacing:3,alignItems:"center",children:[e.jsxs(l,{item:!0,xs:12,md:8,children:[e.jsx(a,{variant:"h4",component:"h3",sx:{fontWeight:700,mb:2},children:v[0].title}),e.jsx(a,{variant:"body1",sx:{mb:3,opacity:.9},children:v[0].description.length>200?`${v[0].description.substring(0,200)}...`:v[0].description}),e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsx(Button,{variant:"contained",onClick:()=>L(v[0].id),sx:{bgcolor:"white",color:"#6366f1","&:hover":{bgcolor:"#f3f4f6"}},children:"查看详情"}),e.jsx(Button,{variant:"outlined",onClick:()=>P(v[0]),sx:{borderColor:"white",color:"white","&:hover":{bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"加入购物车"})]})]}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(t,{sx:{borderRadius:2,overflow:"hidden",boxShadow:3},children:e.jsx("img",{src:v[0].main_image_url||"https://via.placeholder.com/400x200?text=Game+Image",alt:v[0].title,style:{width:"100%",height:"200px",objectFit:"cover"}})})})]})})]}),C.length>0&&e.jsxs(t,{sx:{mb:6},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"推荐游戏"}),e.jsx(t,{sx:{overflowX:"auto",pb:2},children:e.jsx(l,{container:!0,spacing:3,sx:{minWidth:"min-content"},children:C.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,sx:{minWidth:"250px"},children:e.jsx(Lr,{game:S,onGameClick:L,onAddToCart:P})},S.id))})})]}),o.length>0&&e.jsxs(t,{sx:{mb:6},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"新发布游戏"}),e.jsx(t,{sx:{overflowX:"auto",pb:2},children:e.jsx(l,{container:!0,spacing:3,sx:{minWidth:"min-content"},children:o.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,sx:{minWidth:"250px"},children:e.jsx(Lr,{game:S,onGameClick:L,onAddToCart:P})},S.id))})})]}),f.length>0&&e.jsxs(t,{sx:{mb:6},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"热门游戏"}),e.jsx(t,{sx:{overflowX:"auto",pb:2},children:e.jsx(l,{container:!0,spacing:3,sx:{minWidth:"min-content"},children:f.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,sx:{minWidth:"250px"},children:e.jsx(Lr,{game:S,onGameClick:L,onAddToCart:P})},S.id))})})]}),e.jsx(l,{container:!0,spacing:4,children:e.jsxs(l,{item:!0,xs:12,children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(a,{variant:"h5",component:"h2",sx:{fontWeight:600},children:"所有游戏"}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["共 ",r.length," 款游戏"]})]}),s?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(fe,{size:60})}):i?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(J,{severity:"error",sx:{width:"100%",maxWidth:500},children:i})}):r.length===0?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(J,{severity:"info",sx:{width:"100%",maxWidth:500},children:"未找到符合条件的游戏"})}):e.jsx(l,{container:!0,spacing:3,children:r.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsx(Lr,{game:S,onGameClick:L,onAddToCart:P})},S.id))}),d>1&&e.jsx(t,{sx:{display:"flex",justifyContent:"center",mt:4}})]})}),e.jsx(Qr,{open:c,autoHideDuration:3e3,onClose:Y,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(J,{onClose:Y,severity:"success",sx:{width:"100%"},children:y})})]})};var Ee={},Xs;function Ia(){if(Xs)return Ee;Xs=1;var n=W();Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=void 0;var r=n(_()),s=k();return Ee.default=(0,r.default)((0,s.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Ee}var Ra=Ia();const ke=I(Ra);var Oe={},Qs;function Wa(){if(Qs)return Oe;Qs=1;var n=W();Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var r=n(_()),s=k();return Oe.default=(0,r.default)((0,s.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),Oe}var ka=Wa();const Xt=I(ka);var Te={},Js;function _a(){if(Js)return Te;Js=1;var n=W();Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var r=n(_()),s=k();return Te.default=(0,r.default)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Te}var za=_a();const Ls=I(za);var Ge={},Ks;function Pa(){if(Ks)return Ge;Ks=1;var n=W();Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=void 0;var r=n(_()),s=k();return Ge.default=(0,r.default)((0,s.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),Ge}var Da=Pa();const zs=I(Da);var Fe={},et;function Ma(){if(et)return Fe;et=1;var n=W();Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0;var r=n(_()),s=k();return Fe.default=(0,r.default)((0,s.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96"}),"Cloud"),Fe}var qa=Ma();const Ar=I(qa);var Be={},rt;function La(){if(rt)return Be;rt=1;var n=W();Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=void 0;var r=n(_()),s=k();return Be.default=(0,r.default)((0,s.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),Be}var Aa=La();const Ea=I(Aa);var $e={},st;function Oa(){if(st)return $e;st=1;var n=W();Object.defineProperty($e,"__esModule",{value:!0}),$e.default=void 0;var r=n(_()),s=k();return $e.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),$e}var Ta=Oa();const me=I(Ta);var He={},tt;function Ga(){if(tt)return He;tt=1;var n=W();Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var r=n(_()),s=k();return He.default=(0,r.default)((0,s.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),He}var Fa=Ga();const Ba=I(Fa);var Ve={},nt;function $a(){if(nt)return Ve;nt=1;var n=W();Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;var r=n(_()),s=k();return Ve.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),Ve}var Ha=$a();const Ne=I(Ha);var Ue={},at;function Va(){if(at)return Ue;at=1;var n=W();Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var r=n(_()),s=k();return Ue.default=(0,r.default)((0,s.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),Ue}var Na=Va();const Er=I(Na);var Ye={},it;function Ua(){if(it)return Ye;it=1;var n=W();Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=void 0;var r=n(_()),s=k();return Ye.default=(0,r.default)((0,s.jsx)("path",{d:"M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6z"}),"SettingsInputComponent"),Ye}var Ya=Ua();const ws=I(Ya);var Ze={},ot;function Za(){if(ot)return Ze;ot=1;var n=W();Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=void 0;var r=n(_()),s=k();return Ze.default=(0,r.default)((0,s.jsx)("path",{d:"M15 9H9v6h6zm-2 4h-2v-2h2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2zm-4 6H7V7h10z"}),"Memory"),Ze}var Xa=Za();const lt=I(Xa);var Xe={},dt;function Qa(){if(dt)return Xe;dt=1;var n=W();Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;var r=n(_()),s=k();return Xe.default=(0,r.default)((0,s.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}),"GpsFixed"),Xe}var Ja=Qa();const ct=I(Ja),Ka=()=>{const{id:n}=an(),r=re(),s=ae(),{currentGame:i,gameDetailLoading:d,gameDetailError:h}=ee(q=>q.game),[p,R]=x.useState(0),[c,b]=x.useState(!1),[y,w]=x.useState(""),[v,G]=x.useState(!1),[C,M]=x.useState(0),[o,D]=x.useState({isChecking:!1,results:{cpu:{passed:!0,value:"Intel i5-8400",required:"Intel i5-4590"},memory:{passed:!0,value:"16 GB",required:"8 GB"},graphics:{passed:!0,value:"NVIDIA GTX 1660",required:"NVIDIA GTX 970"},storage:{passed:!0,value:"512 GB SSD",required:"100 GB HDD"},os:{passed:!0,value:"Windows 10 64-bit",required:"Windows 7 64-bit"}}}),[f,u]=x.useState({isSyncing:!1,progress:0,lastSynced:new Date().toLocaleString("zh-CN")});x.useEffect(()=>(s(Vr(n)),()=>{s(Kn())}),[s,n]);const L=(q,B)=>{R(B)},P=()=>{r(-1)},Y=()=>{i&&(w(`${i.title} 已加入购物车`),b(!0))},S=()=>{i&&(w("开始下载游戏..."),b(!0))},Z=()=>{if(!i)return;w("正在启动游戏..."),b(!0),G(!0),M(0);const q=setInterval(()=>{M(B=>{const he=B+10;return he>=100&&(clearInterval(q),G(!1),w("游戏启动成功！"),b(!0)),he})},500)},ie=()=>{D(q=>({...q,isChecking:!0})),setTimeout(()=>{D(q=>({...q,isChecking:!1})),w("系统需求检测完成！"),b(!0)},1500)},z=()=>{u(B=>({...B,isSyncing:!0,progress:0}));const q=setInterval(()=>{u(B=>{const he=B.progress+20;return he>=100?(clearInterval(q),{...B,isSyncing:!1,progress:100,lastSynced:new Date().toLocaleString("zh-CN")}):{...B,progress:he}})},300)},oe=()=>{b(!1)},X=q=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY",minimumFractionDigits:2}).format(q),ce=q=>{if(q===0)return"0 Bytes";const B=1024,he=["Bytes","KB","MB","GB","TB"],As=Math.floor(Math.log(q)/Math.log(B));return parseFloat((q/Math.pow(B,As)).toFixed(2))+" "+he[As]},Pe=()=>!i||!i.screenshots?e.jsx(t,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无截图"})}):e.jsx(t,{sx:{display:"flex",gap:2,overflowX:"auto",py:2,pb:3},children:i.screenshots.map((q,B)=>e.jsx(t,{sx:{flex:"0 0 auto",width:400,height:225,borderRadius:2,overflow:"hidden",boxShadow:2},children:e.jsx("img",{src:q.url||"https://via.placeholder.com/400x225?text=Screenshot",alt:`${i.title} Screenshot ${B+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},B))}),se=()=>{if(!i||!i.system_requirements)return e.jsx(t,{sx:{py:2},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无系统需求信息"})});const q=i.system_requirements.find(he=>he.type==="minimum"),B=i.system_requirements.find(he=>he.type==="recommended");return e.jsxs(t,{children:[e.jsx(t,{sx:{mb:3,display:"flex",justifyContent:"center"},children:e.jsx(m,{variant:"contained",size:"large",startIcon:o.isChecking?e.jsx(fe,{size:20,color:"inherit"}):e.jsx(ws,{}),onClick:ie,disabled:o.isChecking,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:o.isChecking?"正在检测...":"检测系统需求"})}),!o.isChecking&&e.jsxs(t,{sx:{mb:4},children:[e.jsx(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"系统检测结果"}),e.jsx(j,{sx:{p:3,borderRadius:2,mb:3},children:e.jsxs(ue,{children:[e.jsxs(A,{children:[e.jsx(pe,{children:e.jsx(de,{sx:{bgcolor:o.results.cpu.passed?"#10b981":"#ef4444"},children:o.results.cpu.passed?e.jsx(me,{}):e.jsx(Ne,{})})}),e.jsx(E,{primary:"CPU",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:o.results.cpu.value})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:o.results.cpu.required})]})]})})]}),e.jsxs(A,{children:[e.jsx(pe,{children:e.jsx(de,{sx:{bgcolor:o.results.memory.passed?"#10b981":"#ef4444"},children:o.results.memory.passed?e.jsx(me,{}):e.jsx(Ne,{})})}),e.jsx(E,{primary:"内存",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:o.results.memory.value})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:o.results.memory.required})]})]})})]}),e.jsxs(A,{children:[e.jsx(pe,{children:e.jsx(de,{sx:{bgcolor:o.results.graphics.passed?"#10b981":"#ef4444"},children:o.results.graphics.passed?e.jsx(me,{}):e.jsx(Ne,{})})}),e.jsx(E,{primary:"显卡",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:o.results.graphics.value})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:o.results.graphics.required})]})]})})]}),e.jsxs(A,{children:[e.jsx(pe,{children:e.jsx(de,{sx:{bgcolor:o.results.storage.passed?"#10b981":"#ef4444"},children:o.results.storage.passed?e.jsx(me,{}):e.jsx(Ne,{})})}),e.jsx(E,{primary:"存储空间",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:o.results.storage.value})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:o.results.storage.required})]})]})})]}),e.jsxs(A,{children:[e.jsx(pe,{children:e.jsx(de,{sx:{bgcolor:o.results.os.passed?"#10b981":"#ef4444"},children:o.results.os.passed?e.jsx(me,{}):e.jsx(Ne,{})})}),e.jsx(E,{primary:"操作系统",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:o.results.os.value})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:o.results.os.required})]})]})})]})]})})]}),e.jsxs(l,{container:!0,spacing:4,sx:{py:2},children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"最低配置"}),q?e.jsxs(t,{children:[e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ct,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"操作系统"})]}),e.jsx(a,{variant:"body1",children:q.os})]}),e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ws,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"处理器"})]}),e.jsx(a,{variant:"body1",children:q.processor})]}),e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(lt,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"内存"})]}),e.jsx(a,{variant:"body1",children:q.memory})]}),e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Er,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"显卡"})]}),e.jsx(a,{variant:"body1",children:q.graphics})]}),e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Er,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"存储空间"})]}),e.jsx(a,{variant:"body1",children:q.storage})]})]}):e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无最低配置信息"})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"推荐配置"}),B?e.jsxs(t,{children:[e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ct,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"操作系统"})]}),e.jsx(a,{variant:"body1",children:B.os})]}),e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ws,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"处理器"})]}),e.jsx(a,{variant:"body1",children:B.processor})]}),e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(lt,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"内存"})]}),e.jsx(a,{variant:"body1",children:B.memory})]}),e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Er,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"显卡"})]}),e.jsx(a,{variant:"body1",children:B.graphics})]}),e.jsxs(t,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Er,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"存储空间"})]}),e.jsx(a,{variant:"body1",children:B.storage})]})]}):e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无推荐配置信息"})]})})]})]})},le=()=>!i||!i.developer?e.jsx(t,{sx:{py:2},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无开发者信息"})}):e.jsx(t,{sx:{py:2},children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:i.developer.company_name}),i.developer.bio&&e.jsx(t,{sx:{mb:3},children:e.jsx(a,{variant:"body1",sx:{lineHeight:1.8},children:i.developer.bio})}),e.jsxs(t,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[i.developer.contact_email&&e.jsx(O,{label:`联系邮箱: ${i.developer.contact_email}`,variant:"outlined"}),i.developer.website&&e.jsx(O,{label:`官网: ${i.developer.website}`,variant:"outlined"})]})]})}),De=()=>!i||!i.versions?e.jsx(t,{sx:{py:2},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无版本信息"})}):e.jsx(t,{sx:{py:2},children:i.versions.map(q=>e.jsxs(j,{sx:{p:3,borderRadius:2,mb:2},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(t,{children:[e.jsxs(a,{variant:"h6",component:"h4",sx:{fontWeight:600},children:["版本 ",q.version_number]}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["发布日期: ",new Date(q.release_date).toLocaleDateString("zh-CN")]})]}),e.jsxs(t,{sx:{display:"flex",gap:1},children:[e.jsx(O,{label:q.platform.toUpperCase(),color:"primary",size:"small"}),e.jsx(O,{label:ce(q.file_size),variant:"outlined",size:"small"})]})]}),q.changelog&&e.jsxs(t,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"更新日志:"}),e.jsx(a,{variant:"body2",sx:{lineHeight:1.8,whiteSpace:"pre-line"},children:q.changelog})]}),e.jsx(m,{variant:"contained",startIcon:e.jsx(ke,{}),size:"small",sx:{mt:1},onClick:S,children:"下载此版本"})]},q.id))}),[kr,Po]=x.useState([]),[Do,Mo]=x.useState(!1),[qo,Lo]=x.useState(null),[Ao,Eo]=x.useState(0),[Oo,To]=x.useState(""),[Go,Fo]=x.useState(!1),[Bo,$o]=x.useState(""),[Ho,Vo]=x.useState(null),Jt=()=>e.jsxs(t,{sx:{py:2},children:[e.jsxs(j,{sx:{p:3,borderRadius:2,mb:3},children:[e.jsxs(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ar,{}),"游戏数据同步"]}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary",mb:1},children:"同步状态"}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsx(a,{variant:"body1",children:f.isSyncing?e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(fe,{size:20,color:"primary"}),e.jsx("span",{children:"正在同步数据..."})]}):f.progress===100?e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,color:"#10b981"},children:[e.jsx(me,{}),e.jsx("span",{children:"数据已同步"})]}):e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1,color:"#f59e0b"},children:[e.jsx(Ba,{}),e.jsx("span",{children:"数据未同步"})]})}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["最后同步: ",f.lastSynced]})]}),e.jsx(Es,{variant:f.isSyncing?"determinate":"indeterminate",value:f.progress,sx:{height:8,borderRadius:4,mb:2}}),f.progress>0&&!f.isSyncing&&e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"同步进度"}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:[f.progress,"%"]})]})]}),e.jsxs(t,{sx:{mb:3},children:[e.jsx(a,{variant:"subtitle2",sx:{fontWeight:600,mb:2},children:"同步选项"}),e.jsxs(t,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(O,{label:"存档",color:"primary",variant:"outlined"}),e.jsx(O,{label:"设置",color:"primary",variant:"outlined"}),e.jsx(O,{label:"成就",color:"primary",variant:"outlined"}),e.jsx(O,{label:"好友",color:"primary",variant:"outlined"})]})]}),e.jsx(m,{variant:"contained",size:"large",startIcon:f.isSyncing?e.jsx(fe,{size:20,color:"inherit"}):e.jsx(Ea,{}),onClick:z,disabled:f.isSyncing,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:f.isSyncing?"正在同步...":"立即同步"})]}),e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"同步历史"}),e.jsxs(ue,{children:[e.jsxs(A,{children:[e.jsx(E,{primary:"游戏存档同步",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:"状态:"}),e.jsx("span",{style:{color:"#10b981",fontWeight:"bold"},children:"已完成"})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"时间:"}),e.jsx("span",{children:f.lastSynced})]})]})}),e.jsx(U,{edge:"end","aria-label":"more",children:e.jsx(Ar,{})})]}),e.jsx(Q,{variant:"inset",component:"li"}),e.jsxs(A,{children:[e.jsx(E,{primary:"成就数据同步",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:"状态:"}),e.jsx("span",{style:{color:"#10b981",fontWeight:"bold"},children:"已完成"})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"时间:"}),e.jsx("span",{children:new Date(Date.now()-864e5).toLocaleString("zh-CN")})]})]})}),e.jsx(U,{edge:"end","aria-label":"more",children:e.jsx(Ar,{})})]}),e.jsx(Q,{variant:"inset",component:"li"}),e.jsxs(A,{children:[e.jsx(E,{primary:"游戏设置同步",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:"状态:"}),e.jsx("span",{style:{color:"#f59e0b",fontWeight:"bold"},children:"同步中"})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"时间:"}),e.jsx("span",{children:new Date(Date.now()-1728e5).toLocaleString("zh-CN")})]})]})}),e.jsx(U,{edge:"end","aria-label":"more",children:e.jsx(Ar,{})})]})]})]})]});return e.jsxs(V,{maxWidth:"xl",children:[e.jsxs(t,{sx:{py:4},children:[e.jsx(m,{startIcon:e.jsx(Ls,{}),variant:"outlined",sx:{mb:3},onClick:P,children:"返回"}),d?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:500},children:e.jsx(fe,{size:80})}):h?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:500},children:e.jsx(J,{severity:"error",sx:{width:"100%",maxWidth:500},children:h})}):i?e.jsxs(t,{children:[e.jsx(j,{sx:{p:4,borderRadius:2,mb:4},children:e.jsxs(l,{container:!0,spacing:4,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(t,{sx:{position:"relative",borderRadius:2,overflow:"hidden",boxShadow:3},children:[e.jsx("img",{src:i.main_image_url||"https://via.placeholder.com/800x450?text=Game+Image",alt:i.title,style:{width:"100%",display:"block"}}),i.discount_price&&i.discount_price<i.price&&e.jsxs(t,{sx:{position:"absolute",top:16,right:16,backgroundColor:"#ef4444",color:"white",padding:"8px 16px",borderRadius:1,fontWeight:700,fontSize:"1rem",boxShadow:2},children:[Math.round((1-i.discount_price/i.price)*100),"% OFF"]})]})}),e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsxs(t,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[i.categories?.map(q=>e.jsx(O,{label:q.name,sx:{backgroundColor:"#475569",color:"white","&:hover":{backgroundColor:"#64748b"}}},q.id)),i.tags?.map(q=>e.jsx(O,{label:q.name,variant:"outlined"},q.id))]}),e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:700},children:i.title}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(on,{value:i.rating||0,precision:.5,readOnly:!0,size:"large"}),e.jsxs(a,{variant:"body1",sx:{ml:1,color:"text.secondary"},children:["(",i.review_count," 条评价)"]})]}),e.jsxs(a,{variant:"body2",color:"text.secondary",sx:{mb:3},children:["发布日期: ",new Date(i.release_date).toLocaleDateString("zh-CN")]}),e.jsx(a,{variant:"body1",sx:{lineHeight:1.8,mb:4},children:i.description}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(t,{children:i.discount_price&&i.discount_price<i.price?e.jsxs(e.Fragment,{children:[e.jsx(a,{variant:"h5",sx:{fontWeight:700,color:"#6366f1"},children:X(i.discount_price)}),e.jsxs(a,{variant:"body2",sx:{textDecoration:"line-through",color:"text.secondary"},children:["原价: ",X(i.price)]})]}):e.jsx(a,{variant:"h5",sx:{fontWeight:700,color:"#6366f1"},children:X(i.price)})}),v&&e.jsxs(t,{sx:{mb:2},children:[e.jsx(a,{variant:"body2",sx:{mb:.5},children:"游戏启动中..."}),e.jsx(Es,{variant:"determinate",value:C,sx:{height:8,borderRadius:4}}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end",mt:.5},children:e.jsxs(a,{variant:"caption",color:"text.secondary",children:[C,"%"]})})]}),e.jsxs(t,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(m,{variant:"contained",size:"large",startIcon:e.jsx(Ce,{}),onClick:Y,sx:{flexGrow:1,borderRadius:1,backgroundColor:"#6366f1","&:hover":{backgroundColor:"#4f46e5"}},children:"加入购物车"}),e.jsx(m,{variant:"contained",size:"large",startIcon:e.jsx(ke,{}),onClick:S,sx:{flexGrow:1,borderRadius:1,backgroundColor:"#10b981","&:hover":{backgroundColor:"#059669"}},children:"立即下载"}),e.jsx(m,{variant:"outlined",size:"large",startIcon:e.jsx(zs,{}),onClick:Z,sx:{flexGrow:1,borderRadius:1},children:"启动游戏"}),e.jsx(U,{size:"large",color:"primary",sx:{borderRadius:1},title:"分享",children:e.jsx(Xt,{})})]})]})]})]})}),e.jsxs(t,{sx:{mb:4},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600},children:"游戏截图"}),Pe()]}),e.jsxs(t,{sx:{mb:4},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600},children:"游戏视频"}),e.jsx(j,{sx:{p:2,borderRadius:2,position:"relative"},children:e.jsxs(t,{sx:{height:400,backgroundColor:"#0f172a",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:1,position:"relative",overflow:"hidden"},children:[e.jsx(t,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(99, 102, 241, 0.9)",width:80,height:80,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(79, 70, 229, 0.9)",transform:"translate(-50%, -50%) scale(1.1)",transition:"all 0.3s ease"}},children:e.jsx(zs,{sx:{fontSize:40,color:"white",ml:.5}})}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"点击播放游戏视频"})]})})]}),e.jsxs(j,{sx:{borderRadius:2,overflow:"hidden"},children:[e.jsx(t,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(ze,{value:p,onChange:L,variant:"scrollable",scrollButtons:"auto",textColor:"primary",indicatorColor:"primary",children:[e.jsx(N,{label:"系统需求"}),e.jsx(N,{label:"开发者信息"}),e.jsx(N,{label:"版本历史"}),e.jsx(N,{label:"用户评价"}),e.jsx(N,{label:"数据同步"})]})}),e.jsxs(t,{sx:{p:3},children:[p===0&&se(),p===1&&le(),p===2&&De(),p===3&&e.jsx(t,{sx:{py:2},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"用户评价功能开发中..."})}),p===4&&Jt()]})]})]}):null]}),e.jsx(Qr,{open:c,autoHideDuration:3e3,onClose:oe,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(J,{onClose:oe,severity:"success",sx:{width:"100%"},children:y})})]})},ei=()=>{const n=re();ae();const{user:r}=ee(w=>w.user),[s,i]=x.useState(0),[d,h]=x.useState(!1),[p,R]=x.useState(""),[c,b]=x.useState([]),y=[{id:1,title:"赛博朋克2077",image:"https://via.placeholder.com/300x200/6366f1/ffffff?text=Cyberpunk+2077",status:"installed",lastPlayed:"2025-12-01",playTime:"25h 30m"},{id:2,title:"艾尔登法环",image:"https://via.placeholder.com/300x200/ec4899/ffffff?text=Elden+Ring",status:"installed",lastPlayed:"2025-11-28",playTime:"45h 15m"},{id:3,title:"星穹铁道",image:"https://via.placeholder.com/300x200/10b981/ffffff?text=Star+Rail",status:"downloaded",lastPlayed:"2025-11-25",playTime:"15h 45m"}];return x.useEffect(()=>{if(!r){n("/login");return}h(!0),setTimeout(()=>{b(y),h(!1)},1e3)},[r,n]),r?e.jsxs(V,{maxWidth:"xl",sx:{py:4},children:[e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",mb:4},children:"我的游戏库"}),e.jsx(j,{sx:{mb:4,borderRadius:2,overflow:"hidden"},children:e.jsxs(ze,{value:s,onChange:(w,v)=>i(v),variant:"fullWidth",textColor:"primary",indicatorColor:"primary",children:[e.jsx(N,{label:"已购游戏"}),e.jsx(N,{label:"已安装"}),e.jsx(N,{label:"最近游玩"})]})}),d?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(fe,{size:60})}):p?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(J,{severity:"error",sx:{width:"100%",maxWidth:500},children:p})}):c.length===0?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,textAlign:"center"},children:e.jsxs(t,{children:[e.jsx(a,{variant:"h6",component:"h2",sx:{mb:2},children:"您的游戏库是空的"}),e.jsx(a,{variant:"body1",sx:{color:"text.secondary",mb:4},children:"浏览游戏商城，购买并下载您喜欢的游戏。"}),e.jsx(m,{variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4},onClick:()=>n("/games"),children:"浏览游戏"})]})}):e.jsx(l,{container:!0,spacing:3,children:c.map(w=>e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(j,{sx:{borderRadius:2,overflow:"hidden",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{position:"relative"},children:[e.jsx("img",{src:w.image,alt:w.title,style:{width:"100%",height:180,objectFit:"cover"}}),e.jsx(O,{label:w.status==="installed"?"已安装":"已购买",color:w.status==="installed"?"success":"primary",size:"small",sx:{position:"absolute",top:8,right:8,fontWeight:"bold"}})]}),e.jsxs(t,{sx:{p:3},children:[e.jsx(a,{variant:"h6",component:"div",sx:{fontWeight:"bold",mb:1},children:w.title}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(a,{variant:"body2",color:"text.secondary",children:["最近游玩: ",w.lastPlayed]}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["游玩时间: ",w.playTime]})]}),e.jsx(t,{sx:{display:"flex",gap:1},children:w.status==="installed"?e.jsx(m,{variant:"contained",fullWidth:!0,startIcon:e.jsx(zs,{}),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},children:"开始游戏"}):e.jsx(m,{variant:"contained",fullWidth:!0,startIcon:e.jsx(ke,{}),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},children:"下载"})})]})]})},w.id))})]}):null},ri=()=>{const n=re(),r=ae(),[s,i]=x.useState({email:"",password:""}),[d,h]=x.useState(!1),[p,R]=x.useState(""),[c,b]=x.useState(!1),y=C=>{const{name:M,value:o}=C.target;i(D=>({...D,[M]:o})),R("")},w=C=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C),v=async C=>{if(C.preventDefault(),!s.email){R("请输入邮箱地址");return}if(!w(s.email)){R("请输入有效的邮箱地址");return}if(!s.password){R("请输入密码");return}if(s.password.length<6){R("密码长度不能少于6个字符");return}b(!0),R("");try{await r(Fr(s)).unwrap(),n("/")}catch(M){R(M.message||"登录失败，请检查您的邮箱和密码")}finally{b(!1)}},G=()=>{h(C=>!C)};return e.jsx(V,{component:"main",maxWidth:"xs",sx:{mt:8,mb:8},children:e.jsxs(j,{elevation:3,sx:{p:4,borderRadius:2},children:[e.jsxs(t,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[e.jsx(de,{sx:{m:1,bgcolor:"#6366f1"},children:e.jsx(ln,{})}),e.jsx(a,{component:"h1",variant:"h5",sx:{fontWeight:"bold"},children:"登录"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"欢迎回到木鱼游戏平台"})]}),p&&e.jsx(J,{severity:"error",sx:{mb:2},children:p}),e.jsxs(t,{component:"form",onSubmit:v,noValidate:!0,sx:{mt:1},children:[e.jsx($,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"邮箱地址",name:"email",autoComplete:"email",autoFocus:!0,value:s.email,onChange:y,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx($,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"密码",type:d?"text":"password",id:"password",autoComplete:"current-password",value:s.password,onChange:y,InputProps:{endAdornment:e.jsx(je,{position:"end",children:e.jsx(U,{"aria-label":"toggle password visibility",onClick:G,edge:"end",children:d?e.jsx(Ie,{}):e.jsx(Re,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(m,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1},disabled:c,children:c?"登录中...":"登录"}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(H,{component:"button",variant:"body2",sx:{cursor:"pointer"},children:"忘记密码？"}),e.jsx(H,{component:Ft,to:"/register",variant:"body2",children:"还没有账号？立即注册"})]}),e.jsx(t,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsxs(a,{variant:"body2",color:"text.secondary",children:["登录即表示您同意我们的",e.jsx(H,{component:"button",variant:"body2",sx:{ml:.5,cursor:"pointer"},children:"用户协议"}),"和",e.jsx(H,{component:"button",variant:"body2",sx:{ml:.5,cursor:"pointer"},children:"隐私政策"})]})})]})]})})},si=()=>{const n=re(),r=ae(),[s,i]=x.useState({username:"",email:"",password:"",confirmPassword:""}),[d,h]=x.useState(!1),[p,R]=x.useState(!1),[c,b]=x.useState(""),[y,w]=x.useState(!1),[v,G]=x.useState(!1),C=P=>{const{name:Y,value:S}=P.target;i(Z=>({...Z,[Y]:S})),b("")},M=P=>{G(P.target.checked),b("")},o=P=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P),D=P=>P.length<6?"weak":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/.test(P)?"strong":"medium",f=async P=>{if(P.preventDefault(),!s.username){b("请输入用户名");return}if(s.username.length<3){b("用户名长度不能少于3个字符");return}if(!s.email){b("请输入邮箱地址");return}if(!o(s.email)){b("请输入有效的邮箱地址");return}if(!s.password){b("请输入密码");return}if(s.password.length<6){b("密码长度不能少于6个字符");return}if(D(s.password)==="weak"){b("密码强度太弱，建议包含大小写字母、数字和特殊字符");return}if(!s.confirmPassword){b("请确认密码");return}if(s.password!==s.confirmPassword){b("两次输入的密码不一致");return}if(!v){b("请阅读并同意用户协议和隐私政策");return}w(!0),b("");try{await r(Gr(s)).unwrap(),n("/")}catch(Y){b(Y.message||"注册失败，请重试")}finally{w(!1)}},u=()=>{h(P=>!P)},L=()=>{R(P=>!P)};return e.jsx(V,{component:"main",maxWidth:"xs",sx:{mt:8,mb:8},children:e.jsxs(j,{elevation:3,sx:{p:4,borderRadius:2},children:[e.jsxs(t,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[e.jsx(de,{sx:{m:1,bgcolor:"#6366f1"},children:e.jsx(dn,{})}),e.jsx(a,{component:"h1",variant:"h5",sx:{fontWeight:"bold"},children:"注册"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"创建您的木鱼游戏平台账号"})]}),c&&e.jsx(J,{severity:"error",sx:{mb:2},children:c}),e.jsxs(t,{component:"form",onSubmit:f,noValidate:!0,sx:{mt:1},children:[e.jsx($,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"用户名",name:"username",autoComplete:"username",autoFocus:!0,value:s.username,onChange:C,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx($,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"邮箱地址",name:"email",autoComplete:"email",value:s.email,onChange:C,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx($,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"密码",type:d?"text":"password",id:"password",autoComplete:"new-password",value:s.password,onChange:C,InputProps:{endAdornment:e.jsx(je,{position:"end",children:e.jsx(U,{"aria-label":"toggle password visibility",onClick:u,edge:"end",children:d?e.jsx(Ie,{}):e.jsx(Re,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx($,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"确认密码",type:p?"text":"password",id:"confirmPassword",autoComplete:"new-password",value:s.confirmPassword,onChange:C,InputProps:{endAdornment:e.jsx(je,{position:"end",children:e.jsx(U,{"aria-label":"toggle confirm password visibility",onClick:L,edge:"end",children:p?e.jsx(Ie,{}):e.jsx(Re,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(Tr,{control:e.jsx(cn,{color:"primary",checked:v,onChange:M}),label:e.jsxs(a,{variant:"body2",sx:{color:"text.secondary"},children:["我已阅读并同意",e.jsx(H,{component:"button",variant:"body2",sx:{mx:.5,cursor:"pointer",color:"#6366f1"},children:"用户协议"}),"和",e.jsx(H,{component:"button",variant:"body2",sx:{mx:.5,cursor:"pointer",color:"#6366f1"},children:"隐私政策"})]}),sx:{mt:1,mb:2}}),e.jsx(m,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,mb:2,py:1.5,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1},disabled:y,children:y?"注册中...":"注册"}),e.jsx(t,{sx:{display:"flex",justifyContent:"center"},children:e.jsxs(a,{variant:"body2",color:"text.secondary",children:["已经有账号了？",e.jsx(H,{component:Ft,to:"/login",variant:"body2",sx:{ml:.5,color:"#6366f1",textDecoration:"none"},children:"立即登录"})]})}),e.jsx(t,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"注册即表示您同意我们的服务条款和隐私政策"})})]})]})})},ti=()=>{const n=re(),r=ae(),{user:s,loading:i}=ee(se=>se.user),[d,h]=x.useState(0),[p,R]=x.useState(!1),[c,b]=x.useState({username:s?.username||"",email:s?.email||""}),[y,w]=x.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[v,G]=x.useState(!1),[C,M]=x.useState(!1),[o,D]=x.useState(!1),[f,u]=x.useState(""),[L,P]=x.useState("success"),Y=(se,le)=>{h(le),S()},S=()=>{R(!1),b({username:s?.username||"",email:s?.email||""}),w({currentPassword:"",newPassword:"",confirmNewPassword:""}),u("")},Z=se=>{const{name:le,value:De}=se.target;b(kr=>({...kr,[le]:De}))},ie=se=>{const{name:le,value:De}=se.target;w(kr=>({...kr,[le]:De}))},z=se=>{switch(se){case"current":G(le=>!le);break;case"new":M(le=>!le);break;case"confirm":D(le=>!le);break}},oe=()=>{R(!0),u("")},X=()=>{S()},ce=async()=>{if(!c.username||!c.email){u("请填写所有必填字段"),P("error");return}try{await r(Br(c)).unwrap(),u("个人信息更新成功"),P("success"),R(!1)}catch(se){u(se.message||"更新失败"),P("error")}},Pe=async()=>{if(!y.currentPassword||!y.newPassword||!y.confirmNewPassword){u("请填写所有必填字段"),P("error");return}if(y.newPassword!==y.confirmNewPassword){u("两次输入的新密码不一致"),P("error");return}if(y.newPassword.length<6){u("新密码长度不能少于6个字符"),P("error");return}try{await r($r({currentPassword:y.currentPassword,newPassword:y.newPassword})).unwrap(),u("密码修改成功"),P("success"),w({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(se){u(se.message||"密码修改失败"),P("error")}};return!s&&!i?(n("/login"),null):e.jsxs(V,{component:"main",maxWidth:"md",sx:{mt:8,mb:8},children:[e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",mb:4},children:"个人中心"}),e.jsxs(j,{elevation:3,sx:{p:4,borderRadius:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:3,mb:4},children:[e.jsx(de,{sx:{width:100,height:100,bgcolor:"#6366f1",fontSize:"2rem"},children:s?.username?.charAt(0).toUpperCase()||"U"}),e.jsxs(t,{children:[e.jsx(a,{variant:"h5",component:"div",sx:{fontWeight:"bold"},children:s?.username}),e.jsx(a,{variant:"body1",color:"text.secondary",children:s?.email}),e.jsxs(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["注册时间: ",s?.created_at?new Date(s.created_at).toLocaleDateString("zh-CN"):"未知"]})]})]}),e.jsx(Q,{sx:{mb:4}}),e.jsxs(ze,{value:d,onChange:Y,sx:{mb:3},children:[e.jsx(N,{label:"基本信息"}),e.jsx(N,{label:"修改密码"}),e.jsx(N,{label:"安全设置"})]}),f&&e.jsx(J,{severity:L,sx:{mb:3},children:f}),d===0&&e.jsxs(t,{children:[e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsx($,{fullWidth:!0,id:"username",label:"用户名",name:"username",value:c.username,onChange:Z,disabled:!p,InputProps:{endAdornment:!p&&e.jsx(je,{position:"end",children:e.jsx(U,{onClick:oe,title:"编辑",children:e.jsx(xn,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsx($,{fullWidth:!0,id:"email",label:"邮箱地址",name:"email",type:"email",value:c.email,onChange:Z,disabled:!p,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})})]}),p&&e.jsxs(t,{sx:{display:"flex",gap:2,mt:3,justifyContent:"flex-end"},children:[e.jsx(m,{variant:"outlined",onClick:X,startIcon:e.jsx(hn,{}),sx:{borderRadius:1},children:"取消"}),e.jsx(m,{variant:"contained",onClick:ce,startIcon:e.jsx(un,{}),sx:{borderRadius:1,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"保存"})]})]}),d===1&&e.jsxs(t,{children:[e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,children:e.jsx($,{fullWidth:!0,id:"currentPassword",label:"当前密码",name:"currentPassword",type:v?"text":"password",value:y.currentPassword,onChange:ie,InputProps:{endAdornment:e.jsx(je,{position:"end",children:e.jsx(U,{onClick:()=>z("current"),children:v?e.jsx(Ie,{}):e.jsx(Re,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx($,{fullWidth:!0,id:"newPassword",label:"新密码",name:"newPassword",type:C?"text":"password",value:y.newPassword,onChange:ie,InputProps:{endAdornment:e.jsx(je,{position:"end",children:e.jsx(U,{onClick:()=>z("new"),children:C?e.jsx(Ie,{}):e.jsx(Re,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx($,{fullWidth:!0,id:"confirmNewPassword",label:"确认新密码",name:"confirmNewPassword",type:o?"text":"password",value:y.confirmNewPassword,onChange:ie,InputProps:{endAdornment:e.jsx(je,{position:"end",children:e.jsx(U,{onClick:()=>z("confirm"),children:o?e.jsx(Ie,{}):e.jsx(Re,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})})]}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(m,{variant:"contained",onClick:Pe,sx:{borderRadius:1,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.2},children:"修改密码"})})]}),d===2&&e.jsxs(t,{children:[e.jsx(a,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"安全设置功能正在开发中..."}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(j,{elevation:2,sx:{p:3,borderRadius:2,textAlign:"center"},children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,fontWeight:"bold"},children:"双重验证"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"开启双重验证以提高账号安全性"}),e.jsx(m,{variant:"outlined",disabled:!0,sx:{borderRadius:1},children:"功能开发中"})]})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(j,{elevation:2,sx:{p:3,borderRadius:2,textAlign:"center"},children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,fontWeight:"bold"},children:"登录设备管理"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"查看和管理您的登录设备"}),e.jsx(m,{variant:"outlined",disabled:!0,sx:{borderRadius:1},children:"功能开发中"})]})})]})]})]})]})};var Qe={},xt;function ni(){if(xt)return Qe;xt=1;var n=W();Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var r=n(_()),s=k();return Qe.default=(0,r.default)((0,s.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove"),Qe}var ai=ni();const ii=I(ai);var Je={},ht;function oi(){if(ht)return Je;ht=1;var n=W();Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var r=n(_()),s=k();return Je.default=(0,r.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Je}var li=oi();const Ps=I(li);var Ke={},ut;function di(){if(ut)return Ke;ut=1;var n=W();Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var r=n(_()),s=k();return Ke.default=(0,r.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Ke}var ci=di();const Ds=I(ci),xi=()=>{const n=re(),r=ae(),{items:s,totalItems:i,totalAmount:d}=ee(o=>o.cart),[h,p]=_e.useState(!1),[R,c]=_e.useState(""),b=()=>{n(-1)},y=o=>{r($s({gameId:o.id,quantity:o.quantity+1}))},w=o=>{o.quantity>1&&r($s({gameId:o.id,quantity:o.quantity-1}))},v=o=>{r(sa({gameId:o})),c("商品已从购物车移除"),p(!0)},G=()=>{window.confirm("确定要清空购物车吗？")&&(r(ta()),c("购物车已清空"),p(!0))},C=()=>{if(i===0){c("购物车为空，无法结算"),p(!0);return}n("/checkout")},M=()=>{p(!1)};return e.jsxs(V,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(m,{startIcon:e.jsx(Ls,{}),variant:"outlined",onClick:b,children:"返回"}),e.jsxs(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:[e.jsx(Ce,{sx:{mr:1}}),"购物车"]})]}),e.jsxs(a,{variant:"h6",sx:{fontWeight:"bold",color:"#6366f1"},children:[i," 件商品"]})]}),i===0?e.jsxs(j,{sx:{p:8,textAlign:"center",borderRadius:2},children:[e.jsx(Ce,{sx:{fontSize:120,color:"text.secondary",mb:3}}),e.jsx(a,{variant:"h5",component:"h2",sx:{fontWeight:"bold",mb:2},children:"购物车是空的"}),e.jsx(a,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"浏览游戏商城，将喜欢的游戏添加到购物车吧"}),e.jsx(m,{variant:"contained",size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4},onClick:()=>n("/games"),children:"浏览游戏"})]}):e.jsxs(l,{container:!0,spacing:4,children:[e.jsx(l,{item:!0,xs:12,md:8,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[s.map(o=>e.jsxs(t,{sx:{mb:3},children:[e.jsxs(l,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(l,{item:!0,xs:4,md:3,children:e.jsx(t,{sx:{width:"100%",height:100,borderRadius:1,overflow:"hidden",bgcolor:"rgba(255, 255, 255, 0.1)"},children:e.jsx("img",{src:o.image,alt:o.title,style:{width:"100%",height:"100%",objectFit:"cover"}})})}),e.jsx(l,{item:!0,xs:8,md:9,children:e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(t,{children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold",mb:1},children:o.title}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o.isFree?"免费":`¥${o.price.toFixed(2)}`}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(U,{size:"small",onClick:()=>w(o),disabled:o.quantity<=1,children:e.jsx(ii,{})}),e.jsx(a,{variant:"body1",sx:{fontWeight:"bold",minWidth:24,textAlign:"center"},children:o.quantity}),e.jsx(U,{size:"small",onClick:()=>y(o),children:e.jsx(Ps,{})})]})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1},children:[e.jsxs(a,{variant:"body1",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",(o.price*o.quantity).toFixed(2)]}),e.jsx(U,{size:"small",color:"error",onClick:()=>v(o.id),children:e.jsx(Ds,{})})]})]})})]}),e.jsx(Q,{sx:{mt:2}})]},o.id)),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(m,{variant:"outlined",color:"error",startIcon:e.jsx(Ds,{}),onClick:G,children:"清空购物车"})})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"订单摘要"}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"商品数量"}),e.jsxs(a,{variant:"body1",children:[i," 件"]})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"商品总价"}),e.jsxs(a,{variant:"body1",children:["¥",d.toFixed(2)]})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"运费"}),e.jsx(a,{variant:"body1",color:"success.main",children:"免费"})]}),e.jsx(Q,{sx:{my:2}}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold"},children:"总计"}),e.jsxs(a,{variant:"h6",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",d.toFixed(2)]})]}),e.jsx(m,{variant:"contained",fullWidth:!0,size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.5,fontSize:"1rem"},onClick:C,children:"去结算"}),e.jsx(m,{variant:"outlined",fullWidth:!0,sx:{mt:2},onClick:()=>n("/games"),children:"继续购物"})]})})]}),e.jsx(Qr,{open:h,autoHideDuration:3e3,onClose:M,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(J,{onClose:M,severity:"success",sx:{width:"100%"},children:R})})]})};var er={},pt;function hi(){if(pt)return er;pt=1;var n=W();Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var r=n(_()),s=k();return er.default=(0,r.default)((0,s.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),er}var ui=hi();const Ir=I(ui);var rr={},ft;function pi(){if(ft)return rr;ft=1;var n=W();Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=void 0;var r=n(_()),s=k();return rr.default=(0,r.default)((0,s.jsx)("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),rr}var fi=pi();const mi=I(fi);var sr={},mt;function ji(){if(mt)return sr;mt=1;var n=W();Object.defineProperty(sr,"__esModule",{value:!0}),sr.default=void 0;var r=n(_()),s=k();return sr.default=(0,r.default)((0,s.jsx)("path",{d:"M18 4H6C3.79 4 2 5.79 2 8v8c0 2.21 1.79 4 4 4h12c2.21 0 4-1.79 4-4V8c0-2.21-1.79-4-4-4m-1.86 9.77c-.24.2-.57.28-.88.2L4.15 11.25C4.45 10.52 5.16 10 6 10h12c.67 0 1.26.34 1.63.84zM6 6h12c1.1 0 2 .9 2 2v.55c-.59-.34-1.27-.55-2-.55H6c-.73 0-1.41.21-2 .55V8c0-1.1.9-2 2-2"}),"Wallet"),sr}var gi=ji();const bi=I(gi),vi=()=>{const n=re(),r=ae(),{items:s,totalItems:i,totalAmount:d}=ee(S=>S.cart),{user:h}=ee(S=>S.user),[p,R]=x.useState("credit_card"),[c,b]=x.useState(!1),[y,w]=x.useState(""),[v,G]=x.useState(!1),[C,M]=x.useState(""),[o,D]=x.useState({fullName:h?.username||"",email:h?.email||"",address:"",city:"",zipCode:"",phone:""}),f=()=>{n("/cart")},u=S=>{R(S.target.value)},L=S=>{const{name:Z,value:ie}=S.target;D({...o,[Z]:ie})},P=async S=>{if(S.preventDefault(),!o.fullName||!o.email||!o.address||!o.city||!o.zipCode||!o.phone){w("请填写所有必填字段");return}if(i===0){w("购物车为空，无法结算");return}b(!0),w("");try{await r(Nr({gameIds:s.map(Z=>Z.id)})).unwrap(),M("支付成功！"),G(!0),setTimeout(()=>{n("/orders")},1500)}catch(Z){w(Z.message||"支付失败，请重试")}finally{b(!1)}},Y=()=>{G(!1)};return h?e.jsxs(V,{maxWidth:"xl",sx:{py:4},children:[e.jsx(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(m,{startIcon:e.jsx(Ls,{}),variant:"outlined",onClick:f,children:"返回购物车"}),e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"结算"})]})}),y&&e.jsx(J,{severity:"error",sx:{mb:4},children:y}),e.jsxs(l,{container:!0,spacing:4,children:[e.jsxs(l,{item:!0,xs:12,md:8,children:[e.jsxs(j,{sx:{p:3,borderRadius:2,mb:4},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"配送信息"}),e.jsx("form",{onSubmit:P,children:e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx($,{fullWidth:!0,label:"姓名",name:"fullName",value:o.fullName,onChange:L,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx($,{fullWidth:!0,label:"邮箱",name:"email",type:"email",value:o.email,onChange:L,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx($,{fullWidth:!0,label:"详细地址",name:"address",multiline:!0,rows:2,value:o.address,onChange:L,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx($,{fullWidth:!0,label:"城市",name:"city",value:o.city,onChange:L,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx($,{fullWidth:!0,label:"邮编",name:"zipCode",value:o.zipCode,onChange:L,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx($,{fullWidth:!0,label:"电话",name:"phone",value:o.phone,onChange:L,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})})]})})]}),e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"支付方式"}),e.jsx(qs,{component:"fieldset",children:e.jsxs(pn,{row:!0,"aria-label":"payment method",name:"paymentMethod",value:p,onChange:u,children:[e.jsx(Tr,{value:"credit_card",control:e.jsx(Jr,{}),label:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ir,{})," 信用卡/借记卡"]})}),e.jsx(Tr,{value:"bank_transfer",control:e.jsx(Jr,{}),label:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(mi,{})," 银行转账"]})}),e.jsx(Tr,{value:"wallet",control:e.jsx(Jr,{}),label:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(bi,{})," 电子钱包"]})})]})}),e.jsxs(t,{sx:{mt:3},children:[p==="credit_card"&&e.jsx(a,{variant:"body2",color:"text.secondary",children:"支持 Visa, MasterCard, American Express 等主流信用卡和借记卡"}),p==="bank_transfer"&&e.jsx(a,{variant:"body2",color:"text.secondary",children:"银行转账需要 1-3 个工作日处理"}),p==="wallet"&&e.jsx(a,{variant:"body2",color:"text.secondary",children:"支持支付宝、微信支付、PayPal 等电子钱包"})]})]})]}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"订单摘要"}),e.jsx(t,{sx:{maxHeight:300,overflowY:"auto",mb:3},children:s.map(S=>e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:2,pb:1,borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs(t,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(t,{sx:{width:60,height:60,borderRadius:1,overflow:"hidden",bgcolor:"rgba(255, 255, 255, 0.1)"},children:e.jsx("img",{src:S.image,alt:S.title,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs(t,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:"bold"},children:S.title}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:[S.quantity," × ¥",S.price.toFixed(2)]})]})]}),e.jsxs(a,{variant:"body2",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",(S.price*S.quantity).toFixed(2)]})]},S.id))}),e.jsx(Q,{sx:{my:2}}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"商品总价"}),e.jsxs(a,{variant:"body1",children:["¥",d.toFixed(2)]})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"运费"}),e.jsx(a,{variant:"body1",color:"success.main",children:"免费"})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"税费"}),e.jsxs(a,{variant:"body1",children:["¥",(d*.06).toFixed(2)]})]}),e.jsx(Q,{sx:{my:2}}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold"},children:"订单总计"}),e.jsxs(a,{variant:"h6",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",(d*1.06).toFixed(2)]})]}),e.jsx(m,{type:"submit",variant:"contained",fullWidth:!0,size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.5,borderRadius:1},disabled:c||i===0,onClick:P,children:c?e.jsx(fe,{size:24,color:"inherit"}):"提交订单"})]})})]}),e.jsx(Qr,{open:v,autoHideDuration:3e3,onClose:Y,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(J,{onClose:Y,severity:"success",sx:{width:"100%"},children:C})})]}):(n("/login"),null)};var tr={},jt;function yi(){if(jt)return tr;jt=1;var n=W();Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0;var r=n(_()),s=k();return tr.default=(0,r.default)([(0,s.jsx)("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),(0,s.jsx)("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong"),tr}var wi=yi();const gt=I(wi);var nr={},bt;function Ci(){if(bt)return nr;bt=1;var n=W();Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var r=n(_()),s=k();return nr.default=(0,r.default)((0,s.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),nr}var Si=Ci();const Qt=I(Si);var ar={},vt;function Ii(){if(vt)return ar;vt=1;var n=W();Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var r=n(_()),s=k();return ar.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m.88 15.76V19h-1.75v-1.29c-.74-.18-2.39-.77-3.02-2.96l1.65-.67c.06.22.58 2.09 2.4 2.09.93 0 1.98-.48 1.98-1.61 0-.96-.7-1.46-2.28-2.03-1.1-.39-3.35-1.03-3.35-3.31 0-.1.01-2.4 2.62-2.96V5h1.75v1.24c1.84.32 2.51 1.79 2.66 2.23l-1.58.67c-.11-.35-.59-1.34-1.9-1.34-.7 0-1.81.37-1.81 1.39 0 .95.86 1.31 2.64 1.9 2.4.83 3.01 2.05 3.01 3.45 0 2.63-2.5 3.13-3.02 3.22"}),"Paid"),ar}var Ri=Ii();const Wi=I(Ri),ki=()=>{const n=re(),r=ae(),{user:s}=ee(f=>f.user),{orders:i,loading:d,error:h,totalPages:p,currentPage:R}=ee(f=>f.payment),[c,b]=x.useState(0),[y,w]=x.useState("all"),v=[{id:1,orderNumber:"MUYU-20251201-001",totalAmount:298,status:"completed",createdAt:"2025-12-01T10:30:00Z",games:[{id:1,title:"赛博朋克2077",price:298}]},{id:2,orderNumber:"MUYU-20251128-002",totalAmount:199,status:"completed",createdAt:"2025-11-28T15:45:00Z",games:[{id:2,title:"艾尔登法环",price:199}]},{id:3,orderNumber:"MUYU-20251125-003",totalAmount:0,status:"completed",createdAt:"2025-11-25T09:15:00Z",games:[{id:3,title:"星穹铁道",price:0}]}];x.useEffect(()=>{if(!s){n("/login");return}},[s,n,r]);const G=(f,u)=>{switch(b(u),u){case 0:w("all");break;case 1:w("completed");break;case 2:w("pending");break;case 3:w("cancelled");break;default:w("all")}},C=(f,u)=>{},M=f=>{alert(`查看订单详情: ${f}`)},o=f=>new Date(f).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),D=f=>{switch(f){case"completed":return{label:"已完成",color:"success"};case"pending":return{label:"待处理",color:"warning"};case"processing":return{label:"处理中",color:"info"};case"shipped":return{label:"已发货",color:"primary"};case"cancelled":return{label:"已取消",color:"error"};default:return{label:"未知",color:"default"}}};return s?e.jsxs(V,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,mb:4},children:[e.jsx(gt,{sx:{fontSize:32,color:"#6366f1"}}),e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"订单历史"})]}),e.jsx(j,{sx:{mb:4,borderRadius:2,overflow:"hidden"},children:e.jsxs(ze,{value:c,onChange:G,variant:"fullWidth",textColor:"primary",indicatorColor:"primary",children:[e.jsx(N,{label:"全部订单"}),e.jsx(N,{label:"已完成"}),e.jsx(N,{label:"待处理"}),e.jsx(N,{label:"已取消"})]})}),d?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(fe,{size:60})}):h?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(J,{severity:"error",sx:{width:"100%",maxWidth:500},children:h})}):v.length===0?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,textAlign:"center"},children:e.jsxs(t,{children:[e.jsx(a,{variant:"h6",component:"h2",sx:{mb:2},children:"您还没有任何订单"}),e.jsx(a,{variant:"body1",sx:{color:"text.secondary",mb:4},children:"浏览游戏商城，购买您喜欢的游戏吧"}),e.jsx(m,{variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4},onClick:()=>n("/games"),children:"浏览游戏"})]})}):e.jsxs(t,{children:[e.jsx(be,{component:j,sx:{borderRadius:2,mb:3},children:e.jsxs(ve,{"aria-label":"订单历史表",children:[e.jsx(ye,{children:e.jsxs(ne,{children:[e.jsx(g,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"订单编号"}),e.jsx(g,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"日期"}),e.jsx(g,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"商品"}),e.jsx(g,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"状态"}),e.jsx(g,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"总计"}),e.jsx(g,{sx:{fontWeight:"bold",fontSize:"1rem",textAlign:"right"},children:"操作"})]})}),e.jsx(we,{children:v.map(f=>{const u=D(f.status);return e.jsxs(ne,{sx:{"&:last-child td, &:last-child th":{border:0},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"}},children:[e.jsx(g,{children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(gt,{sx:{fontSize:16,color:"#6366f1"}}),e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:f.orderNumber})]})}),e.jsx(g,{children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Qt,{sx:{fontSize:16,color:"#6366f1"}}),e.jsx(a,{variant:"body2",children:o(f.createdAt)})]})}),e.jsx(g,{children:e.jsx(t,{sx:{display:"flex",flexDirection:"column",gap:1},children:f.games.map(L=>e.jsx(a,{variant:"body2",children:L.title},L.id))})}),e.jsx(g,{children:e.jsx(O,{label:u.label,color:u.color,size:"small",variant:"outlined"})}),e.jsx(g,{children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Wi,{sx:{fontSize:16,color:"#6366f1"}}),e.jsxs(a,{variant:"body1",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",f.totalAmount.toFixed(2)]})]})}),e.jsx(g,{align:"right",children:e.jsx(m,{variant:"outlined",size:"small",onClick:()=>M(f.id),children:"查看详情"})})]},f.id)})})]})}),e.jsx(t,{sx:{display:"flex",justifyContent:"center",mt:3},children:e.jsx(fn,{count:p,page:R,onChange:C,color:"primary",sx:{mb:3}})})]})]}):null};var ir={},yt;function _i(){if(yt)return ir;yt=1;var n=W();Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var r=n(_()),s=k();return ir.default=(0,r.default)((0,s.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),ir}var zi=_i();const ge=I(zi);var or={},wt;function Pi(){if(wt)return or;wt=1;var n=W();Object.defineProperty(or,"__esModule",{value:!0}),or.default=void 0;var r=n(_()),s=k();return or.default=(0,r.default)((0,s.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet"),or}var Di=Pi();const Rr=I(Di);var lr={},Ct;function Mi(){if(Ct)return lr;Ct=1;var n=W();Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var r=n(_()),s=k();return lr.default=(0,r.default)((0,s.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart"),lr}var qi=Mi();const Xr=I(qi);var dr={},St;function Li(){if(St)return dr;St=1;var n=W();Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=void 0;var r=n(_()),s=k();return dr.default=(0,r.default)((0,s.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Gamepad"),dr}var Ai=Li();const Ur=I(Ai);var cr={},It;function Ei(){if(It)return cr;It=1;var n=W();Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var r=n(_()),s=k();return cr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),cr}var Oi=Ei();const Ti=I(Oi);var xr={},Rt;function Gi(){if(Rt)return xr;Rt=1;var n=W();Object.defineProperty(xr,"__esModule",{value:!0}),xr.default=void 0;var r=n(_()),s=k();return xr.default=(0,r.default)((0,s.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),xr}var Fi=Gi();const xe=I(Fi);var hr={},Wt;function Bi(){if(Wt)return hr;Wt=1;var n=W();Object.defineProperty(hr,"__esModule",{value:!0}),hr.default=void 0;var r=n(_()),s=k();return hr.default=(0,r.default)((0,s.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),hr}var $i=Bi();const Ms=I($i),Hi=()=>{const n=re();ae();const{user:r}=ee(v=>v.user),[s,i]=x.useState(!1),[d,h]=x.useState(""),p={totalGames:5,totalSales:1250,totalRevenue:38500.5,totalDownloads:2500,avgRating:4.5},R=[{id:1,gameTitle:"赛博朋克2077",amount:298,date:"2025-12-01T10:30:00Z"},{id:2,gameTitle:"艾尔登法环",amount:199,date:"2025-11-30T15:45:00Z"},{id:3,gameTitle:"星穹铁道",amount:0,date:"2025-11-29T09:15:00Z"},{id:4,gameTitle:"黑神话：悟空",amount:268,date:"2025-11-28T14:20:00Z"},{id:5,gameTitle:"星球大战：亡命徒",amount:249,date:"2025-11-27T11:10:00Z"}];x.useEffect(()=>{if(!r){n("/login");return}if(r.role!=="developer"){h("您没有开发者权限，无法访问此页面");return}i(!0),setTimeout(()=>{i(!1)},1e3)},[r,n]);const c=()=>{n("/developer/games")},b=()=>{n("/developer/sales")},y=()=>{n("/developer/finances")},w=v=>new Date(v).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return r?e.jsxs(V,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"开发者中心"}),e.jsx(O,{label:"开发者",color:"primary",icon:e.jsx(Ti,{})})]}),d&&e.jsx(J,{severity:"error",sx:{mb:4},children:d}),e.jsx(j,{sx:{p:4,borderRadius:2,mb:4},children:e.jsxs(l,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(de,{sx:{width:120,height:120,bgcolor:"#6366f1",fontSize:"3rem"},children:r.username?.charAt(0).toUpperCase()||"D"})}),e.jsxs(l,{item:!0,xs:12,md:9,children:[e.jsx(a,{variant:"h5",component:"div",sx:{fontWeight:"bold",mb:1},children:r.username}),e.jsx(a,{variant:"body1",color:"text.secondary",sx:{mb:3},children:r.email}),e.jsxs(t,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(O,{label:`游戏数量: ${p.totalGames}`,variant:"outlined",icon:e.jsx(Ur,{})}),e.jsx(O,{label:`总销量: ${p.totalSales}`,variant:"outlined",icon:e.jsx(Ce,{})}),e.jsx(O,{label:`总收入: ¥${p.totalRevenue.toFixed(2)}`,variant:"outlined",icon:e.jsx(Rr,{})}),e.jsx(O,{label:`平均评分: ${p.avgRating} ★`,variant:"outlined",icon:e.jsx(_s,{})})]})]})]})}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #6366f1",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总游戏数"}),e.jsx(Ur,{sx:{color:"#6366f1"}})]}),e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:p.totalGames}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"2 款新游戏"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #10b981",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总销量"}),e.jsx(Ce,{sx:{color:"#10b981"}})]}),e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:p.totalSales}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"12% 增长"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #f59e0b",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总收入"}),e.jsx(Rr,{sx:{color:"#f59e0b"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",p.totalRevenue.toFixed(2)]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"8% 增长"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #ec4899",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总下载量"}),e.jsx(ge,{sx:{color:"#ec4899"}})]}),e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:p.totalDownloads}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ms,{sx:{fontSize:"0.8rem",color:"error.main"}}),e.jsx(a,{variant:"body2",color:"error.main",children:"3% 下降"})]})]})})]}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:7,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold"},children:"最近销售记录"}),e.jsx(m,{variant:"outlined",size:"small",onClick:b,children:"查看全部"})]}),e.jsx(be,{sx:{maxHeight:400},children:e.jsxs(ve,{"aria-label":"最近销售记录表",stickyHeader:!0,children:[e.jsx(ye,{children:e.jsxs(ne,{children:[e.jsx(g,{sx:{fontWeight:"bold"},children:"游戏名称"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"价格"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"购买日期"})]})}),e.jsx(we,{children:R.map(v=>e.jsxs(ne,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(g,{children:v.gameTitle}),e.jsx(g,{children:v.amount===0?e.jsx(O,{label:"免费",size:"small",color:"success"}):e.jsxs(a,{variant:"body2",sx:{fontWeight:"bold"},children:["¥",v.amount.toFixed(2)]})}),e.jsx(g,{children:w(v.date)})]},v.id))})]})})]})}),e.jsxs(l,{item:!0,xs:12,md:5,children:[e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"快速操作"}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(m,{variant:"contained",fullWidth:!0,size:"large",startIcon:e.jsx(Ur,{}),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5,py:1.5},onClick:c,children:"游戏管理"}),e.jsx(m,{variant:"contained",fullWidth:!0,size:"large",startIcon:e.jsx(Xr,{}),sx:{bgcolor:"#10b981","&:hover":{bgcolor:"#059669"},borderRadius:1.5,py:1.5},onClick:b,children:"销售分析"}),e.jsx(m,{variant:"contained",fullWidth:!0,size:"large",startIcon:e.jsx(Rr,{}),sx:{bgcolor:"#f59e0b","&:hover":{bgcolor:"#d97706"},borderRadius:1.5,py:1.5},onClick:y,children:"财务报表"}),e.jsx(m,{variant:"outlined",fullWidth:!0,size:"large",startIcon:e.jsx(Qt,{}),sx:{borderRadius:1.5,py:1.5},children:"发布新游戏"})]})]}),e.jsxs(j,{sx:{p:3,borderRadius:2,mt:3},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"本月概览"}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{variant:"body1",children:"新游戏发布"}),e.jsx(O,{label:"1",size:"small",color:"primary"})]}),e.jsx(Q,{sx:{my:1}}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{variant:"body1",children:"本月销量"}),e.jsx(O,{label:"234",size:"small",color:"success"})]}),e.jsx(Q,{sx:{my:1}}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{variant:"body1",children:"本月收入"}),e.jsx(O,{label:"¥12,580.00",size:"small",color:"warning"})]}),e.jsx(Q,{sx:{my:1}}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{variant:"body1",children:"新增评价"}),e.jsx(O,{label:"45",size:"small",color:"info"})]})]})]})]})]})]}):null};var ur={},kt;function Vi(){if(kt)return ur;kt=1;var n=W();Object.defineProperty(ur,"__esModule",{value:!0}),ur.default=void 0;var r=n(_()),s=k();return ur.default=(0,r.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),ur}var Ni=Vi();const Ui=I(Ni);var pr={},_t;function Yi(){if(_t)return pr;_t=1;var n=W();Object.defineProperty(pr,"__esModule",{value:!0}),pr.default=void 0;var r=n(_()),s=k();return pr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),pr}var Zi=Yi();const Xi=I(Zi),Qi=()=>{const n=ae(),{games:r,loading:s,error:i}=ee(o=>o.game),[d,h]=x.useState(!1),[p,R]=x.useState("create"),[c,b]=x.useState(null);x.useEffect(()=>{n(We({status:"all"}))},[n]);const y=()=>{R("create"),b(null),h(!0)},w=o=>{R("edit"),b(o),h(!0)},v=o=>{console.log("Delete game:",o.id)},G=o=>{window.location.href=`/game/${o.id}`},C=o=>{console.log("Promote game:",o.id)},M=(o,D)=>{console.log("Update game status:",o.id,"to",D)};return e.jsxs(V,{maxWidth:"xl",children:[e.jsxs(t,{sx:{py:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(t,{children:[e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:1},children:"我的游戏"}),e.jsx(a,{variant:"subtitle1",color:"text.secondary",children:"管理和推广您的游戏作品"})]}),e.jsx(m,{variant:"contained",startIcon:e.jsx(Ps,{}),onClick:y,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"创建新游戏"})]}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,bgcolor:"#f0f9ff",borderLeft:"4px solid #0ea5e9"},children:[e.jsx(a,{variant:"h6",sx:{color:"#0c4a6e",fontWeight:600},children:"总游戏数"}),e.jsx(a,{variant:"h4",sx:{mt:1,color:"#0ea5e9",fontWeight:700},children:r.length})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,bgcolor:"#fef3c7",borderLeft:"4px solid #f59e0b"},children:[e.jsx(a,{variant:"h6",sx:{color:"#92400e",fontWeight:600},children:"待审核"}),e.jsx(a,{variant:"h4",sx:{mt:1,color:"#f59e0b",fontWeight:700},children:r.filter(o=>o.status==="pending").length})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,bgcolor:"#d1fae5",borderLeft:"4px solid #10b981"},children:[e.jsx(a,{variant:"h6",sx:{color:"#065f46",fontWeight:600},children:"已通过"}),e.jsx(a,{variant:"h4",sx:{mt:1,color:"#10b981",fontWeight:700},children:r.filter(o=>o.status==="approved").length})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,bgcolor:"#fee2e2",borderLeft:"4px solid #ef4444"},children:[e.jsx(a,{variant:"h6",sx:{color:"#991b1b",fontWeight:600},children:"已拒绝"}),e.jsx(a,{variant:"h4",sx:{mt:1,color:"#ef4444",fontWeight:700},children:r.filter(o=>o.status==="rejected").length})]})})]}),s?e.jsx(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:10},children:e.jsx(fe,{size:60})}):i?e.jsx(J,{severity:"error",sx:{mb:3},children:i}):r.length===0?e.jsxs(t,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",py:10},children:[e.jsx(a,{variant:"h6",sx:{mb:3,textAlign:"center"},children:"您还没有创建任何游戏"}),e.jsx(m,{variant:"contained",startIcon:e.jsx(Ps,{}),onClick:y,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"创建第一个游戏"})]}):e.jsx(l,{container:!0,spacing:3,children:r.map(o=>e.jsx(l,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsxs(j,{sx:{borderRadius:2,overflow:"hidden",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(99, 102, 241, 0.3)"}},children:[e.jsxs(t,{sx:{position:"relative"},children:[e.jsx("img",{src:o.main_image_url||"https://via.placeholder.com/400x200?text=Game+Cover",alt:o.title,style:{width:"100%",height:"200px",objectFit:"cover"}}),e.jsx(O,{label:o.status==="approved"?"已通过":o.status==="pending"?"待审核":"已拒绝",sx:{position:"absolute",top:8,right:8,bgcolor:o.status==="approved"?"#10b981":o.status==="pending"?"#f59e0b":"#ef4444",color:"white",fontWeight:700}})]}),e.jsxs(t,{sx:{p:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:600,mb:1},children:o.title}),e.jsx(t,{sx:{display:"flex",gap:1,mb:2},children:o.categories?.slice(0,2).map(D=>e.jsx(O,{label:D.name,size:"small",sx:{bgcolor:"#e2e8f0",color:"#334155",fontWeight:500}},D.id))}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o.description.length>100?`${o.description.substring(0,100)}...`:o.description}),e.jsx(t,{sx:{mb:2},children:e.jsxs(a,{variant:"h6",sx:{color:"#6366f1",fontWeight:700},children:["¥",o.price.toFixed(2)]})}),e.jsxs(t,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"游戏状态"}),e.jsxs(t,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[o.status==="pending"&&e.jsx(m,{variant:"outlined",size:"small",disabled:!0,sx:{minWidth:"auto",color:"#f59e0b",borderColor:"#f59e0b"},children:"待审核"}),o.status==="approved"&&e.jsx(m,{variant:"outlined",size:"small",onClick:()=>M(o,"draft"),sx:{minWidth:"auto",color:"#10b981",borderColor:"#10b981"},children:"已发布"}),o.status==="rejected"&&e.jsx(m,{variant:"outlined",size:"small",onClick:()=>M(o,"pending"),sx:{minWidth:"auto",color:"#ef4444",borderColor:"#ef4444"},children:"已拒绝"})]})]}),e.jsxs(t,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1},children:[e.jsx(m,{variant:"outlined",size:"small",startIcon:e.jsx(Xi,{}),onClick:()=>G(o),children:"预览"}),e.jsx(m,{variant:"outlined",size:"small",startIcon:e.jsx(Ui,{}),onClick:()=>w(o),children:"编辑"}),e.jsx(m,{variant:"contained",size:"small",startIcon:e.jsx(Xt,{}),onClick:()=>C(o),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"推广"}),e.jsx(m,{variant:"outlined",size:"small",startIcon:e.jsx(Ds,{}),onClick:()=>v(o),sx:{color:"#ef4444",borderColor:"#ef4444","&:hover":{bgcolor:"rgba(239, 68, 68, 0.08)"}},children:"删除"})]})]})]})},o.id))}),e.jsxs(Bt,{open:d,onClose:()=>h(!1),maxWidth:"lg",fullWidth:!0,children:[e.jsx($t,{sx:{fontWeight:"bold"},children:p==="create"?"创建新游戏":"编辑游戏"}),e.jsx(Ht,{children:e.jsxs(t,{sx:{mt:2},children:[e.jsx(a,{variant:"body1",children:p==="create"?"创建游戏表单":"编辑游戏表单"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"此功能将在后续开发中实现"})]})}),e.jsxs(Vt,{children:[e.jsx(m,{onClick:()=>h(!1),children:"取消"}),e.jsx(m,{variant:"contained",onClick:()=>h(!1),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:p==="create"?"创建":"保存"})]})]})]})};var fr={},zt;function Ji(){if(zt)return fr;zt=1;var n=W();Object.defineProperty(fr,"__esModule",{value:!0}),fr.default=void 0;var r=n(_()),s=k();return fr.default=(0,r.default)((0,s.jsx)("path",{d:"M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10m2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99m0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99z"}),"PieChart"),fr}var Ki=Ji();const Cs=I(Ki);var mr={},Pt;function eo(){if(Pt)return mr;Pt=1;var n=W();Object.defineProperty(mr,"__esModule",{value:!0}),mr.default=void 0;var r=n(_()),s=k();return mr.default=(0,r.default)((0,s.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart"),mr}var ro=eo();const Dt=I(ro),so=()=>{const n=re(),{user:r}=ee(f=>f.user),[s,i]=x.useState(!1),[d,h]=x.useState(""),[p,R]=x.useState("month"),[c,b]=x.useState("line"),[y,w]=x.useState(0),v={totalSales:1250,totalRevenue:38500.5,avgPrice:30.8,salesGrowth:12,revenueGrowth:8,dailySales:[{date:"12-01",sales:45,revenue:13500},{date:"12-02",sales:38,revenue:11400},{date:"12-03",sales:52,revenue:15600},{date:"12-04",sales:48,revenue:14400},{date:"12-05",sales:55,revenue:16500},{date:"12-06",sales:62,revenue:18600},{date:"12-07",sales:58,revenue:17400},{date:"12-08",sales:49,revenue:14700},{date:"12-09",sales:53,revenue:15900},{date:"12-10",sales:57,revenue:17100}],gameSales:[{id:1,title:"赛博朋克2077",sales:320,revenue:95360,price:298},{id:2,title:"艾尔登法环",sales:280,revenue:55720,price:199},{id:3,title:"黑神话：悟空",sales:250,revenue:67e3,price:268},{id:4,title:"星穹铁道",sales:180,revenue:0,price:0},{id:5,title:"星球大战：亡命徒",sales:120,revenue:29880,price:249}],regionalSales:[{region:"华东",sales:350,revenue:104300,percentage:28},{region:"华南",sales:280,revenue:83200,percentage:22},{region:"华北",sales:240,revenue:71520,percentage:18},{region:"西南",sales:180,revenue:53640,percentage:14},{region:"东北",sales:120,revenue:35760,percentage:9},{region:"西北",sales:80,revenue:23840,percentage:7}]};x.useEffect(()=>{if(!r){n("/login");return}if(r.role!=="developer"){h("您没有开发者权限，无法访问此页面");return}i(!0),setTimeout(()=>{i(!1)},1e3)},[r,n]);const G=f=>{R(f.target.value)},C=(f,u)=>{w(u)},M=()=>{n("/developer")},o=()=>{n("/developer/games")},D=()=>{n("/developer/finances")};return r?e.jsxs(V,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(t,{children:[e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:1},children:"销售分析"}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"查看您的游戏销售数据和趋势"})]}),e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsx(m,{variant:"outlined",startIcon:e.jsx(ge,{}),onClick:M,children:"返回仪表盘"}),e.jsx(m,{variant:"contained",startIcon:e.jsx(Xr,{}),onClick:D,children:"财务报表"})]})]}),d&&e.jsx(J,{severity:"error",sx:{mb:4},children:d}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #10b981",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总销量"}),e.jsx(Ce,{sx:{color:"#10b981"}})]}),e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:v.totalSales}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(a,{variant:"body2",color:"success.main",children:[v.salesGrowth,"% 增长"]})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #f59e0b",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总收入"}),e.jsx(ge,{sx:{color:"#f59e0b"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",v.totalRevenue.toFixed(2)]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(a,{variant:"body2",color:"success.main",children:[v.revenueGrowth,"% 增长"]})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #6366f1",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"平均价格"}),e.jsx(xe,{sx:{color:"#6366f1"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",v.avgPrice.toFixed(2)]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"5% 增长"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #ec4899",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"游戏数量"}),e.jsx(Ur,{sx:{color:"#ec4899"}})]}),e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:v.gameSales.length}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"1 款新游戏"})]})]})})]}),e.jsx(j,{sx:{p:3,borderRadius:2,mb:4},children:e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(t,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"时间范围："}),e.jsx(qs,{size:"small",sx:{minWidth:120},children:e.jsxs(Nt,{value:p,onChange:G,displayEmpty:!0,children:[e.jsx(te,{value:"week",children:"最近一周"}),e.jsx(te,{value:"month",children:"最近一个月"}),e.jsx(te,{value:"quarter",children:"最近三个月"}),e.jsx(te,{value:"year",children:"最近一年"})]})})]}),e.jsxs(t,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"图表类型："}),e.jsxs(t,{sx:{display:"flex",gap:1},children:[e.jsx(m,{variant:c==="line"?"contained":"outlined",size:"small",startIcon:e.jsx(Dt,{}),onClick:()=>b("line"),children:"折线图"}),e.jsx(m,{variant:c==="bar"?"contained":"outlined",size:"small",startIcon:e.jsx(Xr,{}),onClick:()=>b("bar"),children:"柱状图"}),e.jsx(m,{variant:c==="pie"?"contained":"outlined",size:"small",startIcon:e.jsx(Cs,{}),onClick:()=>b("pie"),children:"饼图"})]})]})]})}),e.jsx(t,{sx:{width:"100%",mb:4},children:e.jsxs(ze,{value:y,onChange:C,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTabs-indicator":{backgroundColor:"#6366f1"},"& .MuiTab-root.Mui-selected":{color:"#6366f1",fontWeight:"bold"}},children:[e.jsx(N,{label:"销售概览",sx:{minWidth:120}}),e.jsx(N,{label:"游戏详情",sx:{minWidth:120}}),e.jsx(N,{label:"地区分析",sx:{minWidth:120}})]})}),y===0&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:8,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"销售趋势"}),e.jsx(t,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(Dt,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"销售趋势图表"}),e.jsxs(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["显示最近 ",p==="week"?"7天":p==="month"?"30天":p==="quarter"?"90天":"365天"," 的销售数据"]})]})})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"销售分布"}),e.jsx(t,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(Cs,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"销售分布图表"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示不同游戏的销售占比"})]})})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"每日销售数据"}),e.jsx(be,{sx:{maxHeight:400},children:e.jsxs(ve,{"aria-label":"每日销售数据表",stickyHeader:!0,children:[e.jsx(ye,{children:e.jsxs(ne,{children:[e.jsx(g,{sx:{fontWeight:"bold"},children:"日期"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"销量"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"收入"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"平均价格"})]})}),e.jsx(we,{children:v.dailySales.map(f=>e.jsxs(ne,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(g,{children:f.date}),e.jsx(g,{children:f.sales}),e.jsxs(g,{children:["¥",f.revenue.toLocaleString()]}),e.jsx(g,{children:f.sales>0?`¥${(f.revenue/f.sales).toFixed(2)}`:"¥0.00"})]},f.date))})]})})]})})]}),y===1&&e.jsx(l,{container:!0,spacing:3,children:e.jsx(l,{item:!0,xs:12,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold"},children:"游戏销量排名"}),e.jsx(m,{variant:"outlined",size:"small",onClick:o,children:"管理游戏"})]}),e.jsx(be,{sx:{maxHeight:500},children:e.jsxs(ve,{"aria-label":"游戏销量排名表",stickyHeader:!0,children:[e.jsx(ye,{children:e.jsxs(ne,{children:[e.jsx(g,{sx:{fontWeight:"bold"},children:"排名"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"游戏名称"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"价格"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"销量"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"收入"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"平均单价"})]})}),e.jsx(we,{children:v.gameSales.map((f,u)=>e.jsxs(ne,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsxs(g,{sx:{fontWeight:"bold"},children:[u+1,u<3&&e.jsx(O,{label:u+1===1?"🥇":u+1===2?"🥈":"🥉",size:"small",sx:{ml:1}})]}),e.jsx(g,{sx:{fontWeight:"bold"},children:f.title}),e.jsx(g,{children:f.price===0?e.jsx(O,{label:"免费",size:"small",color:"success"}):`¥${f.price.toFixed(2)}`}),e.jsx(g,{children:f.sales}),e.jsxs(g,{children:["¥",f.revenue.toLocaleString()]}),e.jsx(g,{children:f.sales>0?`¥${(f.revenue/f.sales).toFixed(2)}`:"¥0.00"})]},f.id))})]})})]})})}),y===2&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"地区销售分布"}),e.jsx(t,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(Cs,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"地区销售分布图表"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示不同地区的销售占比"})]})})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"地区销售详情"}),e.jsx(be,{sx:{maxHeight:300},children:e.jsxs(ve,{"aria-label":"地区销售详情表",stickyHeader:!0,children:[e.jsx(ye,{children:e.jsxs(ne,{children:[e.jsx(g,{sx:{fontWeight:"bold"},children:"地区"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"销量"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"收入"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"占比"})]})}),e.jsx(we,{children:v.regionalSales.map(f=>e.jsxs(ne,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(g,{children:f.region}),e.jsx(g,{children:f.sales}),e.jsxs(g,{children:["¥",f.revenue.toLocaleString()]}),e.jsx(g,{children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(t,{sx:{width:60,height:8,bgcolor:"#334155",borderRadius:4,overflow:"hidden"},children:e.jsx(t,{sx:{width:`${f.percentage}%`,height:"100%",bgcolor:"#6366f1",borderRadius:4}})}),e.jsxs(a,{variant:"body2",sx:{fontWeight:"bold"},children:[f.percentage,"%"]})]})})]},f.region))})]})})]})})]})]}):null};var jr={},Mt;function to(){if(Mt)return jr;Mt=1;var n=W();Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=void 0;var r=n(_()),s=k();return jr.default=(0,r.default)((0,s.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),jr}var no=to();const Ss=I(no);var gr={},qt;function ao(){if(qt)return gr;qt=1;var n=W();Object.defineProperty(gr,"__esModule",{value:!0}),gr.default=void 0;var r=n(_()),s=k();return gr.default=(0,r.default)((0,s.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),gr}var io=ao();const oo=I(io);var br={},Lt;function lo(){if(Lt)return br;Lt=1;var n=W();Object.defineProperty(br,"__esModule",{value:!0}),br.default=void 0;var r=n(_()),s=k();return br.default=(0,r.default)((0,s.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm1 10h-4v1h3c.55 0 1 .45 1 1v3c0 .55-.45 1-1 1h-1v1h-2v-1H9v-2h4v-1h-3c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1h1V9h2v1h2zm-2-4V3.5L17.5 8z"}),"RequestQuote"),br}var co=lo();const xo=I(co);var vr={},At;function ho(){if(At)return vr;At=1;var n=W();Object.defineProperty(vr,"__esModule",{value:!0}),vr.default=void 0;var r=n(_()),s=k();return vr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"Pending"),vr}var uo=ho();const Or=I(uo);var yr={},Et;function po(){if(Et)return yr;Et=1;var n=W();Object.defineProperty(yr,"__esModule",{value:!0}),yr.default=void 0;var r=n(_()),s=k();return yr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),yr}var fo=po();const mo=I(fo);var wr={},Ot;function jo(){if(Ot)return wr;Ot=1;var n=W();Object.defineProperty(wr,"__esModule",{value:!0}),wr.default=void 0;var r=n(_()),s=k();return wr.default=(0,r.default)((0,s.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),wr}var go=jo();const bo=I(go),vo=()=>{const n=re(),{user:r}=ee(z=>z.user),[s,i]=x.useState(!1),[d,h]=x.useState(""),[p,R]=x.useState("month"),[c,b]=x.useState(0),[y,w]=x.useState(!1),[v,G]=x.useState(""),[C,M]=x.useState(""),o={balance:32500.75,availableBalance:28500.75,pendingBalance:4e3,totalRevenue:45600.5,totalWithdrawals:13100,revenueGrowth:8,incomeDetails:[{id:1,type:"game_sale",amount:298,date:"2025-12-01T10:30:00Z",description:"赛博朋克2077 销售",status:"completed"},{id:2,type:"game_sale",amount:199,date:"2025-12-01T15:45:00Z",description:"艾尔登法环 销售",status:"completed"},{id:3,type:"game_sale",amount:268,date:"2025-11-30T09:15:00Z",description:"黑神话：悟空 销售",status:"completed"},{id:4,type:"game_sale",amount:0,date:"2025-11-29T14:20:00Z",description:"星穹铁道 销售",status:"completed"},{id:5,type:"game_sale",amount:249,date:"2025-11-28T11:10:00Z",description:"星球大战：亡命徒 销售",status:"completed"},{id:6,type:"refund",amount:-298,date:"2025-11-27T16:30:00Z",description:"赛博朋克2077 退款",status:"completed"},{id:7,type:"game_sale",amount:298,date:"2025-11-26T08:45:00Z",description:"赛博朋克2077 销售",status:"completed"},{id:8,type:"game_sale",amount:199,date:"2025-11-25T13:20:00Z",description:"艾尔登法环 销售",status:"completed"}],withdrawalRequests:[{id:1,amount:5e3,date:"2025-11-15T10:00:00Z",status:"completed",account:"支付宝 - 138****1234",processedAt:"2025-11-16T14:30:00Z"},{id:2,amount:3e3,date:"2025-10-20T15:30:00Z",status:"completed",account:"微信 - 138****1234",processedAt:"2025-10-21T10:15:00Z"},{id:3,amount:5100,date:"2025-09-10T09:45:00Z",status:"completed",account:"银行转账 - 工商银行 ****1234",processedAt:"2025-09-11T16:20:00Z"},{id:4,amount:4e3,date:"2025-12-05T14:20:00Z",status:"pending",account:"支付宝 - 138****1234",processedAt:null},{id:5,amount:2e3,date:"2025-08-25T11:10:00Z",status:"canceled",account:"支付宝 - 138****1234",processedAt:null}]};x.useEffect(()=>{if(!r){n("/login");return}if(r.role!=="developer"){h("您没有开发者权限，无法访问此页面");return}i(!0),setTimeout(()=>{i(!1)},1e3)},[r,n]);const D=z=>{R(z.target.value)},f=(z,oe)=>{b(oe)},u=()=>{w(!0)},L=()=>{w(!1),G(""),M("")},P=()=>{console.log("提交提现申请:",{amount:v,account:C}),L()},Y=()=>{n("/developer")},S=()=>{n("/developer/sales")},Z=z=>new Date(z).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),ie=z=>{switch(z){case"completed":return{icon:e.jsx(me,{}),color:"success",label:"已完成"};case"pending":return{icon:e.jsx(Or,{}),color:"warning",label:"待处理"};case"canceled":return{icon:e.jsx(mo,{}),color:"error",label:"已取消"};default:return{icon:e.jsx(Or,{}),color:"info",label:"未知状态"}}};return r?e.jsxs(V,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(t,{children:[e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:1},children:"财务报表"}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"查看您的财务状况和交易记录"})]}),e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsx(m,{variant:"outlined",startIcon:e.jsx(ge,{}),onClick:Y,children:"返回仪表盘"}),e.jsx(m,{variant:"contained",startIcon:e.jsx(Xr,{}),onClick:S,children:"销售分析"}),e.jsx(m,{variant:"contained",startIcon:e.jsx(ke,{}),onClick:u,sx:{bgcolor:"#10b981","&:hover":{bgcolor:"#059669"}},children:"申请提现"})]})]}),d&&e.jsx(J,{severity:"error",sx:{mb:4},children:d}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #6366f1",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"账户余额"}),e.jsx(Rr,{sx:{color:"#6366f1"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",o.balance.toFixed(2)]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(a,{variant:"body2",color:"success.main",children:[o.revenueGrowth,"% 增长"]})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #10b981",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"可用余额"}),e.jsx(bo,{sx:{color:"#10b981"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",o.availableBalance.toFixed(2)]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"上月增长 12%"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #f59e0b",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"待处理金额"}),e.jsx(Or,{sx:{color:"#f59e0b"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",o.pendingBalance.toFixed(2)]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ms,{sx:{fontSize:"0.8rem",color:"warning.main"}}),e.jsx(a,{variant:"body2",color:"warning.main",children:"4笔交易待处理"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(j,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #ec4899",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总收入"}),e.jsx(ge,{sx:{color:"#ec4899"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",o.totalRevenue.toFixed(2)]}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(a,{variant:"body2",color:"success.main",children:[o.revenueGrowth,"% 增长"]})]})]})})]}),e.jsx(j,{sx:{p:3,borderRadius:2,mb:4},children:e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(t,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"时间范围："}),e.jsx(qs,{size:"small",sx:{minWidth:120},children:e.jsxs(Nt,{value:p,onChange:D,displayEmpty:!0,children:[e.jsx(te,{value:"week",children:"最近一周"}),e.jsx(te,{value:"month",children:"最近一个月"}),e.jsx(te,{value:"quarter",children:"最近三个月"}),e.jsx(te,{value:"year",children:"最近一年"})]})})]}),e.jsxs(t,{sx:{display:"flex",gap:2},children:[e.jsx(m,{variant:"outlined",size:"small",startIcon:e.jsx(Ca,{}),children:"筛选"}),e.jsx(m,{variant:"outlined",size:"small",startIcon:e.jsx(ke,{}),children:"导出报表"})]})]})}),e.jsx(t,{sx:{width:"100%",mb:4},children:e.jsxs(ze,{value:c,onChange:f,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTabs-indicator":{backgroundColor:"#6366f1"},"& .MuiTab-root.Mui-selected":{color:"#6366f1",fontWeight:"bold"}},children:[e.jsx(N,{label:"财务概览",sx:{minWidth:120}}),e.jsx(N,{label:"收支明细",sx:{minWidth:120}}),e.jsx(N,{label:"提现记录",sx:{minWidth:120}})]})}),c===0&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:8,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"月收入趋势"}),e.jsx(t,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(ge,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"月收入趋势图表"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示最近12个月的收入数据"})]})})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"财务统计"}),e.jsxs(ue,{sx:{width:"100%",maxWidth:360},children:[e.jsxs(A,{children:[e.jsx(pe,{children:e.jsx(de,{sx:{bgcolor:"#6366f1"},children:e.jsx(ge,{})})}),e.jsx(E,{primary:"总收入",secondary:`¥${o.totalRevenue.toFixed(2)}`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]}),e.jsx(Q,{variant:"inset",component:"li"}),e.jsxs(A,{children:[e.jsx(pe,{children:e.jsx(de,{sx:{bgcolor:"#10b981"},children:e.jsx(ke,{})})}),e.jsx(E,{primary:"总提现",secondary:`¥${o.totalWithdrawals.toFixed(2)}`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]}),e.jsx(Q,{variant:"inset",component:"li"}),e.jsxs(A,{children:[e.jsx(pe,{children:e.jsx(de,{sx:{bgcolor:"#f59e0b"},children:e.jsx(Rr,{})})}),e.jsx(E,{primary:"当前余额",secondary:`¥${o.balance.toFixed(2)}`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]}),e.jsx(Q,{variant:"inset",component:"li"}),e.jsxs(A,{children:[e.jsx(pe,{children:e.jsx(de,{sx:{bgcolor:"#ec4899"},children:e.jsx(oo,{})})}),e.jsx(E,{primary:"提现次数",secondary:`${o.withdrawalRequests.length} 次`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]})]})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"收入构成"}),e.jsx(t,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(t,{sx:{textAlign:"center"},children:[e.jsx(Ir,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"收入构成图表"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示不同游戏的收入占比"})]})})]})})]}),c===1&&e.jsx(l,{container:!0,spacing:3,children:e.jsx(l,{item:!0,xs:12,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"收支明细"}),e.jsx(be,{sx:{maxHeight:600},children:e.jsxs(ve,{"aria-label":"收支明细表",stickyHeader:!0,children:[e.jsx(ye,{children:e.jsxs(ne,{children:[e.jsx(g,{sx:{fontWeight:"bold"},children:"日期"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"类型"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"描述"}),e.jsx(g,{sx:{fontWeight:"bold",textAlign:"right"},children:"金额"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"状态"})]})}),e.jsx(we,{children:o.incomeDetails.map(z=>e.jsxs(ne,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(g,{children:Z(z.date)}),e.jsx(g,{children:e.jsx(O,{label:z.type==="game_sale"?"游戏销售":z.type==="refund"?"退款":"其他",size:"small",color:z.type==="game_sale"?"success":z.type==="refund"?"error":"info",icon:z.type==="game_sale"?e.jsx(xe,{}):e.jsx(Ms,{})})}),e.jsx(g,{children:z.description}),e.jsxs(g,{sx:{fontWeight:"bold",textAlign:"right",color:z.amount>=0?"success.main":"error.main"},children:[z.amount>=0?"+":"","¥",z.amount.toFixed(2)]}),e.jsx(g,{children:e.jsx(O,{label:z.status==="completed"?"已完成":"待处理",size:"small",color:z.status==="completed"?"success":"warning",icon:z.status==="completed"?e.jsx(me,{}):e.jsx(Or,{})})})]},z.id))})]})})]})})}),c===2&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"提现记录"}),e.jsx(be,{sx:{maxHeight:600},children:e.jsxs(ve,{"aria-label":"提现记录表",stickyHeader:!0,children:[e.jsx(ye,{children:e.jsxs(ne,{children:[e.jsx(g,{sx:{fontWeight:"bold"},children:"提现日期"}),e.jsx(g,{sx:{fontWeight:"bold",textAlign:"right"},children:"金额"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"账户"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"状态"}),e.jsx(g,{sx:{fontWeight:"bold"},children:"处理时间"})]})}),e.jsx(we,{children:o.withdrawalRequests.map(z=>{const oe=ie(z.status);return e.jsxs(ne,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(g,{children:Z(z.date)}),e.jsxs(g,{sx:{fontWeight:"bold",textAlign:"right"},children:["¥",z.amount.toFixed(2)]}),e.jsx(g,{children:z.account}),e.jsx(g,{children:e.jsx(O,{label:oe.label,size:"small",color:oe.color,icon:oe.icon})}),e.jsx(g,{children:z.processedAt?Z(z.processedAt):"-"})]},z.id)})})]})})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(j,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"提现说明"}),e.jsxs(Kr,{sx:{bgcolor:"#1e293b",mb:2},children:[e.jsx(es,{expandIcon:e.jsx(Ss,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"提现规则"})}),e.jsx(rs,{children:e.jsxs(ue,{children:[e.jsx(A,{children:e.jsx(E,{primary:"1. 最低提现金额：¥100"})}),e.jsx(A,{children:e.jsx(E,{primary:"2. 提现手续费：免费"})}),e.jsx(A,{children:e.jsx(E,{primary:"3. 提现处理时间：1-3个工作日"})}),e.jsx(A,{children:e.jsx(E,{primary:"4. 每月提现次数：无限制"})})]})})]}),e.jsxs(Kr,{sx:{bgcolor:"#1e293b",mb:2},children:[e.jsx(es,{expandIcon:e.jsx(Ss,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"支持的提现方式"})}),e.jsx(rs,{children:e.jsxs(ue,{children:[e.jsxs(A,{children:[e.jsx(ListItemIcon,{children:e.jsx(Ir,{})}),e.jsx(E,{primary:"支付宝"})]}),e.jsxs(A,{children:[e.jsx(ListItemIcon,{children:e.jsx(Ir,{})}),e.jsx(E,{primary:"微信支付"})]}),e.jsxs(A,{children:[e.jsx(ListItemIcon,{children:e.jsx(Ir,{})}),e.jsx(E,{primary:"银行转账"})]})]})})]}),e.jsxs(Kr,{sx:{bgcolor:"#1e293b"},children:[e.jsx(es,{expandIcon:e.jsx(Ss,{}),"aria-controls":"panel3a-content",id:"panel3a-header",children:e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"提现常见问题"})}),e.jsx(rs,{children:e.jsxs(ue,{children:[e.jsx(A,{children:e.jsx(E,{primary:"Q: 提现申请提交后可以取消吗？",secondary:"A: 提现申请提交后，在处理前可以取消，处理中或已完成的提现无法取消。"})}),e.jsx(A,{children:e.jsx(E,{primary:"Q: 提现失败怎么办？",secondary:"A: 提现失败后，资金会自动退回您的账户余额，请检查您的提现账户信息是否正确。"})})]})})]})]})})]}),e.jsxs(Bt,{open:y,onClose:L,maxWidth:"sm",fullWidth:!0,children:[e.jsx($t,{sx:{fontWeight:"bold"},children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xo,{sx:{color:"#6366f1"}}),"申请提现"]})}),e.jsxs(Ht,{children:[e.jsx(t,{sx:{mt:2,mb:3},children:e.jsxs(a,{variant:"body1",color:"text.secondary",children:["当前可用余额：",e.jsxs("span",{style:{fontWeight:"bold",color:"#10b981"},children:["¥",o.availableBalance.toFixed(2)]})]})}),e.jsx($,{autoFocus:!0,margin:"dense",label:"提现金额",type:"number",fullWidth:!0,variant:"outlined",value:v,onChange:z=>G(z.target.value),placeholder:"请输入提现金额，最低¥100",sx:{mb:2}}),e.jsx($,{margin:"dense",label:"提现账户",type:"text",fullWidth:!0,variant:"outlined",value:C,onChange:z=>M(z.target.value),placeholder:"请输入提现账户信息",sx:{mb:2}}),e.jsxs(t,{sx:{mt:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"提现说明："})}),e.jsxs(ue,{sx:{mt:1},children:[e.jsx(A,{sx:{padding:0},children:e.jsx(E,{primary:"• 最低提现金额：¥100",secondary:""})}),e.jsx(A,{sx:{padding:0},children:e.jsx(E,{primary:"• 提现处理时间：1-3个工作日",secondary:""})}),e.jsx(A,{sx:{padding:0},children:e.jsx(E,{primary:"• 提现手续费：免费",secondary:""})})]})]})]}),e.jsxs(Vt,{children:[e.jsx(m,{onClick:L,children:"取消"}),e.jsx(m,{onClick:P,variant:"contained",sx:{bgcolor:"#10b981","&:hover":{bgcolor:"#059669"}},disabled:!v||parseFloat(v)<100||parseFloat(v)>o.availableBalance,children:"提交申请"})]})]})]}):null};var Cr={},Tt;function yo(){if(Tt)return Cr;Tt=1;var n=W();Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.default=void 0;var r=n(_()),s=k();return Cr.default=(0,r.default)((0,s.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),Cr}var wo=yo();const Co=I(wo),Gt=()=>{const n=re(),r=()=>{n("/")};return e.jsxs(V,{maxWidth:"md",sx:{py:12,textAlign:"center"},children:[e.jsx(t,{sx:{mb:4},children:e.jsx(Co,{sx:{fontSize:120,color:"#6366f1"}})}),e.jsx(a,{variant:"h3",component:"h1",sx:{fontWeight:"bold",mb:2},children:"404 - 页面不存在"}),e.jsx(a,{variant:"h6",sx:{color:"text.secondary",mb:4},children:"抱歉，您访问的页面不存在或已被移除。"}),e.jsx(m,{variant:"contained",size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4,py:1.5},onClick:r,children:"返回首页"})]})},Is=({platform:n,downloadInfo:r,gradientColors:s,color:i})=>{const d={windows:"Windows",mac:"macOS",linux:"Linux"};return e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(Yr,{sx:{height:"100%",borderRadius:{xs:3,md:4},boxShadow:"0 10px 30px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)","&:hover":{boxShadow:`0 20px 60px rgba(${s[0]}, 0.25)`,transform:"translateY(-8px) scale(1.02)"}},children:[r.recommended&&e.jsx(t,{sx:{position:"absolute",top:0,right:0,bgcolor:"#10b981",color:"white",px:2,py:.5,borderRadius:"0 4px 0 4px",fontSize:"0.875rem",fontWeight:600,zIndex:1},children:"推荐"}),e.jsx(t,{sx:{position:"absolute",top:0,left:0,width:"100%",height:4,background:`linear-gradient(90deg, ${s[0]} 0%, ${s[1]} 100%)`,zIndex:1}}),e.jsxs(Zr,{sx:{pt:4,pb:4,position:"relative",zIndex:1},children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:3},children:e.jsx(t,{sx:{width:120,height:120,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:`linear-gradient(135deg, rgba(${s[0]}, 0.1) 0%, rgba(${s[1]}, 0.1) 100%)`,transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)",background:`linear-gradient(135deg, rgba(${s[0]}, 0.2) 0%, rgba(${s[1]}, 0.2) 100%)`}},children:e.jsx(t,{sx:{width:80,height:80,borderRadius:"50%",background:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",color:i,fontWeight:700,fontSize:"1.5rem"},children:d[n]})})}),e.jsx(a,{variant:"h5",component:"h3",sx:{fontWeight:700,mb:2,textAlign:"center",color:"#1e293b"},children:d[n]}),e.jsx(Q,{sx:{mb:3,borderColor:`rgba(${s[0]}, 0.2)`}}),e.jsxs(t,{sx:{mb:3,p:3,bgcolor:`rgba(${s[0]}, 0.05)`,borderRadius:2},children:[e.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:1,fontSize:"0.875rem"},children:"版本"}),e.jsx(a,{variant:"h6",sx:{fontWeight:600,color:i,fontSize:"1.25rem"},children:r.version})]}),e.jsxs(t,{sx:{mb:4,p:3,bgcolor:`rgba(${s[0]}, 0.05)`,borderRadius:2},children:[e.jsx(a,{variant:"body2",sx:{color:"text.secondary",mb:1,fontSize:"0.875rem"},children:"大小"}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,fontSize:"1.1rem"},children:r.size})]}),e.jsx(m,{variant:"contained",fullWidth:!0,startIcon:e.jsx(mn,{}),sx:{borderRadius:2,bgcolor:`linear-gradient(135deg, ${s[0]} 0%, ${s[1]} 100%)`,"&:hover":{bgcolor:`linear-gradient(135deg, ${s[1]} 0%, ${s[0]} 100%)`,transform:"translateY(-2px)",boxShadow:`0 10px 25px rgba(${s[0]}, 0.4)`},py:1.5,fontSize:"1rem",fontWeight:600,boxShadow:`0 4px 15px rgba(${s[0]}, 0.3)`,transition:"all 0.3s ease"},children:"立即下载"})]})]})})},Rs=({platform:n,requirements:r,gradientColors:s,color:i})=>{const d={windows:"Win",mac:"Mac",linux:"Linux"},h={windows:"Windows",mac:"macOS",linux:"Linux"};return e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(j,{sx:{p:{xs:3,md:4},borderRadius:{xs:3,md:4},boxShadow:"0 8px 25px rgba(0, 0, 0, 0.1)",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:`0 15px 40px rgba(${s[0]}, ${s[1]})`,transform:"translateY(-5px)"}},children:[e.jsx(t,{sx:{position:"absolute",top:0,left:0,width:"100%",height:4,background:`linear-gradient(90deg, ${s[0]} 0%, ${s[1]} 100%)`,zIndex:1}}),e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,mb:4,position:"relative",zIndex:2},children:[e.jsx(t,{sx:{width:60,height:60,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:`linear-gradient(135deg, rgba(${s[0]}, 0.1) 0%, rgba(${s[1]}, 0.1) 100%)`,transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)",background:`linear-gradient(135deg, rgba(${s[0]}, 0.2) 0%, rgba(${s[1]}, 0.2) 100%)`}},children:e.jsx(t,{sx:{width:40,height:40,borderRadius:"50%",background:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",color:i,fontWeight:700,fontSize:"1rem"},children:d[n]})}),e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#1e293b"},children:h[n]})]}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:2.5,position:"relative",zIndex:2},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2,p:2,borderRadius:2,background:`rgba(${s[0]}, 0.05)`,transition:"all 0.3s ease","&:hover":{background:`rgba(${s[0]}, 0.1)`,transform:"translateX(5px)"}},children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50%",background:`rgba(${s[0]}, 0.2)`,mt:.5},children:e.jsx(_r,{sx:{color:i,fontSize:16}})}),e.jsxs(t,{sx:{flex:1},children:[e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary",fontSize:"0.875rem",mb:.5},children:"操作系统"}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,color:"#1e293b"},children:r.os})]})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2,p:2,borderRadius:2,background:`rgba(${s[0]}, 0.05)`,transition:"all 0.3s ease","&:hover":{background:`rgba(${s[0]}, 0.1)`,transform:"translateX(5px)"}},children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50%",background:`rgba(${s[0]}, 0.2)`,mt:.5},children:e.jsx(jn,{sx:{color:i,fontSize:16}})}),e.jsxs(t,{sx:{flex:1},children:[e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary",fontSize:"0.875rem",mb:.5},children:"处理器"}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,color:"#1e293b"},children:r.cpu})]})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2,p:2,borderRadius:2,background:`rgba(${s[0]}, 0.05)`,transition:"all 0.3s ease","&:hover":{background:`rgba(${s[0]}, 0.1)`,transform:"translateX(5px)"}},children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50%",background:`rgba(${s[0]}, 0.2)`,mt:.5},children:e.jsx(_r,{sx:{color:i,fontSize:16}})}),e.jsxs(t,{sx:{flex:1},children:[e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary",fontSize:"0.875rem",mb:.5},children:"内存"}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,color:"#1e293b"},children:r.ram})]})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2,p:2,borderRadius:2,background:`rgba(${s[0]}, 0.05)`,transition:"all 0.3s ease","&:hover":{background:`rgba(${s[0]}, 0.1)`,transform:"translateX(5px)"}},children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50%",background:`rgba(${s[0]}, 0.2)`,mt:.5},children:e.jsx(_r,{sx:{color:i,fontSize:16}})}),e.jsxs(t,{sx:{flex:1},children:[e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary",fontSize:"0.875rem",mb:.5},children:"存储空间"}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,color:"#1e293b"},children:r.storage})]})]}),e.jsxs(t,{sx:{display:"flex",alignItems:"flex-start",gap:2,p:2,borderRadius:2,background:`rgba(${s[0]}, 0.05)`,transition:"all 0.3s ease","&:hover":{background:`rgba(${s[0]}, 0.1)`,transform:"translateX(5px)"}},children:[e.jsx(t,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50%",background:`rgba(${s[0]}, 0.2)`,mt:.5},children:e.jsx(_r,{sx:{color:i,fontSize:16}})}),e.jsxs(t,{sx:{flex:1},children:[e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary",fontSize:"0.875rem",mb:.5},children:"显卡"}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,color:"#1e293b"},children:r.gpu})]})]})]})]})})},So=()=>{const n=re(),r={windows:{url:"#",size:"50MB",version:"v1.0.0",recommended:!0},mac:{url:"#",size:"45MB",version:"v1.0.0",recommended:!1},linux:{url:"#",size:"40MB",version:"v1.0.0",recommended:!1}},s={windows:{os:"Windows 10/11 (64位)",cpu:"Intel i5 8th gen 或 AMD Ryzen 5",ram:"8GB RAM",storage:"至少 2GB 可用空间",gpu:"NVIDIA GeForce GTX 1050 或 AMD Radeon RX 560"},mac:{os:"macOS 11 Big Sur 或更高版本",cpu:"Intel Core i5 或 Apple Silicon",ram:"8GB RAM",storage:"至少 2GB 可用空间",gpu:"集成显卡即可"},linux:{os:"Ubuntu 20.04 LTS 或其他主流发行版",cpu:"Intel i5 或 AMD Ryzen 5",ram:"8GB RAM",storage:"至少 2GB 可用空间",gpu:"NVIDIA GeForce GTX 1050 或 AMD Radeon RX 560"}};return e.jsxs(V,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(t,{sx:{textAlign:"center",mb:6},children:[e.jsx(a,{variant:"h3",component:"h1",sx:{fontWeight:700,mb:2,color:"#6366f1"},children:"下载木鱼游戏客户端"}),e.jsx(a,{variant:"h6",component:"p",sx:{color:"text.secondary",maxWidth:600,mx:"auto"},children:"获取最新版本的木鱼游戏客户端，享受更流畅的游戏体验"})]}),e.jsx(t,{sx:{position:"fixed",top:20,left:20,zIndex:1e3},children:e.jsx(m,{variant:"outlined",onClick:()=>n("/"),sx:{bgcolor:"rgba(255, 255, 255, 0.9)",borderColor:"rgba(99, 102, 241, 0.3)",color:"#6366f1","&:hover":{borderColor:"rgba(99, 102, 241, 0.6)",bgcolor:"rgba(255, 255, 255, 1)",transform:"translateY(-2px)"},borderRadius:2,px:2,py:1,fontWeight:600,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease"},children:"← 返回首页"})}),e.jsxs(j,{sx:{p:{xs:3,md:6},borderRadius:{xs:2,md:4},mb:6,background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",color:"white",boxShadow:"0 15px 40px rgba(99, 102, 241, 0.3)",position:"relative",overflow:"hidden"},children:[e.jsx(t,{sx:{position:"absolute",top:-100,right:-100,width:300,height:300,borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",zIndex:0}}),e.jsx(t,{sx:{position:"absolute",bottom:-150,left:-150,width:400,height:400,borderRadius:"50%",background:"rgba(255, 255, 255, 0.05)",zIndex:0}}),e.jsxs(l,{container:!0,spacing:{xs:4,md:8},alignItems:"center",sx:{position:"relative",zIndex:1},children:[e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"h4",sx:{fontWeight:700,mb:4,lineHeight:1.2},children:"为什么选择木鱼游戏客户端？"}),e.jsxs(l,{container:!0,spacing:{xs:2,md:3},sx:{mb:5},children:[e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,p:3,bgcolor:"rgba(255, 255, 255, 0.1)",borderRadius:2,transition:"all 0.3s ease","&:hover":{bgcolor:"rgba(255, 255, 255, 0.15)",transform:"translateX(5px)"}},children:[e.jsx(zr,{sx:{fontSize:28,color:"#10b981",flexShrink:0}}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,fontSize:"1.1rem"},children:"更快的下载速度"})]})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,p:3,bgcolor:"rgba(255, 255, 255, 0.1)",borderRadius:2,transition:"all 0.3s ease","&:hover":{bgcolor:"rgba(255, 255, 255, 0.15)",transform:"translateX(5px)"}},children:[e.jsx(zr,{sx:{fontSize:28,color:"#10b981",flexShrink:0}}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,fontSize:"1.1rem"},children:"自动游戏更新"})]})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,p:3,bgcolor:"rgba(255, 255, 255, 0.1)",borderRadius:2,transition:"all 0.3s ease","&:hover":{bgcolor:"rgba(255, 255, 255, 0.15)",transform:"translateX(5px)"}},children:[e.jsx(zr,{sx:{fontSize:28,color:"#10b981",flexShrink:0}}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,fontSize:"1.1rem"},children:"安全可靠的游戏库"})]})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,p:3,bgcolor:"rgba(255, 255, 255, 0.1)",borderRadius:2,transition:"all 0.3s ease","&:hover":{bgcolor:"rgba(255, 255, 255, 0.15)",transform:"translateX(5px)"}},children:[e.jsx(zr,{sx:{fontSize:28,color:"#10b981",flexShrink:0}}),e.jsx(a,{variant:"body1",sx:{fontWeight:600,fontSize:"1.1rem"},children:"实时游戏资讯"})]})})]}),e.jsx(t,{sx:{display:"flex",gap:3,flexWrap:"wrap"},children:e.jsx(m,{variant:"outlined",onClick:()=>n("/download"),sx:{borderColor:"white",color:"white","&:hover":{borderColor:"white",bgcolor:"rgba(255, 255, 255, 0.1)",transform:"translateY(-2px)"},borderRadius:2,px:4,py:1.5,fontWeight:600,transition:"all 0.3s ease"},children:"立即下载"})})]}),e.jsx(l,{item:!0,xs:12,md:6,sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:{xs:4,md:0}},children:e.jsx(t,{sx:{position:"relative",width:"100%",maxWidth:450,transform:{md:"translateY(10px)"}},children:e.jsx(t,{sx:{position:"absolute",top:20,right:20,width:100,height:100,borderRadius:2,background:"linear-gradient(45deg, rgba(255, 255, 255, 0.2), transparent)",zIndex:1,transform:"rotate(15deg)"}})})})]})]}),e.jsxs(t,{sx:{mb:8},children:[e.jsx(a,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:4,textAlign:"center",color:"#1e293b"},children:"选择您的平台"}),e.jsxs(l,{container:!0,spacing:{xs:3,md:4},justifyContent:"center",children:[e.jsx(Is,{platform:"windows",downloadInfo:r.windows,gradientColors:["#6366f1","#8b5cf6"],color:"#6366f1"}),e.jsx(Is,{platform:"mac",downloadInfo:r.mac,gradientColors:["#06b6d4","#3b82f6"],color:"#06b6d4"}),e.jsx(Is,{platform:"linux",downloadInfo:r.linux,gradientColors:["#10b981","#34d399"],color:"#10b981"})]})]}),e.jsxs(t,{sx:{mb:8},children:[e.jsx(a,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:4,textAlign:"center",color:"#1e293b"},children:"系统要求"}),e.jsxs(l,{container:!0,spacing:{xs:3,md:4},children:[e.jsx(Rs,{platform:"windows",requirements:s.windows,gradientColors:["#6366f1","#8b5cf6"],color:"#6366f1"}),e.jsx(Rs,{platform:"mac",requirements:s.mac,gradientColors:["#06b6d4","#3b82f6"],color:"#06b6d4"}),e.jsx(Rs,{platform:"linux",requirements:s.linux,gradientColors:["#10b981","#34d399"],color:"#10b981"})]})]}),e.jsxs(t,{sx:{mb:6},children:[e.jsx(a,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:4,textAlign:"center",color:"#1e293b"},children:"安装说明"}),e.jsxs(j,{sx:{p:{xs:3,md:6},borderRadius:{xs:3,md:4},boxShadow:"0 12px 35px rgba(0, 0, 0, 0.1)",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",position:"relative",overflow:"hidden"},children:[e.jsx(t,{sx:{position:"absolute",top:-50,right:-50,width:200,height:200,borderRadius:"50%",background:"rgba(99, 102, 241, 0.05)",zIndex:0}}),e.jsx(t,{sx:{position:"absolute",bottom:-80,left:-80,width:300,height:300,borderRadius:"50%",background:"rgba(139, 92, 246, 0.05)",zIndex:0}}),e.jsxs(l,{container:!0,spacing:{xs:3,md:6},sx:{position:"relative",zIndex:1},children:[e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsxs(t,{sx:{mb:4,p:3,borderRadius:3,background:"rgba(99, 102, 241, 0.05)",transition:"all 0.3s ease","&:hover":{background:"rgba(99, 102, 241, 0.1)",transform:"translateX(5px)",boxShadow:"0 8px 20px rgba(99, 102, 241, 0.15)"}},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(t,{sx:{width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",color:"white",fontWeight:700,fontSize:"1.1rem"},children:"1"}),e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#6366f1"},children:"下载安装包"})]}),e.jsx(a,{variant:"body1",sx:{color:"text.secondary",ml:6},children:"从上方选择您的平台，点击「立即下载」按钮下载安装包。"})]}),e.jsxs(t,{sx:{mb:4,p:3,borderRadius:3,background:"rgba(99, 102, 241, 0.05)",transition:"all 0.3s ease","&:hover":{background:"rgba(99, 102, 241, 0.1)",transform:"translateX(5px)",boxShadow:"0 8px 20px rgba(99, 102, 241, 0.15)"}},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(t,{sx:{width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",color:"white",fontWeight:700,fontSize:"1.1rem"},children:"2"}),e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#6366f1"},children:"运行安装程序"})]}),e.jsx(a,{variant:"body1",sx:{color:"text.secondary",ml:6},children:"找到下载的安装包，双击运行安装程序。按照提示完成安装步骤。"})]}),e.jsxs(t,{sx:{mb:4,p:3,borderRadius:3,background:"rgba(99, 102, 241, 0.05)",transition:"all 0.3s ease","&:hover":{background:"rgba(99, 102, 241, 0.1)",transform:"translateX(5px)",boxShadow:"0 8px 20px rgba(99, 102, 241, 0.15)"}},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(t,{sx:{width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",color:"white",fontWeight:700,fontSize:"1.1rem"},children:"3"}),e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#6366f1"},children:"登录您的账号"})]}),e.jsx(a,{variant:"body1",sx:{color:"text.secondary",ml:6},children:"安装完成后，打开木鱼游戏客户端，使用您的账号登录。"})]})]}),e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsxs(t,{sx:{mb:4,p:3,borderRadius:3,background:"rgba(139, 92, 246, 0.05)",transition:"all 0.3s ease","&:hover":{background:"rgba(139, 92, 246, 0.1)",transform:"translateX(5px)",boxShadow:"0 8px 20px rgba(139, 92, 246, 0.15)"}},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(t,{sx:{width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:"linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%)",color:"white",fontWeight:700,fontSize:"1.1rem"},children:"4"}),e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#8b5cf6"},children:"开始使用"})]}),e.jsx(a,{variant:"body1",sx:{color:"text.secondary",ml:6},children:"登录成功后，您可以浏览游戏商城，购买游戏，或者直接进入您的游戏库。"})]}),e.jsxs(t,{sx:{mb:4,p:3,borderRadius:3,background:"rgba(139, 92, 246, 0.05)",transition:"all 0.3s ease","&:hover":{background:"rgba(139, 92, 246, 0.1)",transform:"translateX(5px)",boxShadow:"0 8px 20px rgba(139, 92, 246, 0.15)"}},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(t,{sx:{width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",background:"linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%)",color:"white",fontWeight:700,fontSize:"1.1rem"},children:"5"}),e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#8b5cf6"},children:"自动更新"})]}),e.jsx(a,{variant:"body1",sx:{color:"text.secondary",ml:6},children:"客户端会自动检查更新，确保您始终使用最新版本。"})]}),e.jsx(J,{severity:"info",sx:{mt:2,borderRadius:2,background:"linear-gradient(135deg, rgba(25, 118, 210, 0.08) 0%, rgba(37, 99, 235, 0.08) 100%)",border:"1px solid rgba(25, 118, 210, 0.2)","& .MuiAlert-icon":{color:"#3b82f6"}},children:e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[e.jsx(a,{variant:"body1",sx:{fontWeight:600,color:"#3b82f6",flexShrink:0},children:"提示："}),e.jsx(a,{variant:"body1",sx:{color:"text.primary"},children:"首次安装客户端时，可能需要一些时间进行初始化配置。"})]})})]})]})]})]}),e.jsxs(t,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:[e.jsx(a,{variant:"body2",children:"© 2025 木鱼游戏平台. 保留所有权利."}),e.jsx(a,{variant:"caption",sx:{display:"block",mt:1},children:"木鱼游戏客户端仅适用于木鱼游戏平台购买的游戏。"})]})]})},Io=({onToggleSidebar:n})=>{const r=re(),s=ae(),{user:i}=ee(D=>D.user),{totalItems:d}=ee(D=>D.cart),[h,p]=_e.useState(null),[R,c]=_e.useState(null),[b,y]=x.useState(""),w=D=>{D.preventDefault(),b.trim()&&r(`/games?search=${encodeURIComponent(b.trim())}`)},v=D=>{c(D.currentTarget)},G=()=>{p(null)},C=()=>{c(null)},M=D=>{r(D),G(),C()},o=async()=>{try{await s(Hr()).unwrap(),r("/"),C()}catch(D){console.error("登出失败:",D)}};return e.jsxs(e.Fragment,{children:[e.jsx(gn,{position:"static",sx:{bgcolor:"#1e293b",boxShadow:3},children:e.jsxs(bn,{children:[e.jsx(a,{variant:"h5",component:"div",sx:{fontWeight:"bold",color:"#6366f1",cursor:"pointer",mr:4},onClick:()=>r("/"),children:"木鱼游戏"}),e.jsx(t,{sx:{display:{xs:"none",md:"flex"},flexGrow:1,maxWidth:600,mr:4},children:e.jsxs(j,{component:"form",onSubmit:w,sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%",borderRadius:2,bgcolor:"#334155"},children:[e.jsx($,{placeholder:"搜索游戏、开发者或标签",value:b,onChange:D=>y(D.target.value),variant:"standard",sx:{ml:1,flex:1,"& .MuiInputBase-input":{color:"white","&::placeholder":{color:"#94a3b8",opacity:1}},"& .MuiInputBase-root":{"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"}}},InputProps:{disableUnderline:!0}}),e.jsx(U,{type:"submit",sx:{p:1,color:"#6366f1"},"aria-label":"search",children:e.jsx(ks,{})})]})}),e.jsxs(t,{sx:{display:{xs:"none",md:"flex"},gap:2},children:[e.jsx(m,{color:"inherit",onClick:()=>r("/games"),children:"游戏商城"}),e.jsx(m,{color:"inherit",onClick:()=>r("/library"),children:"游戏库"}),e.jsx(m,{color:"inherit",onClick:()=>r("/developer"),children:"开发者中心"}),e.jsx(m,{variant:"contained",onClick:()=>r("/download"),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1},children:"下载客户端"})]}),e.jsxs(t,{sx:{display:"flex",gap:1},children:[e.jsx(U,{color:"inherit",onClick:()=>r("/cart"),children:e.jsx(vn,{badgeContent:d,color:"error",children:e.jsx(Ut,{})})}),e.jsx(U,{color:"inherit",onClick:v,children:e.jsx(Sr,{})})]}),e.jsx(t,{sx:{display:{xs:"flex",md:"none"},ml:1},children:e.jsx(U,{size:"large",edge:"end",color:"inherit","aria-label":"menu",onClick:n,children:e.jsx(yn,{})})})]})}),e.jsxs(j,{sx:{display:{xs:"flex",md:"none"},p:2,bgcolor:"#1e293b",borderBottom:"1px solid #334155"},component:"form",onSubmit:w,children:[e.jsx($,{placeholder:"搜索游戏、开发者或标签",value:b,onChange:D=>y(D.target.value),variant:"outlined",fullWidth:!0,size:"small",sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiInputLabel-root":{color:"#94a3b8"},"& .MuiInputBase-input":{color:"white","&::placeholder":{color:"#94a3b8",opacity:1}}}}),e.jsx(U,{type:"submit",sx:{ml:1,color:"#6366f1"},"aria-label":"search",children:e.jsx(ks,{})})]}),e.jsx(wn,{id:"user-menu",anchorEl:R,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!R,onClose:C,children:i?e.jsxs(e.Fragment,{children:[e.jsx(te,{onClick:()=>M("/profile"),children:"个人中心"},"profile"),e.jsx(te,{onClick:()=>M("/orders"),children:"订单历史"},"orders"),e.jsx(te,{onClick:()=>M("/library"),children:"游戏库"},"library"),i.role==="developer"&&e.jsx(te,{onClick:()=>M("/developer"),children:"开发者中心"},"developer"),e.jsxs(te,{onClick:o,children:[e.jsx(Cn,{sx:{mr:1}}),"登出"]},"logout")]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{onClick:()=>M("/login"),children:"登录"},"login"),e.jsx(te,{onClick:()=>M("/register"),children:"注册"},"register")]})})]})},Ro=()=>e.jsx(t,{component:"footer",sx:{bgcolor:"#1e293b",color:"white",py:6,mt:"auto"},children:e.jsxs(V,{maxWidth:"xl",children:[e.jsxs(l,{container:!0,spacing:4,children:[e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"木鱼游戏"}),e.jsx(a,{variant:"body2",sx:{mb:2,color:"rgba(255, 255, 255, 0.7)"},children:"木鱼游戏平台是一个专业的游戏分发平台，提供海量优质游戏下载、购买和社区服务。"}),e.jsxs(t,{sx:{display:"flex",gap:2,mt:2},children:[e.jsx(H,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(Sn,{})}),e.jsx(H,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(In,{})}),e.jsx(H,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(Rn,{})}),e.jsx(H,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(Wn,{})})]})]}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"快速链接"}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(H,{href:"/",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"首页"}),e.jsx(H,{href:"/games",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"游戏商城"}),e.jsx(H,{href:"/library",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"游戏库"}),e.jsx(H,{href:"/developer",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"开发者中心"}),e.jsx(H,{href:"/download",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"客户端下载"})]})]}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"支持与服务"}),e.jsxs(t,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(H,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"帮助中心"}),e.jsx(H,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"联系我们"}),e.jsx(H,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"常见问题"}),e.jsx(H,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"隐私政策"}),e.jsx(H,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"用户协议"})]})]}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"订阅更新"}),e.jsx(a,{variant:"body2",sx:{mb:2,color:"rgba(255, 255, 255, 0.7)"},children:"订阅我们的新闻通讯，获取最新游戏资讯和优惠活动。"}),e.jsxs(t,{sx:{display:"flex",gap:1},children:[e.jsx("input",{type:"email",placeholder:"您的邮箱",style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",outline:"none",flexGrow:1,fontSize:"0.9rem"}}),e.jsx("button",{style:{padding:"8px 16px",borderRadius:"4px",border:"none",backgroundColor:"#6366f1",color:"white",cursor:"pointer",fontSize:"0.9rem","&:hover":{backgroundColor:"#4f46e5"}},children:"订阅"})]})]})]}),e.jsx(Q,{sx:{my:3,borderColor:"rgba(255, 255, 255, 0.1)"}}),e.jsxs(a,{variant:"body2",align:"center",sx:{color:"rgba(255, 255, 255, 0.5)"},children:["© ",new Date().getFullYear()," 木鱼游戏平台. 保留所有权利."]})]})}),Wo=({open:n,onClose:r})=>{const s=re(),i=kn(),{user:d}=ee(u=>u.user),[h,p]=x.useState(!1),[R,c]=x.useState(!1),[b,y]=x.useState(!1),w=[{title:"首页",path:"/",icon:e.jsx(Pn,{}),visible:!0},{title:"发现游戏",path:null,icon:e.jsx(ks,{}),visible:!0,children:[{title:"所有游戏",path:"/games",icon:e.jsx(Pr,{})},{title:"热门游戏",path:"/games?sortBy=rating&sortOrder=desc",icon:e.jsx(Dn,{})},{title:"新发布",path:"/games?sortBy=release_date&sortOrder=desc",icon:e.jsx(Mn,{})},{title:"最高评分",path:"/games?sortBy=rating&sortOrder=desc",icon:e.jsx(Gs,{})}]},{title:"游戏库",path:null,icon:e.jsx(Fs,{}),visible:d,children:[{title:"我的游戏",path:"/library",icon:e.jsx(Fs,{})},{title:"收藏游戏",path:"/library?type=wishlist",icon:e.jsx(Gs,{})}]},{title:"购物车",path:"/cart",icon:e.jsx(Ut,{}),visible:!0},{title:"个人中心",path:"/profile",icon:e.jsx(Sr,{}),visible:d}],v=[{title:"开发者中心",path:"/developer",icon:e.jsx(Ts,{})},{title:"我的游戏",path:"/developer/games",icon:e.jsx(Pr,{})},{title:"销售统计",path:"/developer/sales",icon:e.jsx(qn,{})},{title:"财务管理",path:"/developer/finances",icon:e.jsx(Ln,{})}],G=[{title:"下载客户端",path:"/download",icon:e.jsx(Pr,{}),visible:!0},{title:"登录",path:"/login",icon:e.jsx(Sr,{}),visible:!d},{title:"注册",path:"/register",icon:e.jsx(Sr,{}),visible:!d}],C=u=>u?i.pathname===u||i.pathname.startsWith(`${u}/`):!1,M=u=>{s(u),r()},o=()=>{p(!h)},D=()=>{c(!R)},f=()=>{y(!b)};return e.jsxs(_n,{anchor:"left",open:n,onClose:r,sx:{"& .MuiDrawer-paper":{width:280,backgroundColor:"#1e293b",color:"white",boxSizing:"border-box",borderRight:"1px solid #334155"}},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:2,borderBottom:"1px solid #334155"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Pr,{sx:{color:"#6366f1",fontSize:24}}),e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#6366f1"},children:"木鱼游戏"})]}),e.jsx(U,{onClick:r,sx:{display:{xs:"block",md:"none"},color:"white"},children:e.jsx(zn,{})})]}),e.jsxs(ue,{sx:{pt:0},children:[w.filter(u=>u.visible).map((u,L)=>e.jsx(_e.Fragment,{children:u.children?e.jsxs(e.Fragment,{children:[e.jsxs(A,{button:!0,onClick:u.title==="发现游戏"?f:u.title==="游戏库"?D:o,sx:{backgroundColor:C(u.path)?"rgba(99, 102, 241, 0.2)":"transparent","&:hover":{backgroundColor:"rgba(99, 102, 241, 0.1)"}},children:[e.jsx(Se,{sx:{color:"#cbd5e1"},children:u.icon}),e.jsx(E,{primary:u.title,sx:{color:"white"}}),u.title==="发现游戏"?b?e.jsx(Dr,{}):e.jsx(Mr,{}):u.title==="游戏库"?R?e.jsx(Dr,{}):e.jsx(Mr,{}):h?e.jsx(Dr,{}):e.jsx(Mr,{})]}),e.jsx(Os,{in:u.title==="发现游戏"?b:u.title==="游戏库"?R:h,timeout:"auto",unmountOnExit:!0,children:e.jsx(ue,{component:"div",disablePadding:!0,children:u.children.map((P,Y)=>e.jsxs(A,{button:!0,onClick:()=>M(P.path),sx:{pl:4,backgroundColor:C(P.path)?"rgba(99, 102, 241, 0.2)":"transparent","&:hover":{backgroundColor:"rgba(99, 102, 241, 0.1)"}},children:[e.jsx(Se,{sx:{minWidth:36,color:"#94a3b8"},children:P.icon}),e.jsx(E,{primary:P.title,sx:{color:C(P.path)?"#6366f1":"#cbd5e1"}})]},Y))})})]}):e.jsxs(A,{button:!0,onClick:()=>M(u.path),sx:{backgroundColor:C(u.path)?"rgba(99, 102, 241, 0.2)":"transparent","&:hover":{backgroundColor:"rgba(99, 102, 241, 0.1)"}},children:[e.jsx(Se,{sx:{color:C(u.path)?"#6366f1":"#cbd5e1"},children:u.icon}),e.jsx(E,{primary:u.title,sx:{color:C(u.path)?"#6366f1":"white"}})]})},L)),d&&d.role==="developer"&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{sx:{backgroundColor:"#334155",my:1}}),e.jsxs(A,{button:!0,onClick:o,children:[e.jsx(Se,{sx:{color:"#cbd5e1"},children:e.jsx(Ts,{})}),e.jsx(E,{primary:"开发者中心",sx:{color:"white"}}),h?e.jsx(Dr,{}):e.jsx(Mr,{})]}),e.jsx(Os,{in:h,timeout:"auto",unmountOnExit:!0,children:e.jsx(ue,{component:"div",disablePadding:!0,children:v.map((u,L)=>e.jsxs(A,{button:!0,onClick:()=>M(u.path),sx:{pl:4,backgroundColor:C(u.path)?"rgba(99, 102, 241, 0.2)":"transparent","&:hover":{backgroundColor:"rgba(99, 102, 241, 0.1)"}},children:[e.jsx(Se,{sx:{minWidth:36,color:"#94a3b8"},children:u.icon}),e.jsx(E,{primary:u.title,sx:{color:C(u.path)?"#6366f1":"#cbd5e1"}})]},L))})})]}),e.jsx(Q,{sx:{backgroundColor:"#334155",my:1}}),G.filter(u=>u.visible).map((u,L)=>e.jsxs(A,{button:!0,onClick:()=>M(u.path),sx:{backgroundColor:C(u.path)?"rgba(99, 102, 241, 0.2)":"transparent","&:hover":{backgroundColor:"rgba(99, 102, 241, 0.1)"}},children:[e.jsx(Se,{sx:{color:C(u.path)?"#6366f1":"#cbd5e1"},children:u.icon}),e.jsx(E,{primary:u.title,sx:{color:C(u.path)?"#6366f1":"white"}})]},L))]}),e.jsx(t,{sx:{mt:"auto",p:2,borderTop:"1px solid #334155"},children:d&&e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:2,p:1,borderRadius:1,backgroundColor:"rgba(99, 102, 241, 0.1)"},children:[e.jsx(Sr,{sx:{color:"#6366f1",fontSize:20}}),e.jsxs(t,{sx:{flex:1},children:[e.jsx(a,{variant:"body2",sx:{color:"white",fontWeight:600},children:d.username}),e.jsx(a,{variant:"caption",sx:{color:"#94a3b8",display:"block"},children:d.role==="developer"?"开发者":"普通用户"})]})]})})]})},ko=()=>{const n=ae();return x.useEffect(()=>{n(na())},[n]),null},_o=An({palette:{mode:"dark",primary:{main:"#6366f1"},secondary:{main:"#ec4899"},background:{default:"#0f172a",paper:"#1e293b"}},typography:{fontFamily:'Inter, Roboto, "Helvetica Neue", Arial, sans-serif'},components:{MuiButton:{styleOverrides:{root:{borderRadius:8}}}}});function zo(){const[n,r]=React.useState(!1),s=()=>{r(!n)};return e.jsxs(En,{store:ha,children:[e.jsx(ko,{}),e.jsxs(On,{theme:_o,children:[e.jsx(Tn,{}),e.jsx(Gn,{children:e.jsxs(t,{className:"app-container",sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[e.jsx(Io,{onToggleSidebar:s}),e.jsxs(t,{sx:{display:"flex",flex:1},children:[e.jsx(Wo,{open:n,onClose:()=>r(!1)}),e.jsx(t,{className:"main-content",sx:{flex:1,padding:{xs:2,md:4},transition:"margin-left 0.3s ease",marginLeft:{md:n?280:0},backgroundColor:"#0f172a"},children:e.jsxs(Fn,{children:[e.jsx(K,{path:"/",element:e.jsx(ua,{})}),e.jsx(K,{path:"/games",element:e.jsx(Sa,{})}),e.jsx(K,{path:"/game/:id",element:e.jsx(Ka,{})}),e.jsx(K,{path:"/login",element:e.jsx(ri,{})}),e.jsx(K,{path:"/register",element:e.jsx(si,{})}),e.jsx(K,{path:"/download",element:e.jsx(So,{})}),e.jsx(K,{path:"/404",element:e.jsx(Gt,{})}),e.jsx(K,{path:"*",element:e.jsx(Gt,{})}),e.jsx(K,{path:"/library",element:e.jsx(ei,{})}),e.jsx(K,{path:"/profile",element:e.jsx(ti,{})}),e.jsx(K,{path:"/cart",element:e.jsx(xi,{})}),e.jsx(K,{path:"/checkout",element:e.jsx(vi,{})}),e.jsx(K,{path:"/orders",element:e.jsx(ki,{})}),e.jsx(K,{path:"/developer",element:e.jsx(Hi,{})}),e.jsx(K,{path:"/developer/games",element:e.jsx(Qi,{})}),e.jsx(K,{path:"/developer/sales",element:e.jsx(so,{})}),e.jsx(K,{path:"/developer/finances",element:e.jsx(vo,{})})]})})]}),e.jsx(Ro,{})]})})]})]})}Vn.createRoot(document.getElementById("root")).render(e.jsx(_e.StrictMode,{children:e.jsx(zo,{})}));
