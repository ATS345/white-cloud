import{r as en,g as I,c as F,a as Dr,b as rn,u as ne,d as ae,e as x,j as e,B as n,C as Z,G as l,T as t,f as p,P as f,h as B,i as pe,k as me,l as _e,D as X,m as sn,n as tn,o as R,p as W,q as nn,s as O,t as an,I as Q,A as es,S as As,F as ze,v as Pr,M as E,w as Es,x as te,y as je,z as K,E as Kr,H as on,R as ln,L as Os,J as qe,K as J,N as ve,O as H,Q as fe,U as de,V,W as dn,X as ye,Y as Pe,Z as ke,_ as Y,$ as Bt,a0 as cn,a1 as Hr,a2 as xn,a3 as hn,a4 as un,a5 as pn,a6 as Mr,a7 as mn,a8 as rs,a9 as we,aa as Se,ab as Ie,ac as oe,ad as j,ae as Re,af as fn,ag as Ht,ah as Vt,ai as Nt,aj as $t,ak as ss,al as ts,am as ns,an as Lr,ao as Ar,ap as jn,aq as Er,ar as xe,as as gn,at as bn,au as Ts,av as vn,aw as yn,ax as Cn,ay as wn,az as Gs,aA as Sn,aB as In,aC as Rn,aD as Wn,aE as _n,aF as zn,aG as Pn,aH as kn,aI as Mn,aJ as Dn,aK as qn,aL as ee}from"./vendor-0hFjcITj.js";import{a as Ln}from"./network-B9ygI19o.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const u of h.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(d){if(d.ep)return;d.ep=!0;const h=s(d);fetch(d.href,h)}})();var Or={},Fs;function An(){if(Fs)return Or;Fs=1;var a=en();return Or.createRoot=a.createRoot,Or.hydrateRoot=a.hydrateRoot,Or}var En=An();const On=I(En);var Tn={};const G=Ln.create({baseURL:Tn.REACT_APP_API_URL||"http://localhost:5000/api/v1",headers:{"Content-Type":"application/json"},withCredentials:!0,timeout:1e4});G.interceptors.request.use(a=>{const r=localStorage.getItem("token");return r&&(a.headers.Authorization=`Bearer ${r}`),a},a=>Promise.reject(a));G.interceptors.response.use(a=>a,a=>(a.response&&a.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(a)));const Vr=F("user/register",async(a,{rejectWithValue:r})=>{try{const s=await G.post("/auth/register",a);return s.data.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user))),s.data}catch(s){return r(s.response?.data?.message||"注册失败，请重试")}}),Nr=F("user/login",async(a,{rejectWithValue:r})=>{try{const s=await G.post("/auth/login",a);return s.data.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user))),s.data}catch(s){return r(s.response?.data?.message||"登录失败，请检查您的邮箱和密码")}}),as=F("user/getCurrentUser",async(a,{rejectWithValue:r})=>{try{return(await G.get("/auth/me")).data}catch(s){return r(s.response?.data?.message||"获取用户信息失败")}}),$r=F("user/updateProfile",async(a,{rejectWithValue:r})=>{try{const s=await G.put("/auth/profile",a);return s.data.user&&localStorage.setItem("user",JSON.stringify(s.data.user)),s.data}catch(s){return r(s.response?.data?.message||"更新用户信息失败")}}),Ur=F("user/changePassword",async(a,{rejectWithValue:r})=>{try{return(await G.put("/auth/password",a)).data}catch(s){return r(s.response?.data?.message||"修改密码失败")}}),Yr=F("user/logout",async(a,{rejectWithValue:r})=>{try{return localStorage.removeItem("token"),localStorage.removeItem("user"),{success:!0,message:"登出成功"}}catch(s){return r(s.response?.data?.message||"登出失败")}}),Gn=()=>{const a=localStorage.getItem("user");return a?JSON.parse(a):null},Fn=()=>localStorage.getItem("token")||null,Bn=Dr({name:"user",initialState:{user:Gn(),token:Fn(),loading:!1,error:null,success:!1,message:""},reducers:{clearError:a=>{a.error=null},clearMessage:a=>{a.message=""}},extraReducers:a=>{a.addCase(Vr.pending,r=>{r.loading=!0,r.error=null}).addCase(Vr.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=s.payload.user,r.token=s.payload.token,r.message=s.payload.message}).addCase(Vr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),a.addCase(Nr.pending,r=>{r.loading=!0,r.error=null}).addCase(Nr.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=s.payload.user,r.token=s.payload.token,r.message=s.payload.message}).addCase(Nr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),a.addCase(as.pending,r=>{r.loading=!0,r.error=null}).addCase(as.fulfilled,(r,s)=>{r.loading=!1,r.user=s.payload.user}).addCase(as.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}),a.addCase($r.pending,r=>{r.loading=!0,r.error=null}).addCase($r.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=s.payload.user,r.message=s.payload.message}).addCase($r.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),a.addCase(Ur.pending,r=>{r.loading=!0,r.error=null}).addCase(Ur.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.message=s.payload.message}).addCase(Ur.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),a.addCase(Yr.pending,r=>{r.loading=!0,r.error=null}).addCase(Yr.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=null,r.token=null,r.message=s.payload.message}).addCase(Yr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1})}}),Hn=Bn.reducer,Me=F("game/fetchGames",async({page:a=1,...r},{rejectWithValue:s})=>{try{const i={page:a,limit:20,...r};return(await G.get("/games",{params:i})).data.data}catch(i){return s(i.response?.data?.message||"获取游戏列表失败")}}),Ut=F("game/fetchCategories",async(a,{rejectWithValue:r})=>{try{return(await G.get("/games/categories/all")).data.data}catch(s){return r(s.response?.data?.message||"获取游戏分类失败")}}),Yt=F("game/fetchTags",async(a,{rejectWithValue:r})=>{try{return(await G.get("/games/tags/all")).data.data}catch(s){return r(s.response?.data?.message||"获取游戏标签失败")}}),Zr=F("game/fetchGameDetail",async(a,{rejectWithValue:r})=>{try{return(await G.get(`/games/${a}`)).data.data}catch(s){return r(s.response?.data?.message||"获取游戏详情失败")}}),is=F("game/launchGame",async(a,{rejectWithValue:r})=>{try{return(await G.post(`/games/${a}/launch`)).data.data}catch(s){return r(s.response?.data?.message||"游戏启动失败")}}),os=F("game/installGame",async(a,{rejectWithValue:r})=>{try{return(await G.post(`/games/${a}/install`)).data.data}catch(s){return r(s.response?.data?.message||"游戏安装失败")}}),ls=F("game/updateGame",async(a,{rejectWithValue:r})=>{try{return(await G.post(`/games/${a}/update`)).data.data}catch(s){return r(s.response?.data?.message||"游戏更新失败")}}),ds=F("game/getInstallationStatus",async(a,{rejectWithValue:r})=>{try{return(await G.get(`/games/installation/${a}`)).data.data}catch(s){return r(s.response?.data?.message||"查询安装状态失败")}}),cs=F("game/checkSystemRequirements",async({gameId:a,systemInfo:r},{rejectWithValue:s})=>{try{return(await G.post(`/games/${a}/check-system`,r)).data.data}catch(i){return s(i.response?.data?.message||"系统需求检测失败")}}),xs=F("game/syncGameData",async({gameId:a,syncData:r},{rejectWithValue:s})=>{try{return(await G.post(`/games/${a}/sync`,r)).data.data}catch(i){return s(i.response?.data?.message||"游戏数据同步失败")}}),hs=F("game/getGameData",async({gameId:a,dataType:r,dataName:s},{rejectWithValue:i})=>{try{const d={};return r&&(d.data_type=r),s&&(d.data_name=s),(await G.get(`/games/${a}/data`,{params:d})).data.data}catch(d){return i(d.response?.data?.message||"获取游戏数据失败")}}),us=F("game/deleteGameData",async({gameId:a,dataId:r},{rejectWithValue:s})=>{try{return(await G.delete(`/games/${a}/data/${r}`)).data.data}catch(i){return s(i.response?.data?.message||"删除游戏数据失败")}}),ps=F("game/fetchGameReviews",async({gameId:a,page:r=1,limit:s=10},{rejectWithValue:i})=>{try{return(await G.get(`/reviews/game/${a}`,{params:{page:r,limit:s}})).data.data}catch(d){return i(d.response?.data?.message||"获取游戏评价失败")}}),ms=F("game/createGameReview",async({gameId:a,rating:r,content:s},{rejectWithValue:i})=>{try{return(await G.post(`/reviews/${a}`,{rating:r,content:s})).data.data}catch(d){return i(d.response?.data?.message||"创建游戏评价失败")}}),fs=F("game/createReviewReply",async({reviewId:a,content:r},{rejectWithValue:s})=>{try{return(await G.post(`/reviews/${a}/replies`,{content:r})).data.data}catch(i){return s(i.response?.data?.message||"创建评价回复失败")}}),Vn={games:[],currentGame:null,categories:[],tags:[],totalPages:1,currentPage:1,loading:!1,gameDetailLoading:!1,operationLoading:!1,error:null,gameDetailError:null,operationError:null,filters:{search:"",categories:[],tags:[],minPrice:0,maxPrice:1e3,sortBy:"release_date",sortOrder:"desc"},currentOperationGame:null,currentInstallation:null,currentUpdate:null,installationStatus:null,systemCheckResult:null,syncResult:null,gameData:null,reviews:[],reviewsLoading:!1,reviewsError:null,reviewPagination:{currentPage:1,totalPages:1,totalItems:0},currentReview:null},Zt=Dr({name:"game",initialState:Vn,reducers:{updateFilters:(a,r)=>{a.filters={...a.filters,...r.payload}},clearGameDetail:a=>{a.currentGame=null,a.gameDetailError=null},clearError:a=>{a.error=null,a.gameDetailError=null,a.operationError=null},setCurrentOperationGame:(a,r)=>{a.currentOperationGame=r.payload}},extraReducers:a=>{a.addCase(Me.pending,r=>{r.loading=!0,r.error=null}).addCase(Me.fulfilled,(r,s)=>{r.loading=!1,r.games=s.payload.games,r.totalPages=s.payload.pagination.totalPages,r.currentPage=s.payload.pagination.currentPage}).addCase(Me.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(Ut.fulfilled,(r,s)=>{r.categories=s.payload}).addCase(Yt.fulfilled,(r,s)=>{r.tags=s.payload}).addCase(Zr.pending,r=>{r.gameDetailLoading=!0,r.gameDetailError=null}).addCase(Zr.fulfilled,(r,s)=>{r.gameDetailLoading=!1,r.currentGame=s.payload}).addCase(Zr.rejected,(r,s)=>{r.gameDetailLoading=!1,r.gameDetailError=s.payload}).addCase(is.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(is.fulfilled,r=>{r.operationLoading=!1}).addCase(is.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(os.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(os.fulfilled,(r,s)=>{r.operationLoading=!1,r.currentInstallation=s.payload}).addCase(os.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(ls.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ls.fulfilled,(r,s)=>{r.operationLoading=!1,r.currentUpdate=s.payload}).addCase(ls.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(ds.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ds.fulfilled,(r,s)=>{r.operationLoading=!1,r.installationStatus=s.payload}).addCase(ds.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(cs.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(cs.fulfilled,(r,s)=>{r.operationLoading=!1,r.systemCheckResult=s.payload}).addCase(cs.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(xs.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(xs.fulfilled,(r,s)=>{r.operationLoading=!1,r.syncResult=s.payload}).addCase(xs.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(hs.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(hs.fulfilled,(r,s)=>{r.operationLoading=!1,r.gameData=s.payload}).addCase(hs.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(us.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(us.fulfilled,(r,s)=>{r.operationLoading=!1,r.gameData&&r.gameData.data&&(r.gameData.data=r.gameData.data.filter(i=>i.id!==s.payload.dataId))}).addCase(us.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(ps.pending,r=>{r.reviewsLoading=!0,r.reviewsError=null}).addCase(ps.fulfilled,(r,s)=>{r.reviewsLoading=!1,r.reviews=s.payload.reviews,r.reviewPagination=s.payload.pagination}).addCase(ps.rejected,(r,s)=>{r.reviewsLoading=!1,r.reviewsError=s.payload}).addCase(ms.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ms.fulfilled,(r,s)=>{if(r.operationLoading=!1,r.reviews=[s.payload,...r.reviews],r.currentGame){const i=(r.currentGame.rating*r.currentGame.review_count+s.payload.rating)/(r.currentGame.review_count+1);r.currentGame={...r.currentGame,rating:parseFloat(i.toFixed(1)),review_count:r.currentGame.review_count+1}}}).addCase(ms.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(fs.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(fs.fulfilled,(r,s)=>{r.operationLoading=!1;const i=r.reviews.findIndex(d=>d.id===s.payload.review_id);i!==-1&&(r.reviews[i]={...r.reviews[i],replies:[...r.reviews[i].replies,s.payload]})}).addCase(fs.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload})}}),{clearGameDetail:Nn}=Zt.actions,$n=Zt.reducer,Un=()=>{const a=localStorage.getItem("cart");return a?JSON.parse(a):[]},Qt=Dr({name:"cart",initialState:{items:Un(),totalAmount:0,totalItems:0},reducers:{addToCart:(a,r)=>{const{game:s}=r.payload,i=a.items.find(d=>d.id===s.id);i?i.quantity+=1:a.items.push({id:s.id,title:s.title,price:s.discount_price||s.price,originalPrice:s.price,image:s.main_image_url||"https://via.placeholder.com/300x200/6366f1/ffffff?text=Game+Image",quantity:1,isFree:s.price===0}),a.totalItems=a.items.reduce((d,h)=>d+h.quantity,0),a.totalAmount=a.items.reduce((d,h)=>d+h.price*h.quantity,0),localStorage.setItem("cart",JSON.stringify(a.items))},removeFromCart:(a,r)=>{const{gameId:s}=r.payload;a.items=a.items.filter(i=>i.id!==s),a.totalItems=a.items.reduce((i,d)=>i+d.quantity,0),a.totalAmount=a.items.reduce((i,d)=>i+d.price*d.quantity,0),localStorage.setItem("cart",JSON.stringify(a.items))},updateQuantity:(a,r)=>{const{gameId:s,quantity:i}=r.payload,d=a.items.find(h=>h.id===s);d&&i>0?(d.quantity=i,a.totalItems=a.items.reduce((h,u)=>h+u.quantity,0),a.totalAmount=a.items.reduce((h,u)=>h+u.price*u.quantity,0),localStorage.setItem("cart",JSON.stringify(a.items))):d&&i<=0&&(a.items=a.items.filter(h=>h.id!==s),a.totalItems=a.items.reduce((h,u)=>h+u.quantity,0),a.totalAmount=a.items.reduce((h,u)=>h+u.price*u.quantity,0),localStorage.setItem("cart",JSON.stringify(a.items)))},clearCart:a=>{a.items=[],a.totalItems=0,a.totalAmount=0,localStorage.removeItem("cart")},initializeCart:a=>{a.totalItems=a.items.reduce((r,s)=>r+s.quantity,0),a.totalAmount=a.items.reduce((r,s)=>r+s.price*s.quantity,0)}}}),{removeFromCart:Yn,updateQuantity:Bs,clearCart:Zn,initializeCart:Qn}=Qt.actions,Jn=Qt.reducer,js=F("developer/fetchDeveloperInfo",async(a,{rejectWithValue:r})=>{try{return(await G.get("/developer/info")).data.data}catch(s){return r(s.response?.data?.message||"获取开发者信息失败")}}),gs=F("developer/fetchDeveloperGames",async({page:a=1,limit:r=10},{rejectWithValue:s})=>{try{return(await G.get("/developer/games",{params:{page:a,limit:r}})).data.data}catch(i){return s(i.response?.data?.message||"获取开发者游戏列表失败")}}),bs=F("developer/fetchDeveloperSales",async(a,{rejectWithValue:r})=>{try{return(await G.get("/developer/sales",{params:a})).data.data}catch(s){return r(s.response?.data?.message||"获取开发者销售数据失败")}}),vs=F("developer/fetchDeveloperFinances",async(a,{rejectWithValue:r})=>{try{return(await G.get("/developer/finances")).data.data}catch(s){return r(s.response?.data?.message||"获取开发者财务数据失败")}}),Xn={developerInfo:null,games:[],totalGames:0,totalPages:1,currentPage:1,salesData:null,financialData:null,loading:!1,gamesLoading:!1,salesLoading:!1,financesLoading:!1,error:null,gamesError:null,salesError:null,financesError:null},Kn=Dr({name:"developer",initialState:Xn,reducers:{clearError:a=>{a.error=null,a.gamesError=null,a.salesError=null,a.financesError=null},resetDeveloper:a=>{a.developerInfo=null,a.games=[],a.salesData=null,a.financialData=null,a.error=null}},extraReducers:a=>{a.addCase(js.pending,r=>{r.loading=!0,r.error=null}).addCase(js.fulfilled,(r,s)=>{r.loading=!1,r.developerInfo=s.payload}).addCase(js.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(gs.pending,r=>{r.gamesLoading=!0,r.gamesError=null}).addCase(gs.fulfilled,(r,s)=>{r.gamesLoading=!1,r.games=s.payload.games,r.totalGames=s.payload.totalGames,r.totalPages=s.payload.totalPages,r.currentPage=s.payload.currentPage}).addCase(gs.rejected,(r,s)=>{r.gamesLoading=!1,r.gamesError=s.payload}).addCase(bs.pending,r=>{r.salesLoading=!0,r.salesError=null}).addCase(bs.fulfilled,(r,s)=>{r.salesLoading=!1,r.salesData=s.payload}).addCase(bs.rejected,(r,s)=>{r.salesLoading=!1,r.salesError=s.payload}).addCase(vs.pending,r=>{r.financesLoading=!0,r.financesError=null}).addCase(vs.fulfilled,(r,s)=>{r.financesLoading=!1,r.financialData=s.payload}).addCase(vs.rejected,(r,s)=>{r.financesLoading=!1,r.financesError=s.payload})}}),ea=Kn.reducer,Qr=F("payment/createPaymentIntent",async({gameIds:a},{rejectWithValue:r})=>{try{return(await G.post("/payments/intent",{gameIds:a})).data}catch(s){return r(s.response?.data?.message||"创建支付意图失败")}}),ys=F("payment/confirmPayment",async({orderId:a,paymentIntentId:r},{rejectWithValue:s})=>{try{return(await G.post("/payments/confirm",{orderId:a,paymentIntentId:r})).data}catch(i){return s(i.response?.data?.message||"确认支付失败")}}),Cs=F("payment/fetchOrderHistory",async({page:a=1,limit:r=10},{rejectWithValue:s})=>{try{return(await G.get("/payments/orders",{params:{page:a,limit:r}})).data.data}catch(i){return s(i.response?.data?.message||"获取订单历史失败")}}),ws=F("payment/fetchOrderDetail",async(a,{rejectWithValue:r})=>{try{return(await G.get(`/payments/orders/${a}`)).data.data}catch(s){return r(s.response?.data?.message||"获取订单详情失败")}}),ra={loading:!1,paymentIntent:null,paymentSuccess:!1,order:null,orders:[],totalPages:1,currentPage:1,error:null},sa=Dr({name:"payment",initialState:ra,reducers:{resetPayment:a=>{a.paymentIntent=null,a.paymentSuccess=!1,a.error=null},clearError:a=>{a.error=null}},extraReducers:a=>{a.addCase(Qr.pending,r=>{r.loading=!0,r.error=null}).addCase(Qr.fulfilled,(r,s)=>{r.loading=!1,r.paymentIntent=s.payload}).addCase(Qr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(ys.pending,r=>{r.loading=!0,r.error=null}).addCase(ys.fulfilled,(r,s)=>{r.loading=!1,r.paymentSuccess=!0,r.order=s.payload.order}).addCase(ys.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(Cs.pending,r=>{r.loading=!0,r.error=null}).addCase(Cs.fulfilled,(r,s)=>{r.loading=!1,r.orders=s.payload.orders,r.totalPages=s.payload.pagination.totalPages,r.currentPage=s.payload.pagination.currentPage}).addCase(Cs.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(ws.pending,r=>{r.loading=!0,r.error=null}).addCase(ws.fulfilled,(r,s)=>{r.loading=!1,r.order=s.payload}).addCase(ws.rejected,(r,s)=>{r.loading=!1,r.error=s.payload})}}),ta=sa.reducer,na=rn({reducer:{user:Hn,game:$n,cart:Jn,developer:ea,payment:ta},middleware:a=>a({serializableCheck:{ignoredActions:["user/login/fulfilled"],ignoredPaths:["user.token","user.refreshToken"]}})}),aa=()=>{const a=ne(),r=ae(),[s,i]=x.useState(""),d=c=>{i(c.target.value)},h=c=>{c.preventDefault(),s.trim()&&(r(Me({page:1,search:s.trim()})),a(`/games?search=${encodeURIComponent(s.trim())}`))},u=[{id:1,title:"赛博朋克2077",price:298,discountPrice:149,image:"https://via.placeholder.com/300x200/6366f1/ffffff?text=Cyberpunk+2077",rating:4.5},{id:2,title:"艾尔登法环",price:298,discountPrice:199,image:"https://via.placeholder.com/300x200/ec4899/ffffff?text=Elden+Ring",rating:4.8},{id:3,title:"星穹铁道",price:0,discountPrice:0,image:"https://via.placeholder.com/300x200/10b981/ffffff?text=Star+Rail",rating:4.6},{id:4,title:"原神",price:0,discountPrice:0,image:"https://via.placeholder.com/300x200/f59e0b/ffffff?text=Genshin+Impact",rating:4.7}],P=[{id:5,title:"黑神话：悟空",price:268,discountPrice:268,image:"https://via.placeholder.com/300x200/ef4444/ffffff?text=Black+Myth",rating:4.9},{id:6,title:"星球大战：亡命徒",price:298,discountPrice:249,image:"https://via.placeholder.com/300x200/6366f1/ffffff?text=Star+Wars",rating:4.4},{id:7,title:"漫威蜘蛛人2",price:468,discountPrice:399,image:"https://via.placeholder.com/300x200/8b5cf6/ffffff?text=Spider+Man+2",rating:4.7},{id:8,title:"霍格沃茨之遗",price:298,discountPrice:199,image:"https://via.placeholder.com/300x200/14b8a6/ffffff?text=Hogwarts+Legacy",rating:4.5}];return e.jsxs(n,{sx:{bgcolor:"#0f172a",minHeight:"calc(100vh - 64px - 240px)"},children:[e.jsx(n,{sx:{bgcolor:"#1e293b",py:8,px:2},children:e.jsx(Z,{maxWidth:"xl",children:e.jsxs(l,{container:!0,spacing:4,alignItems:"center",children:[e.jsxs(l,{item:!0,xs:12,md:7,children:[e.jsx(t,{variant:"h3",component:"h1",sx:{fontWeight:"bold",color:"#ffffff",mb:2},children:"发现你的下一款游戏"}),e.jsx(t,{variant:"h6",sx:{color:"rgba(255, 255, 255, 0.7)",mb:4},children:"在木鱼游戏平台，探索海量优质游戏，与全球玩家一起畅玩。"}),e.jsxs(n,{sx:{display:"flex",gap:2,mb:4,flexWrap:"wrap"},children:[e.jsx(p,{variant:"contained",size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4,py:1.5,fontSize:"1rem"},onClick:()=>a("/games"),children:"浏览游戏"}),e.jsx(p,{variant:"outlined",size:"large",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff"},px:4,py:1.5,fontSize:"1rem"},onClick:()=>a("/download"),children:"下载客户端"})]}),e.jsxs(n,{sx:{display:"flex",gap:4,alignItems:"center"},children:[e.jsxs(n,{children:[e.jsx(t,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"超过100万玩家"}),e.jsx(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"全球活跃用户"})]}),e.jsxs(n,{children:[e.jsx(t,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"5000+游戏"}),e.jsx(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"丰富的游戏库"})]}),e.jsxs(n,{children:[e.jsx(t,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"98%好评率"}),e.jsx(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"用户满意度"})]})]})]}),e.jsx(l,{item:!0,xs:12,md:5,sx:{display:"flex",justifyContent:"center",mt:{xs:4,md:0}},children:e.jsx(n,{sx:{position:"relative",width:"100%",maxWidth:400},children:e.jsx("img",{src:"https://via.placeholder.com/400x300/6366f1/ffffff?text=木鱼游戏",alt:"木鱼游戏",style:{width:"100%",borderRadius:12,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)"}})})})]})})}),e.jsx(n,{sx:{py:4,px:2},children:e.jsx(Z,{maxWidth:"md",children:e.jsx(f,{sx:{p:2,bgcolor:"#1e293b",boxShadow:3,borderRadius:2},children:e.jsxs(n,{component:"form",onSubmit:h,sx:{display:"flex",gap:1},children:[e.jsx(B,{fullWidth:!0,placeholder:"搜索游戏、开发者或标签",variant:"outlined",size:"small",value:s,onChange:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.1)","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiInputBase-input":{color:"white"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"}}}),e.jsx(p,{type:"submit",variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:2,px:4},children:"搜索"})]})})})}),e.jsxs(Z,{maxWidth:"xl",sx:{py:6},children:[e.jsxs(n,{sx:{mb:4},children:[e.jsx(t,{variant:"h4",component:"h2",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:"热门游戏"}),e.jsx(t,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"查看当前最受欢迎的游戏"})]}),e.jsx(l,{container:!0,spacing:4,children:u.map(c=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(pe,{sx:{bgcolor:"#1e293b",borderRadius:2,overflow:"hidden",boxShadow:3,transition:"transform 0.3s","&:hover":{transform:"translateY(-5px)"}},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx(me,{component:"img",height:"180",image:c.image,alt:c.title}),c.discountPrice<c.price&&e.jsxs(n,{sx:{position:"absolute",top:8,right:8,bgcolor:"#ef4444",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:[Math.round((c.price-c.discountPrice)/c.price*100),"% OFF"]}),c.price===0&&e.jsx(n,{sx:{position:"absolute",top:8,right:8,bgcolor:"#10b981",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:"免费"})]}),e.jsxs(_e,{children:[e.jsx(t,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:c.title}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(n,{sx:{display:"flex",alignItems:"center",color:"#f59e0b"},children:Array.from({length:5}).map((g,v)=>e.jsx("span",{sx:{fontSize:"1rem"},children:v<Math.floor(c.rating)||v<c.rating?"★":"☆"},v))}),e.jsx(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:c.rating})]}),e.jsx(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:c.discountPrice<c.price?e.jsxs(e.Fragment,{children:[e.jsxs(t,{variant:"body2",sx:{color:"#ef4444",fontWeight:"bold"},children:["¥",c.discountPrice]}),e.jsxs(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)",textDecoration:"line-through"},children:["¥",c.price]})]}):c.price===0?e.jsx(t,{variant:"body2",sx:{color:"#10b981",fontWeight:"bold"},children:"免费"}):e.jsxs(t,{variant:"body2",sx:{color:"#ffffff",fontWeight:"bold"},children:["¥",c.price]})}),e.jsx(n,{sx:{display:"flex",gap:1},children:e.jsx(p,{variant:"contained",fullWidth:!0,size:"small",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},onClick:()=>a(`/game/${c.id}`),children:"查看详情"})})]})]})},c.id))}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:6},children:e.jsx(p,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff",bgcolor:"rgba(255, 255, 255, 0.1)"},borderRadius:2,px:4},onClick:()=>a("/games"),children:"查看更多热门游戏"})})]}),e.jsx(X,{sx:{bgcolor:"rgba(255, 255, 255, 0.1)",my:6}}),e.jsxs(Z,{maxWidth:"xl",sx:{py:0,pb:6},children:[e.jsxs(n,{sx:{mb:4},children:[e.jsx(t,{variant:"h4",component:"h2",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:"最新发布"}),e.jsx(t,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"探索最新上架的游戏"})]}),e.jsx(l,{container:!0,spacing:4,children:P.map(c=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(pe,{sx:{bgcolor:"#1e293b",borderRadius:2,overflow:"hidden",boxShadow:3,transition:"transform 0.3s","&:hover":{transform:"translateY(-5px)"}},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx(me,{component:"img",height:"180",image:c.image,alt:c.title}),c.discountPrice<c.price&&e.jsxs(n,{sx:{position:"absolute",top:8,right:8,bgcolor:"#ef4444",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:[Math.round((c.price-c.discountPrice)/c.price*100),"% OFF"]}),c.price===0&&e.jsx(n,{sx:{position:"absolute",top:8,right:8,bgcolor:"#10b981",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:"免费"})]}),e.jsxs(_e,{children:[e.jsx(t,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:c.title}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(n,{sx:{display:"flex",alignItems:"center",color:"#f59e0b"},children:Array.from({length:5}).map((g,v)=>e.jsx("span",{sx:{fontSize:"1rem"},children:v<Math.floor(c.rating)||v<c.rating?"★":"☆"},v))}),e.jsx(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:c.rating})]}),e.jsx(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:c.discountPrice<c.price?e.jsxs(e.Fragment,{children:[e.jsxs(t,{variant:"body2",sx:{color:"#ef4444",fontWeight:"bold"},children:["¥",c.discountPrice]}),e.jsxs(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)",textDecoration:"line-through"},children:["¥",c.price]})]}):c.price===0?e.jsx(t,{variant:"body2",sx:{color:"#10b981",fontWeight:"bold"},children:"免费"}):e.jsxs(t,{variant:"body2",sx:{color:"#ffffff",fontWeight:"bold"},children:["¥",c.price]})}),e.jsx(n,{sx:{display:"flex",gap:1},children:e.jsx(p,{variant:"contained",fullWidth:!0,size:"small",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},onClick:()=>a(`/game/${c.id}`),children:"查看详情"})})]})]})},c.id))}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:6},children:e.jsx(p,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff",bgcolor:"rgba(255, 255, 255, 0.1)"},borderRadius:2,px:4},onClick:()=>a("/games"),children:"查看更多最新游戏"})})]}),e.jsx(n,{sx:{bgcolor:"#1e293b",py:8,px:2,mt:6},children:e.jsx(Z,{maxWidth:"xl",children:e.jsxs(l,{container:!0,spacing:4,alignItems:"center",children:[e.jsxs(l,{item:!0,xs:12,md:6,sx:{order:{xs:2,md:1}},children:[e.jsx(t,{variant:"h4",component:"h2",sx:{fontWeight:"bold",color:"#ffffff",mb:2},children:"下载木鱼游戏客户端"}),e.jsx(t,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)",mb:4},children:"体验更流畅的游戏购买、下载和管理体验。支持Windows、macOS等主流操作系统。"}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2,mb:4},children:[e.jsxs(n,{sx:{display:"flex",gap:2},children:[e.jsx(p,{variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:2,px:4,py:1.5,fontSize:"1rem"},children:"Windows 下载"}),e.jsx(p,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff"},borderRadius:2,px:4,py:1.5,fontSize:"1rem"},children:"macOS 下载"})]}),e.jsx(p,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff"},borderRadius:2,px:4,py:1.5,fontSize:"1rem"},children:"Linux 下载"})]}),e.jsxs(n,{sx:{display:"flex",gap:4},children:[e.jsxs(n,{children:[e.jsx(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"版本"}),e.jsx(t,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"v1.0.0"})]}),e.jsxs(n,{children:[e.jsx(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"文件大小"}),e.jsx(t,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"200 MB"})]}),e.jsxs(n,{children:[e.jsx(t,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"更新日期"}),e.jsx(t,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"2025-12-04"})]})]})]}),e.jsx(l,{item:!0,xs:12,md:6,sx:{display:"flex",justifyContent:"center",order:{xs:1,md:2},mt:{xs:4,md:0}},children:e.jsx(n,{sx:{position:"relative",width:"100%",maxWidth:400},children:e.jsx("img",{src:"https://via.placeholder.com/400x300/6366f1/ffffff?text=木鱼游戏客户端",alt:"木鱼游戏客户端",style:{width:"100%",borderRadius:12,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)"}})})})]})})})]})};var Ae={},Ss={};const ia=sn(tn);var Hs;function _(){return Hs||(Hs=1,(function(a){"use client";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=ia})(Ss)),Ss}var Vs;function oa(){if(Vs)return Ae;Vs=1;var a=R();Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=void 0;var r=a(_()),s=W();return Ae.default=(0,r.default)((0,s.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart"),Ae}var la=oa();const We=I(la);var Ee={},Ns;function da(){if(Ns)return Ee;Ns=1;var a=R();Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=void 0;var r=a(_()),s=W();return Ee.default=(0,r.default)((0,s.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Ee}var ca=da();const _s=I(ca);var Oe={},$s;function xa(){if($s)return Oe;$s=1;var a=R();Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var r=a(_()),s=W();return Oe.default=(0,r.default)((0,s.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"}),"StarBorder"),Oe}var ha=xa();const Us=I(ha),Tr=({game:a,onGameClick:r,onAddToCart:s})=>{const i=h=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY",minimumFractionDigits:2}).format(h),d=h=>{const u=Math.floor(h),P=h%1>=.5,c=5-u-(P?1:0);return e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[[...Array(u)].map((g,v)=>e.jsx(_s,{sx:{color:"#fbbf24",fontSize:16}},`full-${v}`)),P&&e.jsxs(n,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(Us,{sx:{color:"#fbbf24",fontSize:16}}),e.jsx(n,{sx:{position:"absolute",left:0,top:0,overflow:"hidden",width:"50%"},children:e.jsx(_s,{sx:{color:"#fbbf24",fontSize:16}})})]}),[...Array(c)].map((g,v)=>e.jsx(Us,{sx:{color:"#fbbf24",fontSize:16}},`empty-${v}`)),e.jsxs(t,{variant:"body2",sx:{ml:1,color:"text.secondary"},children:["(",a.review_count,")"]})]})};return e.jsxs(pe,{className:"game-card",sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:2,transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(99, 102, 241, 0.3)"}},children:[e.jsxs(nn,{onClick:()=>r(a.id),sx:{flexGrow:1},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx(me,{component:"img",height:"200",image:a.main_image_url||"https://via.placeholder.com/400x200?text=Game+Image",alt:a.title,sx:{objectFit:"cover",borderRadius:2}}),a.discount_price&&a.discount_price<a.price&&e.jsxs(n,{sx:{position:"absolute",top:8,right:8,backgroundColor:"#ef4444",color:"white",padding:"4px 8px",borderRadius:1,fontWeight:700,fontSize:"0.8rem",boxShadow:2},children:[Math.round((1-a.discount_price/a.price)*100),"% OFF"]})]}),e.jsxs(_e,{children:[e.jsx(n,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:1},children:a.categories?.slice(0,2).map(h=>e.jsx(O,{label:h.name,size:"small",sx:{backgroundColor:"#475569",color:"white","&:hover":{backgroundColor:"#64748b"}}},h.id))}),e.jsx(t,{gutterBottom:!0,variant:"h6",component:"h2",sx:{fontWeight:600},children:a.title}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{lineHeight:1.6,mb:2},children:a.description.length>100?`${a.description.substring(0,100)}...`:a.description}),d(a.rating||0)]})]}),e.jsxs(an,{sx:{justifyContent:"space-between",p:2},children:[e.jsx(n,{children:a.discount_price&&a.discount_price<a.price?e.jsxs(n,{children:[e.jsx(t,{variant:"h6",sx:{fontWeight:700,color:"#6366f1"},children:i(a.discount_price)}),e.jsx(t,{variant:"body2",sx:{textDecoration:"line-through",color:"text.secondary"},children:i(a.price)})]}):e.jsx(t,{variant:"h6",sx:{fontWeight:700,color:"#6366f1"},children:i(a.price)})}),e.jsx(p,{variant:"contained",color:"primary",startIcon:e.jsx(We,{}),onClick:h=>{h.stopPropagation(),s(a)},sx:{borderRadius:2},children:"加入购物车"})]})]})};var Te={},Ys;function ua(){if(Ys)return Te;Ys=1;var a=R();Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var r=a(_()),s=W();return Te.default=(0,r.default)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Te}var pa=ua();const ma=I(pa);var Ge={},Zs;function fa(){if(Zs)return Ge;Zs=1;var a=R();Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=void 0;var r=a(_()),s=W();return Ge.default=(0,r.default)((0,s.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),Ge}var ja=fa();const zs=I(ja);var Fe={},Qs;function ga(){if(Qs)return Fe;Qs=1;var a=R();Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0;var r=a(_()),s=W();return Fe.default=(0,r.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Fe}var ba=ga();const va=I(ba),ya=({filters:a,onChange:r})=>{const s=ae(),[i,d]=x.useState({...a,categories:[],tags:[],minRating:0,maxRating:5,platform:"",releaseDate:{from:"",to:""}}),[h,u]=x.useState([]),[P,c]=x.useState([]),[g,v]=x.useState(!0),[w,b]=x.useState([]),[T,D]=x.useState([]);x.useEffect(()=>{s(Ut()).unwrap().then(C=>{u(C)}),s(Yt()).unwrap().then(C=>{c(C)})},[s]);const k=C=>{d(y=>({...y,search:C.target.value}))},o=C=>{d(y=>({...y,sortBy:C.target.value}))},M=C=>{d(y=>({...y,sortOrder:C.target.value}))},m=(C,y)=>{d(S=>({...S,minPrice:y[0],maxPrice:y[1]}))},q=()=>{r(i)},N=()=>{const C={search:"",categories:[],tags:[],minPrice:0,maxPrice:1e3,minRating:0,maxRating:5,platform:"",releaseDate:{from:"",to:""},sortBy:"release_date",sortOrder:"desc"};d(C),b([]),D([]),r(C)},L=C=>`¥${C}`;return e.jsxs(f,{sx:{p:2,borderRadius:2,backgroundColor:"#1e293b",color:"white"},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(t,{variant:"h6",component:"h2",sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(zs,{}),"筛选选项"]}),e.jsx(Q,{size:"small",onClick:()=>v(!g),sx:{color:"white"},children:g?e.jsx(va,{}):e.jsx(zs,{})})]}),g&&e.jsxs(e.Fragment,{children:[e.jsx(n,{sx:{mb:3},children:e.jsx(es,{freeSolo:!0,disableClearable:!0,options:[],renderInput:C=>e.jsx(B,{...C,fullWidth:!0,label:"搜索游戏",variant:"outlined",size:"small",value:i.search,onChange:y=>{k(y),clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{q()},300)},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiInputLabel-root":{color:"#94a3b8"},"& .MuiInputBase-input":{color:"white"}},InputProps:{...C.InputProps,endAdornment:e.jsxs(e.Fragment,{children:[C.InputProps.endAdornment,e.jsx(Q,{onClick:q,sx:{color:"#94a3b8",ml:1},children:e.jsx(ma,{})})]})}})})}),e.jsx(X,{sx:{my:2,bgcolor:"#334155"}}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"游戏分类"}),e.jsx(es,{multiple:!0,options:h,getOptionLabel:C=>C.name,value:w,onChange:(C,y)=>{b(y),d(S=>({...S,categories:y.map(U=>U.name)}))},renderTags:(C,y)=>C.map((S,U)=>e.jsx(O,{label:S.name,...y({index:U}),sx:{backgroundColor:"#475569",color:"white","&:hover":{backgroundColor:"#64748b"}}},S.id)),renderInput:C=>e.jsx(B,{...C,variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiMenuList-root":{backgroundColor:"#1e293b",color:"white"},"& .MuiMenuItem-root":{"&:hover":{backgroundColor:"#334155"}}},placeholder:"选择游戏分类"})})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"游戏标签"}),e.jsx(es,{multiple:!0,options:P,getOptionLabel:C=>C.name,value:T,onChange:(C,y)=>{D(y),d(S=>({...S,tags:y.map(U=>U.name)}))},renderTags:(C,y)=>C.map((S,U)=>e.jsx(O,{label:S.name,...y({index:U}),sx:{backgroundColor:"#475569",color:"white","&:hover":{backgroundColor:"#64748b"}}},S.id)),renderInput:C=>e.jsx(B,{...C,variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiMenuList-root":{backgroundColor:"#1e293b",color:"white"},"& .MuiMenuItem-root":{"&:hover":{backgroundColor:"#334155"}}},placeholder:"选择游戏标签"})})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"价格范围"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(t,{variant:"body2",sx:{color:"#cbd5e1"},children:L(i.minPrice)}),e.jsx(t,{variant:"body2",sx:{color:"#cbd5e1"},children:L(i.maxPrice)})]}),e.jsx(As,{value:[i.minPrice,i.maxPrice],onChange:m,min:0,max:1e3,step:50,valueLabelDisplay:"auto",getAriaLabel:()=>"价格范围",getAriaValueText:L,sx:{color:"#6366f1","& .MuiSlider-thumb":{backgroundColor:"#6366f1"},"& .MuiSlider-track":{backgroundColor:"#6366f1"},"& .MuiSlider-rail":{backgroundColor:"#475569"}}})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"评分范围"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(t,{variant:"body2",sx:{color:"#cbd5e1"},children:i.minRating}),e.jsx(t,{variant:"body2",sx:{color:"#cbd5e1"},children:i.maxRating})]}),e.jsx(As,{value:[i.minRating,i.maxRating],onChange:(C,y)=>{d(S=>({...S,minRating:y[0],maxRating:y[1]}))},min:0,max:5,step:.5,valueLabelDisplay:"auto",getAriaLabel:()=>"评分范围",sx:{color:"#f59e0b","& .MuiSlider-thumb":{backgroundColor:"#f59e0b"},"& .MuiSlider-track":{backgroundColor:"#f59e0b"},"& .MuiSlider-rail":{backgroundColor:"#475569"}}})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"游戏平台"}),e.jsx(ze,{fullWidth:!0,size:"small",children:e.jsxs(Pr,{value:i.platform,onChange:C=>{d(y=>({...y,platform:C.target.value}))},sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiMenuList-root":{backgroundColor:"#1e293b",color:"white"},"& .MuiMenuItem-root":{"&:hover":{backgroundColor:"#334155"}}},children:[e.jsx(E,{value:"",children:"所有平台"}),e.jsx(E,{value:"windows",children:"Windows"}),e.jsx(E,{value:"mac",children:"Mac"}),e.jsx(E,{value:"linux",children:"Linux"}),e.jsx(E,{value:"ios",children:"iOS"}),e.jsx(E,{value:"android",children:"Android"})]})})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"排序方式"}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsxs(ze,{size:"small",sx:{flexGrow:1},children:[e.jsx(Es,{sx:{color:"#94a3b8"},children:"排序依据"}),e.jsxs(Pr,{label:"排序依据",value:i.sortBy,onChange:o,sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiMenuList-root":{backgroundColor:"#1e293b",color:"white"},"& .MuiMenuItem-root":{"&:hover":{backgroundColor:"#334155"}}},children:[e.jsx(E,{value:"release_date",children:"发布日期"}),e.jsx(E,{value:"rating",children:"评分"}),e.jsx(E,{value:"price",children:"价格"}),e.jsx(E,{value:"review_count",children:"评价数量"})]})]}),e.jsxs(ze,{size:"small",sx:{minWidth:100},children:[e.jsx(Es,{sx:{color:"#94a3b8"},children:"排序顺序"}),e.jsxs(Pr,{label:"排序顺序",value:i.sortOrder,onChange:M,sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiMenuList-root":{backgroundColor:"#1e293b",color:"white"},"& .MuiMenuItem-root":{"&:hover":{backgroundColor:"#334155"}}},children:[e.jsx(E,{value:"desc",children:"降序"}),e.jsx(E,{value:"asc",children:"升序"})]})]})]})]}),e.jsx(X,{sx:{my:2,bgcolor:"#334155"}}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsx(p,{variant:"contained",fullWidth:!0,onClick:q,sx:{borderRadius:1,backgroundColor:"#6366f1","&:hover":{backgroundColor:"#4f46e5"}},children:"应用筛选"}),e.jsx(p,{variant:"outlined",fullWidth:!0,onClick:N,sx:{borderRadius:1,borderColor:"#6366f1",color:"#6366f1","&:hover":{borderColor:"#4f46e5",color:"#4f46e5",backgroundColor:"rgba(99, 102, 241, 0.1)"}},children:"重置"})]})]})]})},Ca=()=>{const a=ae(),{games:r,loading:s,error:i,totalPages:d,currentPage:h}=te(S=>S.game),[u,P]=x.useState({search:"",categories:[],tags:[],minPrice:0,maxPrice:1e3,sortBy:"release_date",sortOrder:"desc"}),[c,g]=x.useState(!1),[v,w]=x.useState(""),[b,T]=x.useState([]),[D,k]=x.useState([]),[o,M]=x.useState([]),[m,q]=x.useState([]);x.useEffect(()=>{a(Me({page:1,...u}))},[a,u]);const N=S=>{P(U=>({...U,...S}))},L=S=>{window.location.href=`/game/${S}`},C=S=>{w(`${S.title} 已加入购物车`),g(!0)},y=()=>{g(!1)};return x.useEffect(()=>{if(r.length>0){const S=[...r].filter(re=>re.rating>=4).sort((re,ce)=>ce.rating-re.rating).slice(0,4);T(S);const U=[...r].sort((re,ce)=>new Date(ce.release_date)-new Date(re.release_date)).slice(0,8);k(U);const z=new Date;z.setDate(z.getDate()-30);const le=[...r].filter(re=>new Date(re.release_date)>=z).sort((re,ce)=>new Date(ce.release_date)-new Date(re.release_date)).slice(0,8);M(le);const be=[...r].sort((re,ce)=>{const se=re.rating*Math.log(re.review_count+1);return ce.rating*Math.log(ce.review_count+1)-se}).slice(0,8);q(be)}},[r]),e.jsxs(Z,{maxWidth:"xl",children:[e.jsxs(n,{sx:{py:4},children:[e.jsx(t,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:700},children:"木鱼游戏"}),e.jsx(t,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:"发现最新、最热门的游戏"})]}),b.length>0&&e.jsxs(n,{sx:{mb:6},children:[e.jsx(t,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"精选游戏"}),e.jsx(f,{sx:{p:4,borderRadius:2,background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",color:"white"},children:e.jsxs(l,{container:!0,spacing:3,alignItems:"center",children:[e.jsxs(l,{item:!0,xs:12,md:8,children:[e.jsx(t,{variant:"h4",component:"h3",sx:{fontWeight:700,mb:2},children:b[0].title}),e.jsx(t,{variant:"body1",sx:{mb:3,opacity:.9},children:b[0].description.length>200?`${b[0].description.substring(0,200)}...`:b[0].description}),e.jsxs(n,{sx:{display:"flex",gap:2},children:[e.jsx(Button,{variant:"contained",onClick:()=>L(b[0].id),sx:{bgcolor:"white",color:"#6366f1","&:hover":{bgcolor:"#f3f4f6"}},children:"查看详情"}),e.jsx(Button,{variant:"outlined",onClick:()=>C(b[0]),sx:{borderColor:"white",color:"white","&:hover":{bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"加入购物车"})]})]}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(n,{sx:{borderRadius:2,overflow:"hidden",boxShadow:3},children:e.jsx("img",{src:b[0].main_image_url||"https://via.placeholder.com/400x200?text=Game+Image",alt:b[0].title,style:{width:"100%",height:"200px",objectFit:"cover"}})})})]})})]}),D.length>0&&e.jsxs(n,{sx:{mb:6},children:[e.jsx(t,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"推荐游戏"}),e.jsx(n,{sx:{overflowX:"auto",pb:2},children:e.jsx(l,{container:!0,spacing:3,sx:{minWidth:"min-content"},children:D.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,sx:{minWidth:"250px"},children:e.jsx(Tr,{game:S,onGameClick:L,onAddToCart:C})},S.id))})})]}),o.length>0&&e.jsxs(n,{sx:{mb:6},children:[e.jsx(t,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"新发布游戏"}),e.jsx(n,{sx:{overflowX:"auto",pb:2},children:e.jsx(l,{container:!0,spacing:3,sx:{minWidth:"min-content"},children:o.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,sx:{minWidth:"250px"},children:e.jsx(Tr,{game:S,onGameClick:L,onAddToCart:C})},S.id))})})]}),m.length>0&&e.jsxs(n,{sx:{mb:6},children:[e.jsx(t,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"热门游戏"}),e.jsx(n,{sx:{overflowX:"auto",pb:2},children:e.jsx(l,{container:!0,spacing:3,sx:{minWidth:"min-content"},children:m.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,sx:{minWidth:"250px"},children:e.jsx(Tr,{game:S,onGameClick:L,onAddToCart:C})},S.id))})})]}),e.jsxs(l,{container:!0,spacing:4,children:[e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(f,{elevation:3,sx:{p:3,borderRadius:2},children:e.jsx(ya,{filters:u,onChange:N})})}),e.jsxs(l,{item:!0,xs:12,md:9,children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(t,{variant:"h5",component:"h2",sx:{fontWeight:600},children:"所有游戏"}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["共 ",r.length," 款游戏"]})]}),s?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(je,{size:60})}):i?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(K,{severity:"error",sx:{width:"100%",maxWidth:500},children:i})}):r.length===0?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(K,{severity:"info",sx:{width:"100%",maxWidth:500},children:"未找到符合条件的游戏"})}):e.jsx(l,{container:!0,spacing:3,children:r.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsx(Tr,{game:S,onGameClick:L,onAddToCart:C})},S.id))}),d>1&&e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:4}})]})]}),e.jsx(Kr,{open:c,autoHideDuration:3e3,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(K,{onClose:y,severity:"success",sx:{width:"100%"},children:v})})]})};var Be={},Js;function wa(){if(Js)return Be;Js=1;var a=R();Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=void 0;var r=a(_()),s=W();return Be.default=(0,r.default)((0,s.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Be}var Sa=wa();const De=I(Sa);var He={},Xs;function Ia(){if(Xs)return He;Xs=1;var a=R();Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var r=a(_()),s=W();return He.default=(0,r.default)((0,s.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),He}var Ra=Ia();const Jt=I(Ra);var Ve={},Ks;function Wa(){if(Ks)return Ve;Ks=1;var a=R();Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;var r=a(_()),s=W();return Ve.default=(0,r.default)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Ve}var _a=Wa();const qs=I(_a);var Ne={},et;function za(){if(et)return Ne;et=1;var a=R();Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;var r=a(_()),s=W();return Ne.default=(0,r.default)((0,s.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),Ne}var Pa=za();const Ps=I(Pa);var $e={},rt;function ka(){if(rt)return $e;rt=1;var a=R();Object.defineProperty($e,"__esModule",{value:!0}),$e.default=void 0;var r=a(_()),s=W();return $e.default=(0,r.default)((0,s.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96"}),"Cloud"),$e}var Ma=ka();const Gr=I(Ma);var Ue={},st;function Da(){if(st)return Ue;st=1;var a=R();Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var r=a(_()),s=W();return Ue.default=(0,r.default)((0,s.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),Ue}var qa=Da();const La=I(qa);var Ye={},tt;function Aa(){if(tt)return Ye;tt=1;var a=R();Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=void 0;var r=a(_()),s=W();return Ye.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),Ye}var Ea=Aa();const ge=I(Ea);var Ze={},nt;function Oa(){if(nt)return Ze;nt=1;var a=R();Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=void 0;var r=a(_()),s=W();return Ze.default=(0,r.default)((0,s.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),Ze}var Ta=Oa();const Ga=I(Ta);var Qe={},at;function Fa(){if(at)return Qe;at=1;var a=R();Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var r=a(_()),s=W();return Qe.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),Qe}var Ba=Fa();const Je=I(Ba);var Xe={},it;function Ha(){if(it)return Xe;it=1;var a=R();Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;var r=a(_()),s=W();return Xe.default=(0,r.default)((0,s.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),Xe}var Va=Ha();const Fr=I(Va);var Ke={},ot;function Na(){if(ot)return Ke;ot=1;var a=R();Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var r=a(_()),s=W();return Ke.default=(0,r.default)((0,s.jsx)("path",{d:"M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6z"}),"SettingsInputComponent"),Ke}var $a=Na();const Is=I($a);var er={},lt;function Ua(){if(lt)return er;lt=1;var a=R();Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var r=a(_()),s=W();return er.default=(0,r.default)((0,s.jsx)("path",{d:"M15 9H9v6h6zm-2 4h-2v-2h2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2zm-4 6H7V7h10z"}),"Memory"),er}var Ya=Ua();const dt=I(Ya);var rr={},ct;function Za(){if(ct)return rr;ct=1;var a=R();Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=void 0;var r=a(_()),s=W();return rr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}),"GpsFixed"),rr}var Qa=Za();const xt=I(Qa),Ja=()=>{const{id:a}=on(),r=ne(),s=ae(),{currentGame:i,gameDetailLoading:d,gameDetailError:h}=te(A=>A.game),[u,P]=x.useState(0),[c,g]=x.useState(!1),[v,w]=x.useState(""),[b,T]=x.useState(!1),[D,k]=x.useState(0),[o,M]=x.useState({isChecking:!1,results:{cpu:{passed:!0,value:"Intel i5-8400",required:"Intel i5-4590"},memory:{passed:!0,value:"16 GB",required:"8 GB"},graphics:{passed:!0,value:"NVIDIA GTX 1660",required:"NVIDIA GTX 970"},storage:{passed:!0,value:"512 GB SSD",required:"100 GB HDD"},os:{passed:!0,value:"Windows 10 64-bit",required:"Windows 7 64-bit"}}}),[m,q]=x.useState({isSyncing:!1,progress:0,lastSynced:new Date().toLocaleString("zh-CN")});x.useEffect(()=>(s(Zr(a)),()=>{s(Nn())}),[s,a]);const N=(A,$)=>{P($)},L=()=>{r(-1)},C=()=>{i&&(w(`${i.title} 已加入购物车`),g(!0))},y=()=>{i&&(w("开始下载游戏..."),g(!0))},S=()=>{if(!i)return;w("正在启动游戏..."),g(!0),T(!0),k(0);const A=setInterval(()=>{k($=>{const ue=$+10;return ue>=100&&(clearInterval(A),T(!1),w("游戏启动成功！"),g(!0)),ue})},500)},U=()=>{M(A=>({...A,isChecking:!0})),setTimeout(()=>{M(A=>({...A,isChecking:!1})),w("系统需求检测完成！"),g(!0)},1500)},z=()=>{q($=>({...$,isSyncing:!0,progress:0}));const A=setInterval(()=>{q($=>{const ue=$.progress+20;return ue>=100?(clearInterval(A),{...$,isSyncing:!1,progress:100,lastSynced:new Date().toLocaleString("zh-CN")}):{...$,progress:ue}})},300)},le=()=>{g(!1)},be=A=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY",minimumFractionDigits:2}).format(A),re=A=>{if(A===0)return"0 Bytes";const $=1024,ue=["Bytes","KB","MB","GB","TB"],Ls=Math.floor(Math.log(A)/Math.log($));return parseFloat((A/Math.pow($,Ls)).toFixed(2))+" "+ue[Ls]},ce=()=>!i||!i.screenshots?e.jsx(n,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(t,{variant:"body2",color:"text.secondary",children:"暂无截图"})}):e.jsx(n,{sx:{display:"flex",gap:2,overflowX:"auto",py:2,pb:3},children:i.screenshots.map((A,$)=>e.jsx(n,{sx:{flex:"0 0 auto",width:400,height:225,borderRadius:2,overflow:"hidden",boxShadow:2},children:e.jsx("img",{src:A.url||"https://via.placeholder.com/400x225?text=Screenshot",alt:`${i.title} Screenshot ${$+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},$))}),se=()=>{if(!i||!i.system_requirements)return e.jsx(n,{sx:{py:2},children:e.jsx(t,{variant:"body2",color:"text.secondary",children:"暂无系统需求信息"})});const A=i.system_requirements.find(ue=>ue.type==="minimum"),$=i.system_requirements.find(ue=>ue.type==="recommended");return e.jsxs(n,{children:[e.jsx(n,{sx:{mb:3,display:"flex",justifyContent:"center"},children:e.jsx(p,{variant:"contained",size:"large",startIcon:o.isChecking?e.jsx(je,{size:20,color:"inherit"}):e.jsx(Is,{}),onClick:U,disabled:o.isChecking,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:o.isChecking?"正在检测...":"检测系统需求"})}),!o.isChecking&&e.jsxs(n,{sx:{mb:4},children:[e.jsx(t,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"系统检测结果"}),e.jsx(f,{sx:{p:3,borderRadius:2,mb:3},children:e.jsxs(ve,{children:[e.jsxs(H,{children:[e.jsx(fe,{children:e.jsx(de,{sx:{bgcolor:o.results.cpu.passed?"#10b981":"#ef4444"},children:o.results.cpu.passed?e.jsx(ge,{}):e.jsx(Je,{})})}),e.jsx(V,{primary:"CPU",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:o.results.cpu.value})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:o.results.cpu.required})]})]})})]}),e.jsxs(H,{children:[e.jsx(fe,{children:e.jsx(de,{sx:{bgcolor:o.results.memory.passed?"#10b981":"#ef4444"},children:o.results.memory.passed?e.jsx(ge,{}):e.jsx(Je,{})})}),e.jsx(V,{primary:"内存",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:o.results.memory.value})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:o.results.memory.required})]})]})})]}),e.jsxs(H,{children:[e.jsx(fe,{children:e.jsx(de,{sx:{bgcolor:o.results.graphics.passed?"#10b981":"#ef4444"},children:o.results.graphics.passed?e.jsx(ge,{}):e.jsx(Je,{})})}),e.jsx(V,{primary:"显卡",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:o.results.graphics.value})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:o.results.graphics.required})]})]})})]}),e.jsxs(H,{children:[e.jsx(fe,{children:e.jsx(de,{sx:{bgcolor:o.results.storage.passed?"#10b981":"#ef4444"},children:o.results.storage.passed?e.jsx(ge,{}):e.jsx(Je,{})})}),e.jsx(V,{primary:"存储空间",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:o.results.storage.value})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:o.results.storage.required})]})]})})]}),e.jsxs(H,{children:[e.jsx(fe,{children:e.jsx(de,{sx:{bgcolor:o.results.os.passed?"#10b981":"#ef4444"},children:o.results.os.passed?e.jsx(ge,{}):e.jsx(Je,{})})}),e.jsx(V,{primary:"操作系统",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:o.results.os.value})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:o.results.os.required})]})]})})]})]})})]}),e.jsxs(l,{container:!0,spacing:4,sx:{py:2},children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"最低配置"}),A?e.jsxs(n,{children:[e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(xt,{sx:{mr:1,color:"#6366f1"}}),e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"操作系统"})]}),e.jsx(t,{variant:"body1",children:A.os})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Is,{sx:{mr:1,color:"#6366f1"}}),e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"处理器"})]}),e.jsx(t,{variant:"body1",children:A.processor})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(dt,{sx:{mr:1,color:"#6366f1"}}),e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"内存"})]}),e.jsx(t,{variant:"body1",children:A.memory})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Fr,{sx:{mr:1,color:"#6366f1"}}),e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"显卡"})]}),e.jsx(t,{variant:"body1",children:A.graphics})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Fr,{sx:{mr:1,color:"#6366f1"}}),e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"存储空间"})]}),e.jsx(t,{variant:"body1",children:A.storage})]})]}):e.jsx(t,{variant:"body2",color:"text.secondary",children:"暂无最低配置信息"})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"推荐配置"}),$?e.jsxs(n,{children:[e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(xt,{sx:{mr:1,color:"#6366f1"}}),e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"操作系统"})]}),e.jsx(t,{variant:"body1",children:$.os})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Is,{sx:{mr:1,color:"#6366f1"}}),e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"处理器"})]}),e.jsx(t,{variant:"body1",children:$.processor})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(dt,{sx:{mr:1,color:"#6366f1"}}),e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"内存"})]}),e.jsx(t,{variant:"body1",children:$.memory})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Fr,{sx:{mr:1,color:"#6366f1"}}),e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"显卡"})]}),e.jsx(t,{variant:"body1",children:$.graphics})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Fr,{sx:{mr:1,color:"#6366f1"}}),e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"存储空间"})]}),e.jsx(t,{variant:"body1",children:$.storage})]})]}):e.jsx(t,{variant:"body2",color:"text.secondary",children:"暂无推荐配置信息"})]})})]})]})},ie=()=>!i||!i.developer?e.jsx(n,{sx:{py:2},children:e.jsx(t,{variant:"body2",color:"text.secondary",children:"暂无开发者信息"})}):e.jsx(n,{sx:{py:2},children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:i.developer.company_name}),i.developer.bio&&e.jsx(n,{sx:{mb:3},children:e.jsx(t,{variant:"body1",sx:{lineHeight:1.8},children:i.developer.bio})}),e.jsxs(n,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[i.developer.contact_email&&e.jsx(O,{label:`联系邮箱: ${i.developer.contact_email}`,variant:"outlined"}),i.developer.website&&e.jsx(O,{label:`官网: ${i.developer.website}`,variant:"outlined"})]})]})}),Le=()=>!i||!i.versions?e.jsx(n,{sx:{py:2},children:e.jsx(t,{variant:"body2",color:"text.secondary",children:"暂无版本信息"})}):e.jsx(n,{sx:{py:2},children:i.versions.map(A=>e.jsxs(f,{sx:{p:3,borderRadius:2,mb:2},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(n,{children:[e.jsxs(t,{variant:"h6",component:"h4",sx:{fontWeight:600},children:["版本 ",A.version_number]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["发布日期: ",new Date(A.release_date).toLocaleDateString("zh-CN")]})]}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsx(O,{label:A.platform.toUpperCase(),color:"primary",size:"small"}),e.jsx(O,{label:re(A.file_size),variant:"outlined",size:"small"})]})]}),A.changelog&&e.jsxs(n,{sx:{mb:2},children:[e.jsx(t,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"更新日志:"}),e.jsx(t,{variant:"body2",sx:{lineHeight:1.8,whiteSpace:"pre-line"},children:A.changelog})]}),e.jsx(p,{variant:"contained",startIcon:e.jsx(De,{}),size:"small",sx:{mt:1},onClick:y,children:"下载此版本"})]},A.id))}),[qr,_o]=x.useState([]),[zo,Po]=x.useState(!1),[ko,Mo]=x.useState(null),[Do,qo]=x.useState(0),[Lo,Ao]=x.useState(""),[Eo,Oo]=x.useState(!1),[To,Go]=x.useState(""),[Fo,Bo]=x.useState(null),Kt=()=>e.jsxs(n,{sx:{py:2},children:[e.jsxs(f,{sx:{p:3,borderRadius:2,mb:3},children:[e.jsxs(t,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Gr,{}),"游戏数据同步"]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary",mb:1},children:"同步状态"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsx(t,{variant:"body1",children:m.isSyncing?e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(je,{size:20,color:"primary"}),e.jsx("span",{children:"正在同步数据..."})]}):m.progress===100?e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,color:"#10b981"},children:[e.jsx(ge,{}),e.jsx("span",{children:"数据已同步"})]}):e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,color:"#f59e0b"},children:[e.jsx(Ga,{}),e.jsx("span",{children:"数据未同步"})]})}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["最后同步: ",m.lastSynced]})]}),e.jsx(Os,{variant:m.isSyncing?"determinate":"indeterminate",value:m.progress,sx:{height:8,borderRadius:4,mb:2}}),m.progress>0&&!m.isSyncing&&e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"同步进度"}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:[m.progress,"%"]})]})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"subtitle2",sx:{fontWeight:600,mb:2},children:"同步选项"}),e.jsxs(n,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(O,{label:"存档",color:"primary",variant:"outlined"}),e.jsx(O,{label:"设置",color:"primary",variant:"outlined"}),e.jsx(O,{label:"成就",color:"primary",variant:"outlined"}),e.jsx(O,{label:"好友",color:"primary",variant:"outlined"})]})]}),e.jsx(p,{variant:"contained",size:"large",startIcon:m.isSyncing?e.jsx(je,{size:20,color:"inherit"}):e.jsx(La,{}),onClick:z,disabled:m.isSyncing,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:m.isSyncing?"正在同步...":"立即同步"})]}),e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"同步历史"}),e.jsxs(ve,{children:[e.jsxs(H,{children:[e.jsx(V,{primary:"游戏存档同步",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:"状态:"}),e.jsx("span",{style:{color:"#10b981",fontWeight:"bold"},children:"已完成"})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"时间:"}),e.jsx("span",{children:m.lastSynced})]})]})}),e.jsx(Q,{edge:"end","aria-label":"more",children:e.jsx(Gr,{})})]}),e.jsx(X,{variant:"inset",component:"li"}),e.jsxs(H,{children:[e.jsx(V,{primary:"成就数据同步",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:"状态:"}),e.jsx("span",{style:{color:"#10b981",fontWeight:"bold"},children:"已完成"})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"时间:"}),e.jsx("span",{children:new Date(Date.now()-864e5).toLocaleString("zh-CN")})]})]})}),e.jsx(Q,{edge:"end","aria-label":"more",children:e.jsx(Gr,{})})]}),e.jsx(X,{variant:"inset",component:"li"}),e.jsxs(H,{children:[e.jsx(V,{primary:"游戏设置同步",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:"状态:"}),e.jsx("span",{style:{color:"#f59e0b",fontWeight:"bold"},children:"同步中"})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"时间:"}),e.jsx("span",{children:new Date(Date.now()-1728e5).toLocaleString("zh-CN")})]})]})}),e.jsx(Q,{edge:"end","aria-label":"more",children:e.jsx(Gr,{})})]})]})]})]});return e.jsxs(Z,{maxWidth:"xl",children:[e.jsxs(n,{sx:{py:4},children:[e.jsx(p,{startIcon:e.jsx(qs,{}),variant:"outlined",sx:{mb:3},onClick:L,children:"返回"}),d?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:500},children:e.jsx(je,{size:80})}):h?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:500},children:e.jsx(K,{severity:"error",sx:{width:"100%",maxWidth:500},children:h})}):i?e.jsxs(n,{children:[e.jsx(f,{sx:{p:4,borderRadius:2,mb:4},children:e.jsxs(l,{container:!0,spacing:4,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(n,{sx:{position:"relative",borderRadius:2,overflow:"hidden",boxShadow:3},children:[e.jsx("img",{src:i.main_image_url||"https://via.placeholder.com/800x450?text=Game+Image",alt:i.title,style:{width:"100%",display:"block"}}),i.discount_price&&i.discount_price<i.price&&e.jsxs(n,{sx:{position:"absolute",top:16,right:16,backgroundColor:"#ef4444",color:"white",padding:"8px 16px",borderRadius:1,fontWeight:700,fontSize:"1rem",boxShadow:2},children:[Math.round((1-i.discount_price/i.price)*100),"% OFF"]})]})}),e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsxs(n,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[i.categories?.map(A=>e.jsx(O,{label:A.name,sx:{backgroundColor:"#475569",color:"white","&:hover":{backgroundColor:"#64748b"}}},A.id)),i.tags?.map(A=>e.jsx(O,{label:A.name,variant:"outlined"},A.id))]}),e.jsx(t,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:700},children:i.title}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(ln,{value:i.rating||0,precision:.5,readOnly:!0,size:"large"}),e.jsxs(t,{variant:"body1",sx:{ml:1,color:"text.secondary"},children:["(",i.review_count," 条评价)"]})]}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mb:3},children:["发布日期: ",new Date(i.release_date).toLocaleDateString("zh-CN")]}),e.jsx(t,{variant:"body1",sx:{lineHeight:1.8,mb:4},children:i.description}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(n,{children:i.discount_price&&i.discount_price<i.price?e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"h5",sx:{fontWeight:700,color:"#6366f1"},children:be(i.discount_price)}),e.jsxs(t,{variant:"body2",sx:{textDecoration:"line-through",color:"text.secondary"},children:["原价: ",be(i.price)]})]}):e.jsx(t,{variant:"h5",sx:{fontWeight:700,color:"#6366f1"},children:be(i.price)})}),b&&e.jsxs(n,{sx:{mb:2},children:[e.jsx(t,{variant:"body2",sx:{mb:.5},children:"游戏启动中..."}),e.jsx(Os,{variant:"determinate",value:D,sx:{height:8,borderRadius:4}}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:.5},children:e.jsxs(t,{variant:"caption",color:"text.secondary",children:[D,"%"]})})]}),e.jsxs(n,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(p,{variant:"contained",size:"large",startIcon:e.jsx(We,{}),onClick:C,sx:{flexGrow:1,borderRadius:1,backgroundColor:"#6366f1","&:hover":{backgroundColor:"#4f46e5"}},children:"加入购物车"}),e.jsx(p,{variant:"contained",size:"large",startIcon:e.jsx(De,{}),onClick:y,sx:{flexGrow:1,borderRadius:1,backgroundColor:"#10b981","&:hover":{backgroundColor:"#059669"}},children:"立即下载"}),e.jsx(p,{variant:"outlined",size:"large",startIcon:e.jsx(Ps,{}),onClick:S,sx:{flexGrow:1,borderRadius:1},children:"启动游戏"}),e.jsx(Q,{size:"large",color:"primary",sx:{borderRadius:1},title:"分享",children:e.jsx(Jt,{})})]})]})]})]})}),e.jsxs(n,{sx:{mb:4},children:[e.jsx(t,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600},children:"游戏截图"}),ce()]}),e.jsxs(n,{sx:{mb:4},children:[e.jsx(t,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600},children:"游戏视频"}),e.jsx(f,{sx:{p:2,borderRadius:2,position:"relative"},children:e.jsxs(n,{sx:{height:400,backgroundColor:"#0f172a",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:1,position:"relative",overflow:"hidden"},children:[e.jsx(n,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(99, 102, 241, 0.9)",width:80,height:80,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(79, 70, 229, 0.9)",transform:"translate(-50%, -50%) scale(1.1)",transition:"all 0.3s ease"}},children:e.jsx(Ps,{sx:{fontSize:40,color:"white",ml:.5}})}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"点击播放游戏视频"})]})})]}),e.jsxs(f,{sx:{borderRadius:2,overflow:"hidden"},children:[e.jsx(n,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(qe,{value:u,onChange:N,variant:"scrollable",scrollButtons:"auto",textColor:"primary",indicatorColor:"primary",children:[e.jsx(J,{label:"系统需求"}),e.jsx(J,{label:"开发者信息"}),e.jsx(J,{label:"版本历史"}),e.jsx(J,{label:"用户评价"}),e.jsx(J,{label:"数据同步"})]})}),e.jsxs(n,{sx:{p:3},children:[u===0&&se(),u===1&&ie(),u===2&&Le(),u===3&&e.jsx(n,{sx:{py:2},children:e.jsx(t,{variant:"body2",color:"text.secondary",children:"用户评价功能开发中..."})}),u===4&&Kt()]})]})]}):null]}),e.jsx(Kr,{open:c,autoHideDuration:3e3,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(K,{onClose:le,severity:"success",sx:{width:"100%"},children:v})})]})},Xa=()=>{const a=ne();ae();const{user:r}=te(w=>w.user),[s,i]=x.useState(0),[d,h]=x.useState(!1),[u,P]=x.useState(""),[c,g]=x.useState([]),v=[{id:1,title:"赛博朋克2077",image:"https://via.placeholder.com/300x200/6366f1/ffffff?text=Cyberpunk+2077",status:"installed",lastPlayed:"2025-12-01",playTime:"25h 30m"},{id:2,title:"艾尔登法环",image:"https://via.placeholder.com/300x200/ec4899/ffffff?text=Elden+Ring",status:"installed",lastPlayed:"2025-11-28",playTime:"45h 15m"},{id:3,title:"星穹铁道",image:"https://via.placeholder.com/300x200/10b981/ffffff?text=Star+Rail",status:"downloaded",lastPlayed:"2025-11-25",playTime:"15h 45m"}];return x.useEffect(()=>{if(!r){a("/login");return}h(!0),setTimeout(()=>{g(v),h(!1)},1e3)},[r,a]),r?e.jsxs(Z,{maxWidth:"xl",sx:{py:4},children:[e.jsx(t,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",mb:4},children:"我的游戏库"}),e.jsx(f,{sx:{mb:4,borderRadius:2,overflow:"hidden"},children:e.jsxs(qe,{value:s,onChange:(w,b)=>i(b),variant:"fullWidth",textColor:"primary",indicatorColor:"primary",children:[e.jsx(J,{label:"已购游戏"}),e.jsx(J,{label:"已安装"}),e.jsx(J,{label:"最近游玩"})]})}),d?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(je,{size:60})}):u?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(K,{severity:"error",sx:{width:"100%",maxWidth:500},children:u})}):c.length===0?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,textAlign:"center"},children:e.jsxs(n,{children:[e.jsx(t,{variant:"h6",component:"h2",sx:{mb:2},children:"您的游戏库是空的"}),e.jsx(t,{variant:"body1",sx:{color:"text.secondary",mb:4},children:"浏览游戏商城，购买并下载您喜欢的游戏。"}),e.jsx(p,{variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4},onClick:()=>a("/games"),children:"浏览游戏"})]})}):e.jsx(l,{container:!0,spacing:3,children:c.map(w=>e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(f,{sx:{borderRadius:2,overflow:"hidden",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx("img",{src:w.image,alt:w.title,style:{width:"100%",height:180,objectFit:"cover"}}),e.jsx(O,{label:w.status==="installed"?"已安装":"已购买",color:w.status==="installed"?"success":"primary",size:"small",sx:{position:"absolute",top:8,right:8,fontWeight:"bold"}})]}),e.jsxs(n,{sx:{p:3},children:[e.jsx(t,{variant:"h6",component:"div",sx:{fontWeight:"bold",mb:1},children:w.title}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(t,{variant:"body2",color:"text.secondary",children:["最近游玩: ",w.lastPlayed]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["游玩时间: ",w.playTime]})]}),e.jsx(n,{sx:{display:"flex",gap:1},children:w.status==="installed"?e.jsx(p,{variant:"contained",fullWidth:!0,startIcon:e.jsx(Ps,{}),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},children:"开始游戏"}):e.jsx(p,{variant:"contained",fullWidth:!0,startIcon:e.jsx(De,{}),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},children:"下载"})})]})]})},w.id))})]}):null},Ka=()=>{const a=ne(),r=ae(),[s,i]=x.useState({email:"",password:""}),[d,h]=x.useState(!1),[u,P]=x.useState(""),[c,g]=x.useState(!1),v=D=>{const{name:k,value:o}=D.target;i(M=>({...M,[k]:o})),P("")},w=D=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D),b=async D=>{if(D.preventDefault(),!s.email){P("请输入邮箱地址");return}if(!w(s.email)){P("请输入有效的邮箱地址");return}if(!s.password){P("请输入密码");return}if(s.password.length<6){P("密码长度不能少于6个字符");return}g(!0),P("");try{await r(Nr(s)).unwrap(),a("/")}catch(k){P(k.message||"登录失败，请检查您的邮箱和密码")}finally{g(!1)}},T=()=>{h(D=>!D)};return e.jsx(Z,{component:"main",maxWidth:"xs",sx:{mt:8,mb:8},children:e.jsxs(f,{elevation:3,sx:{p:4,borderRadius:2},children:[e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[e.jsx(de,{sx:{m:1,bgcolor:"#6366f1"},children:e.jsx(dn,{})}),e.jsx(t,{component:"h1",variant:"h5",sx:{fontWeight:"bold"},children:"登录"}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"欢迎回到木鱼游戏平台"})]}),u&&e.jsx(K,{severity:"error",sx:{mb:2},children:u}),e.jsxs(n,{component:"form",onSubmit:b,noValidate:!0,sx:{mt:1},children:[e.jsx(B,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"邮箱地址",name:"email",autoComplete:"email",autoFocus:!0,value:s.email,onChange:v,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(B,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"密码",type:d?"text":"password",id:"password",autoComplete:"current-password",value:s.password,onChange:v,InputProps:{endAdornment:e.jsx(ye,{position:"end",children:e.jsx(Q,{"aria-label":"toggle password visibility",onClick:T,edge:"end",children:d?e.jsx(Pe,{}):e.jsx(ke,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(p,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1},disabled:c,children:c?"登录中...":"登录"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(Y,{component:"button",variant:"body2",sx:{cursor:"pointer"},children:"忘记密码？"}),e.jsx(Y,{component:Bt,to:"/register",variant:"body2",children:"还没有账号？立即注册"})]}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsxs(t,{variant:"body2",color:"text.secondary",children:["登录即表示您同意我们的",e.jsx(Y,{component:"button",variant:"body2",sx:{ml:.5,cursor:"pointer"},children:"用户协议"}),"和",e.jsx(Y,{component:"button",variant:"body2",sx:{ml:.5,cursor:"pointer"},children:"隐私政策"})]})})]})]})})},ei=()=>{const a=ne(),r=ae(),[s,i]=x.useState({username:"",email:"",password:"",confirmPassword:""}),[d,h]=x.useState(!1),[u,P]=x.useState(!1),[c,g]=x.useState(""),[v,w]=x.useState(!1),[b,T]=x.useState(!1),D=L=>{const{name:C,value:y}=L.target;i(S=>({...S,[C]:y})),g("")},k=L=>{T(L.target.checked),g("")},o=L=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L),M=L=>L.length<6?"weak":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/.test(L)?"strong":"medium",m=async L=>{if(L.preventDefault(),!s.username){g("请输入用户名");return}if(s.username.length<3){g("用户名长度不能少于3个字符");return}if(!s.email){g("请输入邮箱地址");return}if(!o(s.email)){g("请输入有效的邮箱地址");return}if(!s.password){g("请输入密码");return}if(s.password.length<6){g("密码长度不能少于6个字符");return}if(M(s.password)==="weak"){g("密码强度太弱，建议包含大小写字母、数字和特殊字符");return}if(!s.confirmPassword){g("请确认密码");return}if(s.password!==s.confirmPassword){g("两次输入的密码不一致");return}if(!b){g("请阅读并同意用户协议和隐私政策");return}w(!0),g("");try{await r(Vr(s)).unwrap(),a("/")}catch(C){g(C.message||"注册失败，请重试")}finally{w(!1)}},q=()=>{h(L=>!L)},N=()=>{P(L=>!L)};return e.jsx(Z,{component:"main",maxWidth:"xs",sx:{mt:8,mb:8},children:e.jsxs(f,{elevation:3,sx:{p:4,borderRadius:2},children:[e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[e.jsx(de,{sx:{m:1,bgcolor:"#6366f1"},children:e.jsx(cn,{})}),e.jsx(t,{component:"h1",variant:"h5",sx:{fontWeight:"bold"},children:"注册"}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"创建您的木鱼游戏平台账号"})]}),c&&e.jsx(K,{severity:"error",sx:{mb:2},children:c}),e.jsxs(n,{component:"form",onSubmit:m,noValidate:!0,sx:{mt:1},children:[e.jsx(B,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"用户名",name:"username",autoComplete:"username",autoFocus:!0,value:s.username,onChange:D,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(B,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"邮箱地址",name:"email",autoComplete:"email",value:s.email,onChange:D,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(B,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"密码",type:d?"text":"password",id:"password",autoComplete:"new-password",value:s.password,onChange:D,InputProps:{endAdornment:e.jsx(ye,{position:"end",children:e.jsx(Q,{"aria-label":"toggle password visibility",onClick:q,edge:"end",children:d?e.jsx(Pe,{}):e.jsx(ke,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(B,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"确认密码",type:u?"text":"password",id:"confirmPassword",autoComplete:"new-password",value:s.confirmPassword,onChange:D,InputProps:{endAdornment:e.jsx(ye,{position:"end",children:e.jsx(Q,{"aria-label":"toggle confirm password visibility",onClick:N,edge:"end",children:u?e.jsx(Pe,{}):e.jsx(ke,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(Hr,{control:e.jsx(xn,{color:"primary",checked:b,onChange:k}),label:e.jsxs(t,{variant:"body2",sx:{color:"text.secondary"},children:["我已阅读并同意",e.jsx(Y,{component:"button",variant:"body2",sx:{mx:.5,cursor:"pointer",color:"#6366f1"},children:"用户协议"}),"和",e.jsx(Y,{component:"button",variant:"body2",sx:{mx:.5,cursor:"pointer",color:"#6366f1"},children:"隐私政策"})]}),sx:{mt:1,mb:2}}),e.jsx(p,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,mb:2,py:1.5,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1},disabled:v,children:v?"注册中...":"注册"}),e.jsx(n,{sx:{display:"flex",justifyContent:"center"},children:e.jsxs(t,{variant:"body2",color:"text.secondary",children:["已经有账号了？",e.jsx(Y,{component:Bt,to:"/login",variant:"body2",sx:{ml:.5,color:"#6366f1",textDecoration:"none"},children:"立即登录"})]})}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(t,{variant:"body2",color:"text.secondary",children:"注册即表示您同意我们的服务条款和隐私政策"})})]})]})})},ri=()=>{const a=ne(),r=ae(),{user:s,loading:i}=te(se=>se.user),[d,h]=x.useState(0),[u,P]=x.useState(!1),[c,g]=x.useState({username:s?.username||"",email:s?.email||""}),[v,w]=x.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[b,T]=x.useState(!1),[D,k]=x.useState(!1),[o,M]=x.useState(!1),[m,q]=x.useState(""),[N,L]=x.useState("success"),C=(se,ie)=>{h(ie),y()},y=()=>{P(!1),g({username:s?.username||"",email:s?.email||""}),w({currentPassword:"",newPassword:"",confirmNewPassword:""}),q("")},S=se=>{const{name:ie,value:Le}=se.target;g(qr=>({...qr,[ie]:Le}))},U=se=>{const{name:ie,value:Le}=se.target;w(qr=>({...qr,[ie]:Le}))},z=se=>{switch(se){case"current":T(ie=>!ie);break;case"new":k(ie=>!ie);break;case"confirm":M(ie=>!ie);break}},le=()=>{P(!0),q("")},be=()=>{y()},re=async()=>{if(!c.username||!c.email){q("请填写所有必填字段"),L("error");return}try{await r($r(c)).unwrap(),q("个人信息更新成功"),L("success"),P(!1)}catch(se){q(se.message||"更新失败"),L("error")}},ce=async()=>{if(!v.currentPassword||!v.newPassword||!v.confirmNewPassword){q("请填写所有必填字段"),L("error");return}if(v.newPassword!==v.confirmNewPassword){q("两次输入的新密码不一致"),L("error");return}if(v.newPassword.length<6){q("新密码长度不能少于6个字符"),L("error");return}try{await r(Ur({currentPassword:v.currentPassword,newPassword:v.newPassword})).unwrap(),q("密码修改成功"),L("success"),w({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(se){q(se.message||"密码修改失败"),L("error")}};return!s&&!i?(a("/login"),null):e.jsxs(Z,{component:"main",maxWidth:"md",sx:{mt:8,mb:8},children:[e.jsx(t,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",mb:4},children:"个人中心"}),e.jsxs(f,{elevation:3,sx:{p:4,borderRadius:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:3,mb:4},children:[e.jsx(de,{sx:{width:100,height:100,bgcolor:"#6366f1",fontSize:"2rem"},children:s?.username?.charAt(0).toUpperCase()||"U"}),e.jsxs(n,{children:[e.jsx(t,{variant:"h5",component:"div",sx:{fontWeight:"bold"},children:s?.username}),e.jsx(t,{variant:"body1",color:"text.secondary",children:s?.email}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["注册时间: ",s?.created_at?new Date(s.created_at).toLocaleDateString("zh-CN"):"未知"]})]})]}),e.jsx(X,{sx:{mb:4}}),e.jsxs(qe,{value:d,onChange:C,sx:{mb:3},children:[e.jsx(J,{label:"基本信息"}),e.jsx(J,{label:"修改密码"}),e.jsx(J,{label:"安全设置"})]}),m&&e.jsx(K,{severity:N,sx:{mb:3},children:m}),d===0&&e.jsxs(n,{children:[e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsx(B,{fullWidth:!0,id:"username",label:"用户名",name:"username",value:c.username,onChange:S,disabled:!u,InputProps:{endAdornment:!u&&e.jsx(ye,{position:"end",children:e.jsx(Q,{onClick:le,title:"编辑",children:e.jsx(hn,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsx(B,{fullWidth:!0,id:"email",label:"邮箱地址",name:"email",type:"email",value:c.email,onChange:S,disabled:!u,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})})]}),u&&e.jsxs(n,{sx:{display:"flex",gap:2,mt:3,justifyContent:"flex-end"},children:[e.jsx(p,{variant:"outlined",onClick:be,startIcon:e.jsx(un,{}),sx:{borderRadius:1},children:"取消"}),e.jsx(p,{variant:"contained",onClick:re,startIcon:e.jsx(pn,{}),sx:{borderRadius:1,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"保存"})]})]}),d===1&&e.jsxs(n,{children:[e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,children:e.jsx(B,{fullWidth:!0,id:"currentPassword",label:"当前密码",name:"currentPassword",type:b?"text":"password",value:v.currentPassword,onChange:U,InputProps:{endAdornment:e.jsx(ye,{position:"end",children:e.jsx(Q,{onClick:()=>z("current"),children:b?e.jsx(Pe,{}):e.jsx(ke,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(B,{fullWidth:!0,id:"newPassword",label:"新密码",name:"newPassword",type:D?"text":"password",value:v.newPassword,onChange:U,InputProps:{endAdornment:e.jsx(ye,{position:"end",children:e.jsx(Q,{onClick:()=>z("new"),children:D?e.jsx(Pe,{}):e.jsx(ke,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(B,{fullWidth:!0,id:"confirmNewPassword",label:"确认新密码",name:"confirmNewPassword",type:o?"text":"password",value:v.confirmNewPassword,onChange:U,InputProps:{endAdornment:e.jsx(ye,{position:"end",children:e.jsx(Q,{onClick:()=>z("confirm"),children:o?e.jsx(Pe,{}):e.jsx(ke,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})})]}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(p,{variant:"contained",onClick:ce,sx:{borderRadius:1,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.2},children:"修改密码"})})]}),d===2&&e.jsxs(n,{children:[e.jsx(t,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"安全设置功能正在开发中..."}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(f,{elevation:2,sx:{p:3,borderRadius:2,textAlign:"center"},children:[e.jsx(t,{variant:"h6",component:"div",sx:{mb:2,fontWeight:"bold"},children:"双重验证"}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"开启双重验证以提高账号安全性"}),e.jsx(p,{variant:"outlined",disabled:!0,sx:{borderRadius:1},children:"功能开发中"})]})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(f,{elevation:2,sx:{p:3,borderRadius:2,textAlign:"center"},children:[e.jsx(t,{variant:"h6",component:"div",sx:{mb:2,fontWeight:"bold"},children:"登录设备管理"}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"查看和管理您的登录设备"}),e.jsx(p,{variant:"outlined",disabled:!0,sx:{borderRadius:1},children:"功能开发中"})]})})]})]})]})]})};var sr={},ht;function si(){if(ht)return sr;ht=1;var a=R();Object.defineProperty(sr,"__esModule",{value:!0}),sr.default=void 0;var r=a(_()),s=W();return sr.default=(0,r.default)((0,s.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove"),sr}var ti=si();const ni=I(ti);var tr={},ut;function ai(){if(ut)return tr;ut=1;var a=R();Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0;var r=a(_()),s=W();return tr.default=(0,r.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),tr}var ii=ai();const ks=I(ii);var nr={},pt;function oi(){if(pt)return nr;pt=1;var a=R();Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var r=a(_()),s=W();return nr.default=(0,r.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),nr}var li=oi();const Ms=I(li),di=()=>{const a=ne(),r=ae(),{items:s,totalItems:i,totalAmount:d}=te(o=>o.cart),[h,u]=Mr.useState(!1),[P,c]=Mr.useState(""),g=()=>{a(-1)},v=o=>{r(Bs({gameId:o.id,quantity:o.quantity+1}))},w=o=>{o.quantity>1&&r(Bs({gameId:o.id,quantity:o.quantity-1}))},b=o=>{r(Yn({gameId:o})),c("商品已从购物车移除"),u(!0)},T=()=>{window.confirm("确定要清空购物车吗？")&&(r(Zn()),c("购物车已清空"),u(!0))},D=()=>{if(i===0){c("购物车为空，无法结算"),u(!0);return}a("/checkout")},k=()=>{u(!1)};return e.jsxs(Z,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(p,{startIcon:e.jsx(qs,{}),variant:"outlined",onClick:g,children:"返回"}),e.jsxs(t,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:[e.jsx(We,{sx:{mr:1}}),"购物车"]})]}),e.jsxs(t,{variant:"h6",sx:{fontWeight:"bold",color:"#6366f1"},children:[i," 件商品"]})]}),i===0?e.jsxs(f,{sx:{p:8,textAlign:"center",borderRadius:2},children:[e.jsx(We,{sx:{fontSize:120,color:"text.secondary",mb:3}}),e.jsx(t,{variant:"h5",component:"h2",sx:{fontWeight:"bold",mb:2},children:"购物车是空的"}),e.jsx(t,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"浏览游戏商城，将喜欢的游戏添加到购物车吧"}),e.jsx(p,{variant:"contained",size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4},onClick:()=>a("/games"),children:"浏览游戏"})]}):e.jsxs(l,{container:!0,spacing:4,children:[e.jsx(l,{item:!0,xs:12,md:8,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[s.map(o=>e.jsxs(n,{sx:{mb:3},children:[e.jsxs(l,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(l,{item:!0,xs:4,md:3,children:e.jsx(n,{sx:{width:"100%",height:100,borderRadius:1,overflow:"hidden",bgcolor:"rgba(255, 255, 255, 0.1)"},children:e.jsx("img",{src:o.image,alt:o.title,style:{width:"100%",height:"100%",objectFit:"cover"}})})}),e.jsx(l,{item:!0,xs:8,md:9,children:e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(n,{children:[e.jsx(t,{variant:"h6",sx:{fontWeight:"bold",mb:1},children:o.title}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o.isFree?"免费":`¥${o.price.toFixed(2)}`}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Q,{size:"small",onClick:()=>w(o),disabled:o.quantity<=1,children:e.jsx(ni,{})}),e.jsx(t,{variant:"body1",sx:{fontWeight:"bold",minWidth:24,textAlign:"center"},children:o.quantity}),e.jsx(Q,{size:"small",onClick:()=>v(o),children:e.jsx(ks,{})})]})]}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1},children:[e.jsxs(t,{variant:"body1",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",(o.price*o.quantity).toFixed(2)]}),e.jsx(Q,{size:"small",color:"error",onClick:()=>b(o.id),children:e.jsx(Ms,{})})]})]})})]}),e.jsx(X,{sx:{mt:2}})]},o.id)),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(p,{variant:"outlined",color:"error",startIcon:e.jsx(Ms,{}),onClick:T,children:"清空购物车"})})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"订单摘要"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(t,{variant:"body1",children:"商品数量"}),e.jsxs(t,{variant:"body1",children:[i," 件"]})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(t,{variant:"body1",children:"商品总价"}),e.jsxs(t,{variant:"body1",children:["¥",d.toFixed(2)]})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(t,{variant:"body1",children:"运费"}),e.jsx(t,{variant:"body1",color:"success.main",children:"免费"})]}),e.jsx(X,{sx:{my:2}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:"bold"},children:"总计"}),e.jsxs(t,{variant:"h6",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",d.toFixed(2)]})]}),e.jsx(p,{variant:"contained",fullWidth:!0,size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.5,fontSize:"1rem"},onClick:D,children:"去结算"}),e.jsx(p,{variant:"outlined",fullWidth:!0,sx:{mt:2},onClick:()=>a("/games"),children:"继续购物"})]})})]}),e.jsx(Kr,{open:h,autoHideDuration:3e3,onClose:k,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(K,{onClose:k,severity:"success",sx:{width:"100%"},children:P})})]})};var ar={},mt;function ci(){if(mt)return ar;mt=1;var a=R();Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var r=a(_()),s=W();return ar.default=(0,r.default)((0,s.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),ar}var xi=ci();const zr=I(xi);var ir={},ft;function hi(){if(ft)return ir;ft=1;var a=R();Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var r=a(_()),s=W();return ir.default=(0,r.default)((0,s.jsx)("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),ir}var ui=hi();const pi=I(ui);var or={},jt;function mi(){if(jt)return or;jt=1;var a=R();Object.defineProperty(or,"__esModule",{value:!0}),or.default=void 0;var r=a(_()),s=W();return or.default=(0,r.default)((0,s.jsx)("path",{d:"M18 4H6C3.79 4 2 5.79 2 8v8c0 2.21 1.79 4 4 4h12c2.21 0 4-1.79 4-4V8c0-2.21-1.79-4-4-4m-1.86 9.77c-.24.2-.57.28-.88.2L4.15 11.25C4.45 10.52 5.16 10 6 10h12c.67 0 1.26.34 1.63.84zM6 6h12c1.1 0 2 .9 2 2v.55c-.59-.34-1.27-.55-2-.55H6c-.73 0-1.41.21-2 .55V8c0-1.1.9-2 2-2"}),"Wallet"),or}var fi=mi();const ji=I(fi),gi=()=>{const a=ne(),r=ae(),{items:s,totalItems:i,totalAmount:d}=te(y=>y.cart),{user:h}=te(y=>y.user),[u,P]=x.useState("credit_card"),[c,g]=x.useState(!1),[v,w]=x.useState(""),[b,T]=x.useState(!1),[D,k]=x.useState(""),[o,M]=x.useState({fullName:h?.username||"",email:h?.email||"",address:"",city:"",zipCode:"",phone:""}),m=()=>{a("/cart")},q=y=>{P(y.target.value)},N=y=>{const{name:S,value:U}=y.target;M({...o,[S]:U})},L=async y=>{if(y.preventDefault(),!o.fullName||!o.email||!o.address||!o.city||!o.zipCode||!o.phone){w("请填写所有必填字段");return}if(i===0){w("购物车为空，无法结算");return}g(!0),w("");try{await r(Qr({gameIds:s.map(S=>S.id)})).unwrap(),k("支付成功！"),T(!0),setTimeout(()=>{a("/orders")},1500)}catch(S){w(S.message||"支付失败，请重试")}finally{g(!1)}},C=()=>{T(!1)};return h?e.jsxs(Z,{maxWidth:"xl",sx:{py:4},children:[e.jsx(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(p,{startIcon:e.jsx(qs,{}),variant:"outlined",onClick:m,children:"返回购物车"}),e.jsx(t,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"结算"})]})}),v&&e.jsx(K,{severity:"error",sx:{mb:4},children:v}),e.jsxs(l,{container:!0,spacing:4,children:[e.jsxs(l,{item:!0,xs:12,md:8,children:[e.jsxs(f,{sx:{p:3,borderRadius:2,mb:4},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"配送信息"}),e.jsx("form",{onSubmit:L,children:e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(B,{fullWidth:!0,label:"姓名",name:"fullName",value:o.fullName,onChange:N,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(B,{fullWidth:!0,label:"邮箱",name:"email",type:"email",value:o.email,onChange:N,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(B,{fullWidth:!0,label:"详细地址",name:"address",multiline:!0,rows:2,value:o.address,onChange:N,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(B,{fullWidth:!0,label:"城市",name:"city",value:o.city,onChange:N,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(B,{fullWidth:!0,label:"邮编",name:"zipCode",value:o.zipCode,onChange:N,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(B,{fullWidth:!0,label:"电话",name:"phone",value:o.phone,onChange:N,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})})]})})]}),e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"支付方式"}),e.jsx(ze,{component:"fieldset",children:e.jsxs(mn,{row:!0,"aria-label":"payment method",name:"paymentMethod",value:u,onChange:q,children:[e.jsx(Hr,{value:"credit_card",control:e.jsx(rs,{}),label:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(zr,{})," 信用卡/借记卡"]})}),e.jsx(Hr,{value:"bank_transfer",control:e.jsx(rs,{}),label:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(pi,{})," 银行转账"]})}),e.jsx(Hr,{value:"wallet",control:e.jsx(rs,{}),label:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ji,{})," 电子钱包"]})})]})}),e.jsxs(n,{sx:{mt:3},children:[u==="credit_card"&&e.jsx(t,{variant:"body2",color:"text.secondary",children:"支持 Visa, MasterCard, American Express 等主流信用卡和借记卡"}),u==="bank_transfer"&&e.jsx(t,{variant:"body2",color:"text.secondary",children:"银行转账需要 1-3 个工作日处理"}),u==="wallet"&&e.jsx(t,{variant:"body2",color:"text.secondary",children:"支持支付宝、微信支付、PayPal 等电子钱包"})]})]})]}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"订单摘要"}),e.jsx(n,{sx:{maxHeight:300,overflowY:"auto",mb:3},children:s.map(y=>e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2,pb:1,borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(n,{sx:{width:60,height:60,borderRadius:1,overflow:"hidden",bgcolor:"rgba(255, 255, 255, 0.1)"},children:e.jsx("img",{src:y.image,alt:y.title,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs(n,{children:[e.jsx(t,{variant:"body2",sx:{fontWeight:"bold"},children:y.title}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:[y.quantity," × ¥",y.price.toFixed(2)]})]})]}),e.jsxs(t,{variant:"body2",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",(y.price*y.quantity).toFixed(2)]})]},y.id))}),e.jsx(X,{sx:{my:2}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(t,{variant:"body1",children:"商品总价"}),e.jsxs(t,{variant:"body1",children:["¥",d.toFixed(2)]})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(t,{variant:"body1",children:"运费"}),e.jsx(t,{variant:"body1",color:"success.main",children:"免费"})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(t,{variant:"body1",children:"税费"}),e.jsxs(t,{variant:"body1",children:["¥",(d*.06).toFixed(2)]})]}),e.jsx(X,{sx:{my:2}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:"bold"},children:"订单总计"}),e.jsxs(t,{variant:"h6",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",(d*1.06).toFixed(2)]})]}),e.jsx(p,{type:"submit",variant:"contained",fullWidth:!0,size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.5,borderRadius:1},disabled:c||i===0,onClick:L,children:c?e.jsx(je,{size:24,color:"inherit"}):"提交订单"})]})})]}),e.jsx(Kr,{open:b,autoHideDuration:3e3,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(K,{onClose:C,severity:"success",sx:{width:"100%"},children:D})})]}):(a("/login"),null)};var lr={},gt;function bi(){if(gt)return lr;gt=1;var a=R();Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var r=a(_()),s=W();return lr.default=(0,r.default)([(0,s.jsx)("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),(0,s.jsx)("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong"),lr}var vi=bi();const bt=I(vi);var dr={},vt;function yi(){if(vt)return dr;vt=1;var a=R();Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=void 0;var r=a(_()),s=W();return dr.default=(0,r.default)((0,s.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),dr}var Ci=yi();const Xt=I(Ci);var cr={},yt;function wi(){if(yt)return cr;yt=1;var a=R();Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var r=a(_()),s=W();return cr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m.88 15.76V19h-1.75v-1.29c-.74-.18-2.39-.77-3.02-2.96l1.65-.67c.06.22.58 2.09 2.4 2.09.93 0 1.98-.48 1.98-1.61 0-.96-.7-1.46-2.28-2.03-1.1-.39-3.35-1.03-3.35-3.31 0-.1.01-2.4 2.62-2.96V5h1.75v1.24c1.84.32 2.51 1.79 2.66 2.23l-1.58.67c-.11-.35-.59-1.34-1.9-1.34-.7 0-1.81.37-1.81 1.39 0 .95.86 1.31 2.64 1.9 2.4.83 3.01 2.05 3.01 3.45 0 2.63-2.5 3.13-3.02 3.22"}),"Paid"),cr}var Si=wi();const Ii=I(Si),Ri=()=>{const a=ne(),r=ae(),{user:s}=te(m=>m.user),{orders:i,loading:d,error:h,totalPages:u,currentPage:P}=te(m=>m.payment),[c,g]=x.useState(0),[v,w]=x.useState("all"),b=[{id:1,orderNumber:"MUYU-20251201-001",totalAmount:298,status:"completed",createdAt:"2025-12-01T10:30:00Z",games:[{id:1,title:"赛博朋克2077",price:298}]},{id:2,orderNumber:"MUYU-20251128-002",totalAmount:199,status:"completed",createdAt:"2025-11-28T15:45:00Z",games:[{id:2,title:"艾尔登法环",price:199}]},{id:3,orderNumber:"MUYU-20251125-003",totalAmount:0,status:"completed",createdAt:"2025-11-25T09:15:00Z",games:[{id:3,title:"星穹铁道",price:0}]}];x.useEffect(()=>{if(!s){a("/login");return}},[s,a,r]);const T=(m,q)=>{switch(g(q),q){case 0:w("all");break;case 1:w("completed");break;case 2:w("pending");break;case 3:w("cancelled");break;default:w("all")}},D=(m,q)=>{},k=m=>{alert(`查看订单详情: ${m}`)},o=m=>new Date(m).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),M=m=>{switch(m){case"completed":return{label:"已完成",color:"success"};case"pending":return{label:"待处理",color:"warning"};case"processing":return{label:"处理中",color:"info"};case"shipped":return{label:"已发货",color:"primary"};case"cancelled":return{label:"已取消",color:"error"};default:return{label:"未知",color:"default"}}};return s?e.jsxs(Z,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:4},children:[e.jsx(bt,{sx:{fontSize:32,color:"#6366f1"}}),e.jsx(t,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"订单历史"})]}),e.jsx(f,{sx:{mb:4,borderRadius:2,overflow:"hidden"},children:e.jsxs(qe,{value:c,onChange:T,variant:"fullWidth",textColor:"primary",indicatorColor:"primary",children:[e.jsx(J,{label:"全部订单"}),e.jsx(J,{label:"已完成"}),e.jsx(J,{label:"待处理"}),e.jsx(J,{label:"已取消"})]})}),d?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(je,{size:60})}):h?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(K,{severity:"error",sx:{width:"100%",maxWidth:500},children:h})}):b.length===0?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,textAlign:"center"},children:e.jsxs(n,{children:[e.jsx(t,{variant:"h6",component:"h2",sx:{mb:2},children:"您还没有任何订单"}),e.jsx(t,{variant:"body1",sx:{color:"text.secondary",mb:4},children:"浏览游戏商城，购买您喜欢的游戏吧"}),e.jsx(p,{variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4},onClick:()=>a("/games"),children:"浏览游戏"})]})}):e.jsxs(n,{children:[e.jsx(we,{component:f,sx:{borderRadius:2,mb:3},children:e.jsxs(Se,{"aria-label":"订单历史表",children:[e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"订单编号"}),e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"日期"}),e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"商品"}),e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"状态"}),e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"总计"}),e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem",textAlign:"right"},children:"操作"})]})}),e.jsx(Re,{children:b.map(m=>{const q=M(m.status);return e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"}},children:[e.jsx(j,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(bt,{sx:{fontSize:16,color:"#6366f1"}}),e.jsx(t,{variant:"body1",sx:{fontWeight:"bold"},children:m.orderNumber})]})}),e.jsx(j,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Xt,{sx:{fontSize:16,color:"#6366f1"}}),e.jsx(t,{variant:"body2",children:o(m.createdAt)})]})}),e.jsx(j,{children:e.jsx(n,{sx:{display:"flex",flexDirection:"column",gap:1},children:m.games.map(N=>e.jsx(t,{variant:"body2",children:N.title},N.id))})}),e.jsx(j,{children:e.jsx(O,{label:q.label,color:q.color,size:"small",variant:"outlined"})}),e.jsx(j,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ii,{sx:{fontSize:16,color:"#6366f1"}}),e.jsxs(t,{variant:"body1",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",m.totalAmount.toFixed(2)]})]})}),e.jsx(j,{align:"right",children:e.jsx(p,{variant:"outlined",size:"small",onClick:()=>k(m.id),children:"查看详情"})})]},m.id)})})]})}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:3},children:e.jsx(fn,{count:u,page:P,onChange:D,color:"primary",sx:{mb:3}})})]})]}):null};var xr={},Ct;function Wi(){if(Ct)return xr;Ct=1;var a=R();Object.defineProperty(xr,"__esModule",{value:!0}),xr.default=void 0;var r=a(_()),s=W();return xr.default=(0,r.default)((0,s.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),xr}var _i=Wi();const Ce=I(_i);var hr={},wt;function zi(){if(wt)return hr;wt=1;var a=R();Object.defineProperty(hr,"__esModule",{value:!0}),hr.default=void 0;var r=a(_()),s=W();return hr.default=(0,r.default)((0,s.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet"),hr}var Pi=zi();const kr=I(Pi);var ur={},St;function ki(){if(St)return ur;St=1;var a=R();Object.defineProperty(ur,"__esModule",{value:!0}),ur.default=void 0;var r=a(_()),s=W();return ur.default=(0,r.default)((0,s.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart"),ur}var Mi=ki();const Xr=I(Mi);var pr={},It;function Di(){if(It)return pr;It=1;var a=R();Object.defineProperty(pr,"__esModule",{value:!0}),pr.default=void 0;var r=a(_()),s=W();return pr.default=(0,r.default)((0,s.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Gamepad"),pr}var qi=Di();const Jr=I(qi);var mr={},Rt;function Li(){if(Rt)return mr;Rt=1;var a=R();Object.defineProperty(mr,"__esModule",{value:!0}),mr.default=void 0;var r=a(_()),s=W();return mr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),mr}var Ai=Li();const Ei=I(Ai);var fr={},Wt;function Oi(){if(Wt)return fr;Wt=1;var a=R();Object.defineProperty(fr,"__esModule",{value:!0}),fr.default=void 0;var r=a(_()),s=W();return fr.default=(0,r.default)((0,s.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),fr}var Ti=Oi();const he=I(Ti);var jr={},_t;function Gi(){if(_t)return jr;_t=1;var a=R();Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=void 0;var r=a(_()),s=W();return jr.default=(0,r.default)((0,s.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),jr}var Fi=Gi();const Ds=I(Fi),Bi=()=>{const a=ne();ae();const{user:r}=te(b=>b.user),[s,i]=x.useState(!1),[d,h]=x.useState(""),u={totalGames:5,totalSales:1250,totalRevenue:38500.5,totalDownloads:2500,avgRating:4.5},P=[{id:1,gameTitle:"赛博朋克2077",amount:298,date:"2025-12-01T10:30:00Z"},{id:2,gameTitle:"艾尔登法环",amount:199,date:"2025-11-30T15:45:00Z"},{id:3,gameTitle:"星穹铁道",amount:0,date:"2025-11-29T09:15:00Z"},{id:4,gameTitle:"黑神话：悟空",amount:268,date:"2025-11-28T14:20:00Z"},{id:5,gameTitle:"星球大战：亡命徒",amount:249,date:"2025-11-27T11:10:00Z"}];x.useEffect(()=>{if(!r){a("/login");return}if(r.role!=="developer"){h("您没有开发者权限，无法访问此页面");return}i(!0),setTimeout(()=>{i(!1)},1e3)},[r,a]);const c=()=>{a("/developer/games")},g=()=>{a("/developer/sales")},v=()=>{a("/developer/finances")},w=b=>new Date(b).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return r?e.jsxs(Z,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsx(t,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"开发者中心"}),e.jsx(O,{label:"开发者",color:"primary",icon:e.jsx(Ei,{})})]}),d&&e.jsx(K,{severity:"error",sx:{mb:4},children:d}),e.jsx(f,{sx:{p:4,borderRadius:2,mb:4},children:e.jsxs(l,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(de,{sx:{width:120,height:120,bgcolor:"#6366f1",fontSize:"3rem"},children:r.username?.charAt(0).toUpperCase()||"D"})}),e.jsxs(l,{item:!0,xs:12,md:9,children:[e.jsx(t,{variant:"h5",component:"div",sx:{fontWeight:"bold",mb:1},children:r.username}),e.jsx(t,{variant:"body1",color:"text.secondary",sx:{mb:3},children:r.email}),e.jsxs(n,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(O,{label:`游戏数量: ${u.totalGames}`,variant:"outlined",icon:e.jsx(Jr,{})}),e.jsx(O,{label:`总销量: ${u.totalSales}`,variant:"outlined",icon:e.jsx(We,{})}),e.jsx(O,{label:`总收入: ¥${u.totalRevenue.toFixed(2)}`,variant:"outlined",icon:e.jsx(kr,{})}),e.jsx(O,{label:`平均评分: ${u.avgRating} ★`,variant:"outlined",icon:e.jsx(_s,{})})]})]})]})}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #6366f1",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"总游戏数"}),e.jsx(Jr,{sx:{color:"#6366f1"}})]}),e.jsx(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:u.totalGames}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(t,{variant:"body2",color:"success.main",children:"2 款新游戏"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #10b981",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"总销量"}),e.jsx(We,{sx:{color:"#10b981"}})]}),e.jsx(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:u.totalSales}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(t,{variant:"body2",color:"success.main",children:"12% 增长"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #f59e0b",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"总收入"}),e.jsx(kr,{sx:{color:"#f59e0b"}})]}),e.jsxs(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",u.totalRevenue.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(t,{variant:"body2",color:"success.main",children:"8% 增长"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #ec4899",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"总下载量"}),e.jsx(Ce,{sx:{color:"#ec4899"}})]}),e.jsx(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:u.totalDownloads}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ds,{sx:{fontSize:"0.8rem",color:"error.main"}}),e.jsx(t,{variant:"body2",color:"error.main",children:"3% 下降"})]})]})})]}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:7,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold"},children:"最近销售记录"}),e.jsx(p,{variant:"outlined",size:"small",onClick:g,children:"查看全部"})]}),e.jsx(we,{sx:{maxHeight:400},children:e.jsxs(Se,{"aria-label":"最近销售记录表",stickyHeader:!0,children:[e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"游戏名称"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"价格"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"购买日期"})]})}),e.jsx(Re,{children:P.map(b=>e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(j,{children:b.gameTitle}),e.jsx(j,{children:b.amount===0?e.jsx(O,{label:"免费",size:"small",color:"success"}):e.jsxs(t,{variant:"body2",sx:{fontWeight:"bold"},children:["¥",b.amount.toFixed(2)]})}),e.jsx(j,{children:w(b.date)})]},b.id))})]})})]})}),e.jsxs(l,{item:!0,xs:12,md:5,children:[e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"快速操作"}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(p,{variant:"contained",fullWidth:!0,size:"large",startIcon:e.jsx(Jr,{}),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5,py:1.5},onClick:c,children:"游戏管理"}),e.jsx(p,{variant:"contained",fullWidth:!0,size:"large",startIcon:e.jsx(Xr,{}),sx:{bgcolor:"#10b981","&:hover":{bgcolor:"#059669"},borderRadius:1.5,py:1.5},onClick:g,children:"销售分析"}),e.jsx(p,{variant:"contained",fullWidth:!0,size:"large",startIcon:e.jsx(kr,{}),sx:{bgcolor:"#f59e0b","&:hover":{bgcolor:"#d97706"},borderRadius:1.5,py:1.5},onClick:v,children:"财务报表"}),e.jsx(p,{variant:"outlined",fullWidth:!0,size:"large",startIcon:e.jsx(Xt,{}),sx:{borderRadius:1.5,py:1.5},children:"发布新游戏"})]})]}),e.jsxs(f,{sx:{p:3,borderRadius:2,mt:3},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"本月概览"}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(t,{variant:"body1",children:"新游戏发布"}),e.jsx(O,{label:"1",size:"small",color:"primary"})]}),e.jsx(X,{sx:{my:1}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(t,{variant:"body1",children:"本月销量"}),e.jsx(O,{label:"234",size:"small",color:"success"})]}),e.jsx(X,{sx:{my:1}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(t,{variant:"body1",children:"本月收入"}),e.jsx(O,{label:"¥12,580.00",size:"small",color:"warning"})]}),e.jsx(X,{sx:{my:1}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(t,{variant:"body1",children:"新增评价"}),e.jsx(O,{label:"45",size:"small",color:"info"})]})]})]})]})]})]}):null};var gr={},zt;function Hi(){if(zt)return gr;zt=1;var a=R();Object.defineProperty(gr,"__esModule",{value:!0}),gr.default=void 0;var r=a(_()),s=W();return gr.default=(0,r.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),gr}var Vi=Hi();const Ni=I(Vi);var br={},Pt;function $i(){if(Pt)return br;Pt=1;var a=R();Object.defineProperty(br,"__esModule",{value:!0}),br.default=void 0;var r=a(_()),s=W();return br.default=(0,r.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),br}var Ui=$i();const Yi=I(Ui),Zi=()=>{const a=ae(),{games:r,loading:s,error:i}=te(o=>o.game),[d,h]=x.useState(!1),[u,P]=x.useState("create"),[c,g]=x.useState(null);x.useEffect(()=>{a(Me({status:"all"}))},[a]);const v=()=>{P("create"),g(null),h(!0)},w=o=>{P("edit"),g(o),h(!0)},b=o=>{console.log("Delete game:",o.id)},T=o=>{window.location.href=`/game/${o.id}`},D=o=>{console.log("Promote game:",o.id)},k=(o,M)=>{console.log("Update game status:",o.id,"to",M)};return e.jsxs(Z,{maxWidth:"xl",children:[e.jsxs(n,{sx:{py:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(n,{children:[e.jsx(t,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:1},children:"我的游戏"}),e.jsx(t,{variant:"subtitle1",color:"text.secondary",children:"管理和推广您的游戏作品"})]}),e.jsx(p,{variant:"contained",startIcon:e.jsx(ks,{}),onClick:v,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"创建新游戏"})]}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,bgcolor:"#f0f9ff",borderLeft:"4px solid #0ea5e9"},children:[e.jsx(t,{variant:"h6",sx:{color:"#0c4a6e",fontWeight:600},children:"总游戏数"}),e.jsx(t,{variant:"h4",sx:{mt:1,color:"#0ea5e9",fontWeight:700},children:r.length})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,bgcolor:"#fef3c7",borderLeft:"4px solid #f59e0b"},children:[e.jsx(t,{variant:"h6",sx:{color:"#92400e",fontWeight:600},children:"待审核"}),e.jsx(t,{variant:"h4",sx:{mt:1,color:"#f59e0b",fontWeight:700},children:r.filter(o=>o.status==="pending").length})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,bgcolor:"#d1fae5",borderLeft:"4px solid #10b981"},children:[e.jsx(t,{variant:"h6",sx:{color:"#065f46",fontWeight:600},children:"已通过"}),e.jsx(t,{variant:"h4",sx:{mt:1,color:"#10b981",fontWeight:700},children:r.filter(o=>o.status==="approved").length})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,bgcolor:"#fee2e2",borderLeft:"4px solid #ef4444"},children:[e.jsx(t,{variant:"h6",sx:{color:"#991b1b",fontWeight:600},children:"已拒绝"}),e.jsx(t,{variant:"h4",sx:{mt:1,color:"#ef4444",fontWeight:700},children:r.filter(o=>o.status==="rejected").length})]})})]}),s?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:10},children:e.jsx(je,{size:60})}):i?e.jsx(K,{severity:"error",sx:{mb:3},children:i}):r.length===0?e.jsxs(n,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",py:10},children:[e.jsx(t,{variant:"h6",sx:{mb:3,textAlign:"center"},children:"您还没有创建任何游戏"}),e.jsx(p,{variant:"contained",startIcon:e.jsx(ks,{}),onClick:v,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"创建第一个游戏"})]}):e.jsx(l,{container:!0,spacing:3,children:r.map(o=>e.jsx(l,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsxs(f,{sx:{borderRadius:2,overflow:"hidden",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(99, 102, 241, 0.3)"}},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx("img",{src:o.main_image_url||"https://via.placeholder.com/400x200?text=Game+Cover",alt:o.title,style:{width:"100%",height:"200px",objectFit:"cover"}}),e.jsx(O,{label:o.status==="approved"?"已通过":o.status==="pending"?"待审核":"已拒绝",sx:{position:"absolute",top:8,right:8,bgcolor:o.status==="approved"?"#10b981":o.status==="pending"?"#f59e0b":"#ef4444",color:"white",fontWeight:700}})]}),e.jsxs(n,{sx:{p:2},children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:1},children:o.title}),e.jsx(n,{sx:{display:"flex",gap:1,mb:2},children:o.categories?.slice(0,2).map(M=>e.jsx(O,{label:M.name,size:"small",sx:{bgcolor:"#e2e8f0",color:"#334155",fontWeight:500}},M.id))}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o.description.length>100?`${o.description.substring(0,100)}...`:o.description}),e.jsx(n,{sx:{mb:2},children:e.jsxs(t,{variant:"h6",sx:{color:"#6366f1",fontWeight:700},children:["¥",o.price.toFixed(2)]})}),e.jsxs(n,{sx:{mb:2},children:[e.jsx(t,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"游戏状态"}),e.jsxs(n,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[o.status==="pending"&&e.jsx(p,{variant:"outlined",size:"small",disabled:!0,sx:{minWidth:"auto",color:"#f59e0b",borderColor:"#f59e0b"},children:"待审核"}),o.status==="approved"&&e.jsx(p,{variant:"outlined",size:"small",onClick:()=>k(o,"draft"),sx:{minWidth:"auto",color:"#10b981",borderColor:"#10b981"},children:"已发布"}),o.status==="rejected"&&e.jsx(p,{variant:"outlined",size:"small",onClick:()=>k(o,"pending"),sx:{minWidth:"auto",color:"#ef4444",borderColor:"#ef4444"},children:"已拒绝"})]})]}),e.jsxs(n,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1},children:[e.jsx(p,{variant:"outlined",size:"small",startIcon:e.jsx(Yi,{}),onClick:()=>T(o),children:"预览"}),e.jsx(p,{variant:"outlined",size:"small",startIcon:e.jsx(Ni,{}),onClick:()=>w(o),children:"编辑"}),e.jsx(p,{variant:"contained",size:"small",startIcon:e.jsx(Jt,{}),onClick:()=>D(o),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"推广"}),e.jsx(p,{variant:"outlined",size:"small",startIcon:e.jsx(Ms,{}),onClick:()=>b(o),sx:{color:"#ef4444",borderColor:"#ef4444","&:hover":{bgcolor:"rgba(239, 68, 68, 0.08)"}},children:"删除"})]})]})]})},o.id))}),e.jsxs(Ht,{open:d,onClose:()=>h(!1),maxWidth:"lg",fullWidth:!0,children:[e.jsx(Vt,{sx:{fontWeight:"bold"},children:u==="create"?"创建新游戏":"编辑游戏"}),e.jsx(Nt,{children:e.jsxs(n,{sx:{mt:2},children:[e.jsx(t,{variant:"body1",children:u==="create"?"创建游戏表单":"编辑游戏表单"}),e.jsx(t,{variant:"body2",color:"text.secondary",children:"此功能将在后续开发中实现"})]})}),e.jsxs($t,{children:[e.jsx(p,{onClick:()=>h(!1),children:"取消"}),e.jsx(p,{variant:"contained",onClick:()=>h(!1),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:u==="create"?"创建":"保存"})]})]})]})};var vr={},kt;function Qi(){if(kt)return vr;kt=1;var a=R();Object.defineProperty(vr,"__esModule",{value:!0}),vr.default=void 0;var r=a(_()),s=W();return vr.default=(0,r.default)((0,s.jsx)("path",{d:"M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10m2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99m0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99z"}),"PieChart"),vr}var Ji=Qi();const Rs=I(Ji);var yr={},Mt;function Xi(){if(Mt)return yr;Mt=1;var a=R();Object.defineProperty(yr,"__esModule",{value:!0}),yr.default=void 0;var r=a(_()),s=W();return yr.default=(0,r.default)((0,s.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart"),yr}var Ki=Xi();const Dt=I(Ki),eo=()=>{const a=ne(),{user:r}=te(m=>m.user),[s,i]=x.useState(!1),[d,h]=x.useState(""),[u,P]=x.useState("month"),[c,g]=x.useState("line"),[v,w]=x.useState(0),b={totalSales:1250,totalRevenue:38500.5,avgPrice:30.8,salesGrowth:12,revenueGrowth:8,dailySales:[{date:"12-01",sales:45,revenue:13500},{date:"12-02",sales:38,revenue:11400},{date:"12-03",sales:52,revenue:15600},{date:"12-04",sales:48,revenue:14400},{date:"12-05",sales:55,revenue:16500},{date:"12-06",sales:62,revenue:18600},{date:"12-07",sales:58,revenue:17400},{date:"12-08",sales:49,revenue:14700},{date:"12-09",sales:53,revenue:15900},{date:"12-10",sales:57,revenue:17100}],gameSales:[{id:1,title:"赛博朋克2077",sales:320,revenue:95360,price:298},{id:2,title:"艾尔登法环",sales:280,revenue:55720,price:199},{id:3,title:"黑神话：悟空",sales:250,revenue:67e3,price:268},{id:4,title:"星穹铁道",sales:180,revenue:0,price:0},{id:5,title:"星球大战：亡命徒",sales:120,revenue:29880,price:249}],regionalSales:[{region:"华东",sales:350,revenue:104300,percentage:28},{region:"华南",sales:280,revenue:83200,percentage:22},{region:"华北",sales:240,revenue:71520,percentage:18},{region:"西南",sales:180,revenue:53640,percentage:14},{region:"东北",sales:120,revenue:35760,percentage:9},{region:"西北",sales:80,revenue:23840,percentage:7}]};x.useEffect(()=>{if(!r){a("/login");return}if(r.role!=="developer"){h("您没有开发者权限，无法访问此页面");return}i(!0),setTimeout(()=>{i(!1)},1e3)},[r,a]);const T=m=>{P(m.target.value)},D=(m,q)=>{w(q)},k=()=>{a("/developer")},o=()=>{a("/developer/games")},M=()=>{a("/developer/finances")};return r?e.jsxs(Z,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(n,{children:[e.jsx(t,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:1},children:"销售分析"}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"查看您的游戏销售数据和趋势"})]}),e.jsxs(n,{sx:{display:"flex",gap:2},children:[e.jsx(p,{variant:"outlined",startIcon:e.jsx(Ce,{}),onClick:k,children:"返回仪表盘"}),e.jsx(p,{variant:"contained",startIcon:e.jsx(Xr,{}),onClick:M,children:"财务报表"})]})]}),d&&e.jsx(K,{severity:"error",sx:{mb:4},children:d}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #10b981",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"总销量"}),e.jsx(We,{sx:{color:"#10b981"}})]}),e.jsx(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:b.totalSales}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(t,{variant:"body2",color:"success.main",children:[b.salesGrowth,"% 增长"]})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #f59e0b",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"总收入"}),e.jsx(Ce,{sx:{color:"#f59e0b"}})]}),e.jsxs(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",b.totalRevenue.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(t,{variant:"body2",color:"success.main",children:[b.revenueGrowth,"% 增长"]})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #6366f1",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"平均价格"}),e.jsx(he,{sx:{color:"#6366f1"}})]}),e.jsxs(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",b.avgPrice.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(t,{variant:"body2",color:"success.main",children:"5% 增长"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #ec4899",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"游戏数量"}),e.jsx(Jr,{sx:{color:"#ec4899"}})]}),e.jsx(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:b.gameSales.length}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(t,{variant:"body2",color:"success.main",children:"1 款新游戏"})]})]})})]}),e.jsx(f,{sx:{p:3,borderRadius:2,mb:4},children:e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(t,{variant:"body1",sx:{fontWeight:"bold"},children:"时间范围："}),e.jsx(ze,{size:"small",sx:{minWidth:120},children:e.jsxs(Pr,{value:u,onChange:T,displayEmpty:!0,children:[e.jsx(E,{value:"week",children:"最近一周"}),e.jsx(E,{value:"month",children:"最近一个月"}),e.jsx(E,{value:"quarter",children:"最近三个月"}),e.jsx(E,{value:"year",children:"最近一年"})]})})]}),e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(t,{variant:"body1",sx:{fontWeight:"bold"},children:"图表类型："}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsx(p,{variant:c==="line"?"contained":"outlined",size:"small",startIcon:e.jsx(Dt,{}),onClick:()=>g("line"),children:"折线图"}),e.jsx(p,{variant:c==="bar"?"contained":"outlined",size:"small",startIcon:e.jsx(Xr,{}),onClick:()=>g("bar"),children:"柱状图"}),e.jsx(p,{variant:c==="pie"?"contained":"outlined",size:"small",startIcon:e.jsx(Rs,{}),onClick:()=>g("pie"),children:"饼图"})]})]})]})}),e.jsx(n,{sx:{width:"100%",mb:4},children:e.jsxs(qe,{value:v,onChange:D,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTabs-indicator":{backgroundColor:"#6366f1"},"& .MuiTab-root.Mui-selected":{color:"#6366f1",fontWeight:"bold"}},children:[e.jsx(J,{label:"销售概览",sx:{minWidth:120}}),e.jsx(J,{label:"游戏详情",sx:{minWidth:120}}),e.jsx(J,{label:"地区分析",sx:{minWidth:120}})]})}),v===0&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:8,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"销售趋势"}),e.jsx(n,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(n,{sx:{textAlign:"center"},children:[e.jsx(Dt,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"销售趋势图表"}),e.jsxs(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["显示最近 ",u==="week"?"7天":u==="month"?"30天":u==="quarter"?"90天":"365天"," 的销售数据"]})]})})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"销售分布"}),e.jsx(n,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(n,{sx:{textAlign:"center"},children:[e.jsx(Rs,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"销售分布图表"}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示不同游戏的销售占比"})]})})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"每日销售数据"}),e.jsx(we,{sx:{maxHeight:400},children:e.jsxs(Se,{"aria-label":"每日销售数据表",stickyHeader:!0,children:[e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"日期"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"销量"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"收入"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"平均价格"})]})}),e.jsx(Re,{children:b.dailySales.map(m=>e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(j,{children:m.date}),e.jsx(j,{children:m.sales}),e.jsxs(j,{children:["¥",m.revenue.toLocaleString()]}),e.jsx(j,{children:m.sales>0?`¥${(m.revenue/m.sales).toFixed(2)}`:"¥0.00"})]},m.date))})]})})]})})]}),v===1&&e.jsx(l,{container:!0,spacing:3,children:e.jsx(l,{item:!0,xs:12,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold"},children:"游戏销量排名"}),e.jsx(p,{variant:"outlined",size:"small",onClick:o,children:"管理游戏"})]}),e.jsx(we,{sx:{maxHeight:500},children:e.jsxs(Se,{"aria-label":"游戏销量排名表",stickyHeader:!0,children:[e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"排名"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"游戏名称"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"价格"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"销量"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"收入"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"平均单价"})]})}),e.jsx(Re,{children:b.gameSales.map((m,q)=>e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsxs(j,{sx:{fontWeight:"bold"},children:[q+1,q<3&&e.jsx(O,{label:q+1===1?"🥇":q+1===2?"🥈":"🥉",size:"small",sx:{ml:1}})]}),e.jsx(j,{sx:{fontWeight:"bold"},children:m.title}),e.jsx(j,{children:m.price===0?e.jsx(O,{label:"免费",size:"small",color:"success"}):`¥${m.price.toFixed(2)}`}),e.jsx(j,{children:m.sales}),e.jsxs(j,{children:["¥",m.revenue.toLocaleString()]}),e.jsx(j,{children:m.sales>0?`¥${(m.revenue/m.sales).toFixed(2)}`:"¥0.00"})]},m.id))})]})})]})})}),v===2&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"地区销售分布"}),e.jsx(n,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(n,{sx:{textAlign:"center"},children:[e.jsx(Rs,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"地区销售分布图表"}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示不同地区的销售占比"})]})})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"地区销售详情"}),e.jsx(we,{sx:{maxHeight:300},children:e.jsxs(Se,{"aria-label":"地区销售详情表",stickyHeader:!0,children:[e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"地区"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"销量"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"收入"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"占比"})]})}),e.jsx(Re,{children:b.regionalSales.map(m=>e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(j,{children:m.region}),e.jsx(j,{children:m.sales}),e.jsxs(j,{children:["¥",m.revenue.toLocaleString()]}),e.jsx(j,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(n,{sx:{width:60,height:8,bgcolor:"#334155",borderRadius:4,overflow:"hidden"},children:e.jsx(n,{sx:{width:`${m.percentage}%`,height:"100%",bgcolor:"#6366f1",borderRadius:4}})}),e.jsxs(t,{variant:"body2",sx:{fontWeight:"bold"},children:[m.percentage,"%"]})]})})]},m.region))})]})})]})})]})]}):null};var Cr={},qt;function ro(){if(qt)return Cr;qt=1;var a=R();Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.default=void 0;var r=a(_()),s=W();return Cr.default=(0,r.default)((0,s.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Cr}var so=ro();const Ws=I(so);var wr={},Lt;function to(){if(Lt)return wr;Lt=1;var a=R();Object.defineProperty(wr,"__esModule",{value:!0}),wr.default=void 0;var r=a(_()),s=W();return wr.default=(0,r.default)((0,s.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),wr}var no=to();const ao=I(no);var Sr={},At;function io(){if(At)return Sr;At=1;var a=R();Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.default=void 0;var r=a(_()),s=W();return Sr.default=(0,r.default)((0,s.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm1 10h-4v1h3c.55 0 1 .45 1 1v3c0 .55-.45 1-1 1h-1v1h-2v-1H9v-2h4v-1h-3c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1h1V9h2v1h2zm-2-4V3.5L17.5 8z"}),"RequestQuote"),Sr}var oo=io();const lo=I(oo);var Ir={},Et;function co(){if(Et)return Ir;Et=1;var a=R();Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.default=void 0;var r=a(_()),s=W();return Ir.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"Pending"),Ir}var xo=co();const Br=I(xo);var Rr={},Ot;function ho(){if(Ot)return Rr;Ot=1;var a=R();Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.default=void 0;var r=a(_()),s=W();return Rr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Rr}var uo=ho();const po=I(uo);var Wr={},Tt;function mo(){if(Tt)return Wr;Tt=1;var a=R();Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.default=void 0;var r=a(_()),s=W();return Wr.default=(0,r.default)((0,s.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),Wr}var fo=mo();const jo=I(fo),go=()=>{const a=ne(),{user:r}=te(z=>z.user),[s,i]=x.useState(!1),[d,h]=x.useState(""),[u,P]=x.useState("month"),[c,g]=x.useState(0),[v,w]=x.useState(!1),[b,T]=x.useState(""),[D,k]=x.useState(""),o={balance:32500.75,availableBalance:28500.75,pendingBalance:4e3,totalRevenue:45600.5,totalWithdrawals:13100,revenueGrowth:8,incomeDetails:[{id:1,type:"game_sale",amount:298,date:"2025-12-01T10:30:00Z",description:"赛博朋克2077 销售",status:"completed"},{id:2,type:"game_sale",amount:199,date:"2025-12-01T15:45:00Z",description:"艾尔登法环 销售",status:"completed"},{id:3,type:"game_sale",amount:268,date:"2025-11-30T09:15:00Z",description:"黑神话：悟空 销售",status:"completed"},{id:4,type:"game_sale",amount:0,date:"2025-11-29T14:20:00Z",description:"星穹铁道 销售",status:"completed"},{id:5,type:"game_sale",amount:249,date:"2025-11-28T11:10:00Z",description:"星球大战：亡命徒 销售",status:"completed"},{id:6,type:"refund",amount:-298,date:"2025-11-27T16:30:00Z",description:"赛博朋克2077 退款",status:"completed"},{id:7,type:"game_sale",amount:298,date:"2025-11-26T08:45:00Z",description:"赛博朋克2077 销售",status:"completed"},{id:8,type:"game_sale",amount:199,date:"2025-11-25T13:20:00Z",description:"艾尔登法环 销售",status:"completed"}],withdrawalRequests:[{id:1,amount:5e3,date:"2025-11-15T10:00:00Z",status:"completed",account:"支付宝 - 138****1234",processedAt:"2025-11-16T14:30:00Z"},{id:2,amount:3e3,date:"2025-10-20T15:30:00Z",status:"completed",account:"微信 - 138****1234",processedAt:"2025-10-21T10:15:00Z"},{id:3,amount:5100,date:"2025-09-10T09:45:00Z",status:"completed",account:"银行转账 - 工商银行 ****1234",processedAt:"2025-09-11T16:20:00Z"},{id:4,amount:4e3,date:"2025-12-05T14:20:00Z",status:"pending",account:"支付宝 - 138****1234",processedAt:null},{id:5,amount:2e3,date:"2025-08-25T11:10:00Z",status:"canceled",account:"支付宝 - 138****1234",processedAt:null}]};x.useEffect(()=>{if(!r){a("/login");return}if(r.role!=="developer"){h("您没有开发者权限，无法访问此页面");return}i(!0),setTimeout(()=>{i(!1)},1e3)},[r,a]);const M=z=>{P(z.target.value)},m=(z,le)=>{g(le)},q=()=>{w(!0)},N=()=>{w(!1),T(""),k("")},L=()=>{console.log("提交提现申请:",{amount:b,account:D}),N()},C=()=>{a("/developer")},y=()=>{a("/developer/sales")},S=z=>new Date(z).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),U=z=>{switch(z){case"completed":return{icon:e.jsx(ge,{}),color:"success",label:"已完成"};case"pending":return{icon:e.jsx(Br,{}),color:"warning",label:"待处理"};case"canceled":return{icon:e.jsx(po,{}),color:"error",label:"已取消"};default:return{icon:e.jsx(Br,{}),color:"info",label:"未知状态"}}};return r?e.jsxs(Z,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(n,{children:[e.jsx(t,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:1},children:"财务报表"}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"查看您的财务状况和交易记录"})]}),e.jsxs(n,{sx:{display:"flex",gap:2},children:[e.jsx(p,{variant:"outlined",startIcon:e.jsx(Ce,{}),onClick:C,children:"返回仪表盘"}),e.jsx(p,{variant:"contained",startIcon:e.jsx(Xr,{}),onClick:y,children:"销售分析"}),e.jsx(p,{variant:"contained",startIcon:e.jsx(De,{}),onClick:q,sx:{bgcolor:"#10b981","&:hover":{bgcolor:"#059669"}},children:"申请提现"})]})]}),d&&e.jsx(K,{severity:"error",sx:{mb:4},children:d}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #6366f1",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"账户余额"}),e.jsx(kr,{sx:{color:"#6366f1"}})]}),e.jsxs(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",o.balance.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(t,{variant:"body2",color:"success.main",children:[o.revenueGrowth,"% 增长"]})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #10b981",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"可用余额"}),e.jsx(jo,{sx:{color:"#10b981"}})]}),e.jsxs(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",o.availableBalance.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(t,{variant:"body2",color:"success.main",children:"上月增长 12%"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #f59e0b",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"待处理金额"}),e.jsx(Br,{sx:{color:"#f59e0b"}})]}),e.jsxs(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",o.pendingBalance.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ds,{sx:{fontSize:"0.8rem",color:"warning.main"}}),e.jsx(t,{variant:"body2",color:"warning.main",children:"4笔交易待处理"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(f,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #ec4899",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:"总收入"}),e.jsx(Ce,{sx:{color:"#ec4899"}})]}),e.jsxs(t,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",o.totalRevenue.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(he,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(t,{variant:"body2",color:"success.main",children:[o.revenueGrowth,"% 增长"]})]})]})})]}),e.jsx(f,{sx:{p:3,borderRadius:2,mb:4},children:e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(t,{variant:"body1",sx:{fontWeight:"bold"},children:"时间范围："}),e.jsx(ze,{size:"small",sx:{minWidth:120},children:e.jsxs(Pr,{value:u,onChange:M,displayEmpty:!0,children:[e.jsx(E,{value:"week",children:"最近一周"}),e.jsx(E,{value:"month",children:"最近一个月"}),e.jsx(E,{value:"quarter",children:"最近三个月"}),e.jsx(E,{value:"year",children:"最近一年"})]})})]}),e.jsxs(n,{sx:{display:"flex",gap:2},children:[e.jsx(p,{variant:"outlined",size:"small",startIcon:e.jsx(zs,{}),children:"筛选"}),e.jsx(p,{variant:"outlined",size:"small",startIcon:e.jsx(De,{}),children:"导出报表"})]})]})}),e.jsx(n,{sx:{width:"100%",mb:4},children:e.jsxs(qe,{value:c,onChange:m,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTabs-indicator":{backgroundColor:"#6366f1"},"& .MuiTab-root.Mui-selected":{color:"#6366f1",fontWeight:"bold"}},children:[e.jsx(J,{label:"财务概览",sx:{minWidth:120}}),e.jsx(J,{label:"收支明细",sx:{minWidth:120}}),e.jsx(J,{label:"提现记录",sx:{minWidth:120}})]})}),c===0&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:8,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"月收入趋势"}),e.jsx(n,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(n,{sx:{textAlign:"center"},children:[e.jsx(Ce,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"月收入趋势图表"}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示最近12个月的收入数据"})]})})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"财务统计"}),e.jsxs(ve,{sx:{width:"100%",maxWidth:360},children:[e.jsxs(H,{children:[e.jsx(fe,{children:e.jsx(de,{sx:{bgcolor:"#6366f1"},children:e.jsx(Ce,{})})}),e.jsx(V,{primary:"总收入",secondary:`¥${o.totalRevenue.toFixed(2)}`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]}),e.jsx(X,{variant:"inset",component:"li"}),e.jsxs(H,{children:[e.jsx(fe,{children:e.jsx(de,{sx:{bgcolor:"#10b981"},children:e.jsx(De,{})})}),e.jsx(V,{primary:"总提现",secondary:`¥${o.totalWithdrawals.toFixed(2)}`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]}),e.jsx(X,{variant:"inset",component:"li"}),e.jsxs(H,{children:[e.jsx(fe,{children:e.jsx(de,{sx:{bgcolor:"#f59e0b"},children:e.jsx(kr,{})})}),e.jsx(V,{primary:"当前余额",secondary:`¥${o.balance.toFixed(2)}`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]}),e.jsx(X,{variant:"inset",component:"li"}),e.jsxs(H,{children:[e.jsx(fe,{children:e.jsx(de,{sx:{bgcolor:"#ec4899"},children:e.jsx(ao,{})})}),e.jsx(V,{primary:"提现次数",secondary:`${o.withdrawalRequests.length} 次`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]})]})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"收入构成"}),e.jsx(n,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(n,{sx:{textAlign:"center"},children:[e.jsx(zr,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"收入构成图表"}),e.jsx(t,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示不同游戏的收入占比"})]})})]})})]}),c===1&&e.jsx(l,{container:!0,spacing:3,children:e.jsx(l,{item:!0,xs:12,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"收支明细"}),e.jsx(we,{sx:{maxHeight:600},children:e.jsxs(Se,{"aria-label":"收支明细表",stickyHeader:!0,children:[e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"日期"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"类型"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"描述"}),e.jsx(j,{sx:{fontWeight:"bold",textAlign:"right"},children:"金额"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"状态"})]})}),e.jsx(Re,{children:o.incomeDetails.map(z=>e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(j,{children:S(z.date)}),e.jsx(j,{children:e.jsx(O,{label:z.type==="game_sale"?"游戏销售":z.type==="refund"?"退款":"其他",size:"small",color:z.type==="game_sale"?"success":z.type==="refund"?"error":"info",icon:z.type==="game_sale"?e.jsx(he,{}):e.jsx(Ds,{})})}),e.jsx(j,{children:z.description}),e.jsxs(j,{sx:{fontWeight:"bold",textAlign:"right",color:z.amount>=0?"success.main":"error.main"},children:[z.amount>=0?"+":"","¥",z.amount.toFixed(2)]}),e.jsx(j,{children:e.jsx(O,{label:z.status==="completed"?"已完成":"待处理",size:"small",color:z.status==="completed"?"success":"warning",icon:z.status==="completed"?e.jsx(ge,{}):e.jsx(Br,{})})})]},z.id))})]})})]})})}),c===2&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"提现记录"}),e.jsx(we,{sx:{maxHeight:600},children:e.jsxs(Se,{"aria-label":"提现记录表",stickyHeader:!0,children:[e.jsx(Ie,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"提现日期"}),e.jsx(j,{sx:{fontWeight:"bold",textAlign:"right"},children:"金额"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"账户"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"状态"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"处理时间"})]})}),e.jsx(Re,{children:o.withdrawalRequests.map(z=>{const le=U(z.status);return e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(j,{children:S(z.date)}),e.jsxs(j,{sx:{fontWeight:"bold",textAlign:"right"},children:["¥",z.amount.toFixed(2)]}),e.jsx(j,{children:z.account}),e.jsx(j,{children:e.jsx(O,{label:le.label,size:"small",color:le.color,icon:le.icon})}),e.jsx(j,{children:z.processedAt?S(z.processedAt):"-"})]},z.id)})})]})})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(f,{sx:{p:3,borderRadius:2},children:[e.jsx(t,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"提现说明"}),e.jsxs(ss,{sx:{bgcolor:"#1e293b",mb:2},children:[e.jsx(ts,{expandIcon:e.jsx(Ws,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e.jsx(t,{variant:"body1",sx:{fontWeight:"bold"},children:"提现规则"})}),e.jsx(ns,{children:e.jsxs(ve,{children:[e.jsx(H,{children:e.jsx(V,{primary:"1. 最低提现金额：¥100"})}),e.jsx(H,{children:e.jsx(V,{primary:"2. 提现手续费：免费"})}),e.jsx(H,{children:e.jsx(V,{primary:"3. 提现处理时间：1-3个工作日"})}),e.jsx(H,{children:e.jsx(V,{primary:"4. 每月提现次数：无限制"})})]})})]}),e.jsxs(ss,{sx:{bgcolor:"#1e293b",mb:2},children:[e.jsx(ts,{expandIcon:e.jsx(Ws,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:e.jsx(t,{variant:"body1",sx:{fontWeight:"bold"},children:"支持的提现方式"})}),e.jsx(ns,{children:e.jsxs(ve,{children:[e.jsxs(H,{children:[e.jsx(ListItemIcon,{children:e.jsx(zr,{})}),e.jsx(V,{primary:"支付宝"})]}),e.jsxs(H,{children:[e.jsx(ListItemIcon,{children:e.jsx(zr,{})}),e.jsx(V,{primary:"微信支付"})]}),e.jsxs(H,{children:[e.jsx(ListItemIcon,{children:e.jsx(zr,{})}),e.jsx(V,{primary:"银行转账"})]})]})})]}),e.jsxs(ss,{sx:{bgcolor:"#1e293b"},children:[e.jsx(ts,{expandIcon:e.jsx(Ws,{}),"aria-controls":"panel3a-content",id:"panel3a-header",children:e.jsx(t,{variant:"body1",sx:{fontWeight:"bold"},children:"提现常见问题"})}),e.jsx(ns,{children:e.jsxs(ve,{children:[e.jsx(H,{children:e.jsx(V,{primary:"Q: 提现申请提交后可以取消吗？",secondary:"A: 提现申请提交后，在处理前可以取消，处理中或已完成的提现无法取消。"})}),e.jsx(H,{children:e.jsx(V,{primary:"Q: 提现失败怎么办？",secondary:"A: 提现失败后，资金会自动退回您的账户余额，请检查您的提现账户信息是否正确。"})})]})})]})]})})]}),e.jsxs(Ht,{open:v,onClose:N,maxWidth:"sm",fullWidth:!0,children:[e.jsx(Vt,{sx:{fontWeight:"bold"},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(lo,{sx:{color:"#6366f1"}}),"申请提现"]})}),e.jsxs(Nt,{children:[e.jsx(n,{sx:{mt:2,mb:3},children:e.jsxs(t,{variant:"body1",color:"text.secondary",children:["当前可用余额：",e.jsxs("span",{style:{fontWeight:"bold",color:"#10b981"},children:["¥",o.availableBalance.toFixed(2)]})]})}),e.jsx(B,{autoFocus:!0,margin:"dense",label:"提现金额",type:"number",fullWidth:!0,variant:"outlined",value:b,onChange:z=>T(z.target.value),placeholder:"请输入提现金额，最低¥100",sx:{mb:2}}),e.jsx(B,{margin:"dense",label:"提现账户",type:"text",fullWidth:!0,variant:"outlined",value:D,onChange:z=>k(z.target.value),placeholder:"请输入提现账户信息",sx:{mb:2}}),e.jsxs(n,{sx:{mt:2},children:[e.jsx(t,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"提现说明："})}),e.jsxs(ve,{sx:{mt:1},children:[e.jsx(H,{sx:{padding:0},children:e.jsx(V,{primary:"• 最低提现金额：¥100",secondary:""})}),e.jsx(H,{sx:{padding:0},children:e.jsx(V,{primary:"• 提现处理时间：1-3个工作日",secondary:""})}),e.jsx(H,{sx:{padding:0},children:e.jsx(V,{primary:"• 提现手续费：免费",secondary:""})})]})]})]}),e.jsxs($t,{children:[e.jsx(p,{onClick:N,children:"取消"}),e.jsx(p,{onClick:L,variant:"contained",sx:{bgcolor:"#10b981","&:hover":{bgcolor:"#059669"}},disabled:!b||parseFloat(b)<100||parseFloat(b)>o.availableBalance,children:"提交申请"})]})]})]}):null};var _r={},Gt;function bo(){if(Gt)return _r;Gt=1;var a=R();Object.defineProperty(_r,"__esModule",{value:!0}),_r.default=void 0;var r=a(_()),s=W();return _r.default=(0,r.default)((0,s.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),_r}var vo=bo();const yo=I(vo),Ft=()=>{const a=ne(),r=()=>{a("/")};return e.jsxs(Z,{maxWidth:"md",sx:{py:12,textAlign:"center"},children:[e.jsx(n,{sx:{mb:4},children:e.jsx(yo,{sx:{fontSize:120,color:"#6366f1"}})}),e.jsx(t,{variant:"h3",component:"h1",sx:{fontWeight:"bold",mb:2},children:"404 - 页面不存在"}),e.jsx(t,{variant:"h6",sx:{color:"text.secondary",mb:4},children:"抱歉，您访问的页面不存在或已被移除。"}),e.jsx(p,{variant:"contained",size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4,py:1.5},onClick:r,children:"返回首页"})]})},Co=()=>{const a=ne(),r={windows:{size:"50MB",version:"v1.0.0"},mac:{size:"45MB",version:"v1.0.0"},linux:{size:"40MB",version:"v1.0.0"}},s={windows:{os:"Windows 10/11 (64位)",cpu:"Intel i5 8th gen 或 AMD Ryzen 5",ram:"8GB RAM",storage:"至少 2GB 可用空间",gpu:"NVIDIA GeForce GTX 1050 或 AMD Radeon RX 560"},mac:{os:"macOS 11 Big Sur 或更高版本",cpu:"Intel Core i5 或 Apple Silicon",ram:"8GB RAM",storage:"至少 2GB 可用空间",gpu:"集成显卡即可"},linux:{os:"Ubuntu 20.04 LTS 或其他主流发行版",cpu:"Intel i5 或 AMD Ryzen 5",ram:"8GB RAM",storage:"至少 2GB 可用空间",gpu:"NVIDIA GeForce GTX 1050 或 AMD Radeon RX 560"}};return e.jsxs(Z,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{textAlign:"center",mb:6},children:[e.jsx(t,{variant:"h3",component:"h1",sx:{fontWeight:700,mb:2,color:"#6366f1"},children:"下载木鱼游戏客户端"}),e.jsx(t,{variant:"h6",component:"p",sx:{color:"text.secondary",maxWidth:600,mx:"auto"},children:"获取最新版本的木鱼游戏客户端，享受更流畅的游戏体验"})]}),e.jsx(f,{sx:{p:4,borderRadius:3,mb:6,background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",color:"white"},children:e.jsxs(l,{container:!0,spacing:4,alignItems:"center",children:[e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsx(t,{variant:"h4",sx:{fontWeight:700,mb:3},children:"为什么选择木鱼游戏客户端？"}),e.jsxs(l,{container:!0,spacing:2,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Lr,{sx:{fontSize:24,color:"#10b981"}}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:"更快的下载速度"})]})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Lr,{sx:{fontSize:24,color:"#10b981"}}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:"自动游戏更新"})]})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Lr,{sx:{fontSize:24,color:"#10b981"}}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:"安全可靠的游戏库"})]})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Lr,{sx:{fontSize:24,color:"#10b981"}}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:"实时游戏资讯"})]})})]}),e.jsx(p,{variant:"contained",onClick:()=>a("/"),sx:{bgcolor:"white",color:"#6366f1","&:hover":{bgcolor:"#f3f4f6"}},children:"返回首页"})]}),e.jsx(l,{item:!0,xs:12,md:6,sx:{display:"flex",justifyContent:"center"},children:e.jsxs(n,{sx:{position:"relative",width:"100%",maxWidth:400},children:[e.jsx("img",{src:"https://via.placeholder.com/400x400?text=Game+Client",alt:"木鱼游戏客户端",style:{width:"100%",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.3)"}}),e.jsxs(n,{sx:{position:"absolute",bottom:20,left:20,right:20,display:"flex",justifyContent:"space-around",gap:2},children:[e.jsxs(pe,{sx:{bgcolor:"rgba(255,255,255,0.9)",borderRadius:"10px",p:1,minWidth:80,textAlign:"center"},children:[e.jsx(Ar,{sx:{color:"#6366f1",fontSize:20,mb:1}}),e.jsx(t,{variant:"caption",sx:{color:"black"},children:"高性能"})]}),e.jsxs(pe,{sx:{bgcolor:"rgba(255,255,255,0.9)",borderRadius:"10px",p:1,minWidth:80,textAlign:"center"},children:[e.jsx(jn,{sx:{color:"#6366f1",fontSize:20,mb:1}}),e.jsx(t,{variant:"caption",sx:{color:"black"},children:"安全可靠"})]}),e.jsxs(pe,{sx:{bgcolor:"rgba(255,255,255,0.9)",borderRadius:"10px",p:1,minWidth:80,textAlign:"center"},children:[e.jsx(Er,{sx:{color:"#6366f1",fontSize:20,mb:1}}),e.jsx(t,{variant:"caption",sx:{color:"black"},children:"高速下载"})]})]})]})})]})}),e.jsxs(n,{sx:{mb:8},children:[e.jsx(t,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:4,textAlign:"center",color:"#1e293b"},children:"选择您的平台"}),e.jsxs(l,{container:!0,spacing:3,justifyContent:"center",children:[e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(pe,{sx:{height:"100%",borderRadius:3,boxShadow:3,position:"relative","&:hover":{boxShadow:5,transform:"translateY(-5px)",transition:"all 0.3s ease"}},children:[e.jsx(n,{sx:{position:"absolute",top:0,right:0,bgcolor:"#10b981",color:"white",px:2,py:.5,borderRadius:"0 3px 0 3px",fontSize:"0.875rem",fontWeight:600},children:"推荐"}),e.jsxs(_e,{sx:{pt:4},children:[e.jsx(n,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:3},children:e.jsx(me,{component:"img",height:"100",image:"https://via.placeholder.com/100x100?text=Windows",alt:"Windows",sx:{borderRadius:"50%"}})}),e.jsx(t,{variant:"h5",component:"h3",sx:{fontWeight:700,mb:2,textAlign:"center",color:"#1e293b"},children:"Windows"}),e.jsx(X,{sx:{mb:3}}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"版本"}),e.jsx(t,{variant:"h6",sx:{fontWeight:600,color:"#6366f1"},children:r.windows.version})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"大小"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:r.windows.size})]}),e.jsx(p,{variant:"contained",fullWidth:!0,startIcon:e.jsx(Er,{}),sx:{borderRadius:2,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.5},children:"立即下载"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsx(pe,{sx:{height:"100%",borderRadius:3,boxShadow:3,"&:hover":{boxShadow:5,transform:"translateY(-5px)",transition:"all 0.3s ease"}},children:e.jsxs(_e,{sx:{pt:4},children:[e.jsx(n,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:3},children:e.jsx(me,{component:"img",height:"100",image:"https://via.placeholder.com/100x100?text=Mac",alt:"Mac",sx:{borderRadius:"50%"}})}),e.jsx(t,{variant:"h5",component:"h3",sx:{fontWeight:700,mb:2,textAlign:"center",color:"#1e293b"},children:"macOS"}),e.jsx(X,{sx:{mb:3}}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"版本"}),e.jsx(t,{variant:"h6",sx:{fontWeight:600,color:"#6366f1"},children:r.mac.version})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"大小"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:r.mac.size})]}),e.jsx(p,{variant:"contained",fullWidth:!0,startIcon:e.jsx(Er,{}),sx:{borderRadius:2,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.5},children:"立即下载"})]})})}),e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsx(pe,{sx:{height:"100%",borderRadius:3,boxShadow:3,"&:hover":{boxShadow:5,transform:"translateY(-5px)",transition:"all 0.3s ease"}},children:e.jsxs(_e,{sx:{pt:4},children:[e.jsx(n,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:3},children:e.jsx(me,{component:"img",height:"100",image:"https://via.placeholder.com/100x100?text=Linux",alt:"Linux",sx:{borderRadius:"50%"}})}),e.jsx(t,{variant:"h5",component:"h3",sx:{fontWeight:700,mb:2,textAlign:"center",color:"#1e293b"},children:"Linux"}),e.jsx(X,{sx:{mb:3}}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"版本"}),e.jsx(t,{variant:"h6",sx:{fontWeight:600,color:"#6366f1"},children:r.linux.version})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary",mb:1},children:"大小"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:r.linux.size})]}),e.jsx(p,{variant:"contained",fullWidth:!0,startIcon:e.jsx(Er,{}),sx:{borderRadius:2,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.5},children:"立即下载"})]})})})]})]}),e.jsxs(n,{sx:{mb:8},children:[e.jsx(t,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:4,textAlign:"center",color:"#1e293b"},children:"系统要求"}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(f,{sx:{p:3,borderRadius:3,boxShadow:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[e.jsx(me,{component:"img",height:"50",image:"https://via.placeholder.com/50x50?text=Windows",alt:"Windows",sx:{borderRadius:"50%"}}),e.jsx(t,{variant:"h6",sx:{fontWeight:700,color:"#1e293b"},children:"Windows"})]}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"操作系统"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.windows.os})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ar,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"处理器"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.windows.cpu})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"内存"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.windows.ram})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"存储空间"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.windows.storage})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"显卡"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.windows.gpu})]})]})]})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(f,{sx:{p:3,borderRadius:3,boxShadow:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[e.jsx(me,{component:"img",height:"50",image:"https://via.placeholder.com/50x50?text=Mac",alt:"Mac",sx:{borderRadius:"50%"}}),e.jsx(t,{variant:"h6",sx:{fontWeight:700,color:"#1e293b"},children:"macOS"})]}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"操作系统"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.mac.os})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ar,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"处理器"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.mac.cpu})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"内存"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.mac.ram})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"存储空间"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.mac.storage})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"显卡"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.mac.gpu})]})]})]})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(f,{sx:{p:3,borderRadius:3,boxShadow:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[e.jsx(me,{component:"img",height:"50",image:"https://via.placeholder.com/50x50?text=Linux",alt:"Linux",sx:{borderRadius:"50%"}}),e.jsx(t,{variant:"h6",sx:{fontWeight:700,color:"#1e293b"},children:"Linux"})]}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"操作系统"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.linux.os})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ar,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"处理器"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.linux.cpu})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"内存"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.linux.ram})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"存储空间"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.linux.storage})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(xe,{sx:{color:"#6366f1",fontSize:18}}),e.jsxs(n,{children:[e.jsx(t,{variant:"subtitle2",sx:{color:"text.secondary"},children:"显卡"}),e.jsx(t,{variant:"body1",sx:{fontWeight:600},children:s.linux.gpu})]})]})]})]})})]})]}),e.jsxs(n,{sx:{mb:6},children:[e.jsx(t,{variant:"h4",component:"h2",sx:{fontWeight:700,mb:4,textAlign:"center",color:"#1e293b"},children:"安装说明"}),e.jsx(f,{sx:{p:4,borderRadius:3,boxShadow:2},children:e.jsxs(l,{container:!0,spacing:4,children:[e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsx(t,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#6366f1"},children:"1. 下载安装包"}),e.jsx(t,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"从上方选择您的平台，点击「立即下载」按钮下载安装包。"}),e.jsx(t,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#6366f1"},children:"2. 运行安装程序"}),e.jsx(t,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"找到下载的安装包，双击运行安装程序。按照提示完成安装步骤。"}),e.jsx(t,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#6366f1"},children:"3. 登录您的账号"}),e.jsx(t,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"安装完成后，打开木鱼游戏客户端，使用您的账号登录。"})]}),e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsx(t,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#6366f1"},children:"4. 开始使用"}),e.jsx(t,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"登录成功后，您可以浏览游戏商城，购买游戏，或者直接进入您的游戏库。"}),e.jsx(t,{variant:"h6",sx:{fontWeight:700,mb:2,color:"#6366f1"},children:"5. 自动更新"}),e.jsx(t,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"客户端会自动检查更新，确保您始终使用最新版本。"}),e.jsx(K,{severity:"info",sx:{mt:3},children:e.jsxs(t,{variant:"body2",children:[e.jsx("strong",{children:"提示："})," 首次安装客户端时，可能需要一些时间进行初始化配置。"]})})]})]})})]}),e.jsxs(n,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:[e.jsx(t,{variant:"body2",children:"© 2025 木鱼游戏平台. 保留所有权利."}),e.jsx(t,{variant:"caption",sx:{display:"block",mt:1},children:"木鱼游戏客户端仅适用于木鱼游戏平台购买的游戏。"})]})]})},wo=()=>{const a=ne(),r=ae(),{user:s}=te(M=>M.user),{totalItems:i}=te(M=>M.cart),[d,h]=Mr.useState(null),[u,P]=Mr.useState(null),[c,g]=x.useState(""),v=M=>{M.preventDefault(),c.trim()&&a(`/games?search=${encodeURIComponent(c.trim())}`)},w=M=>{h(M.currentTarget)},b=M=>{P(M.currentTarget)},T=()=>{h(null)},D=()=>{P(null)},k=M=>{a(M),T(),D()},o=async()=>{try{await r(Yr()).unwrap(),a("/"),D()}catch(M){console.error("登出失败:",M)}};return e.jsxs(e.Fragment,{children:[e.jsx(gn,{position:"static",sx:{bgcolor:"#1e293b",boxShadow:3},children:e.jsxs(bn,{children:[e.jsx(t,{variant:"h5",component:"div",sx:{fontWeight:"bold",color:"#6366f1",cursor:"pointer",mr:4},onClick:()=>a("/"),children:"木鱼游戏"}),e.jsx(n,{sx:{display:{xs:"none",md:"flex"},flexGrow:1,maxWidth:600,mr:4},children:e.jsxs(f,{component:"form",onSubmit:v,sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%",borderRadius:2,bgcolor:"#334155"},children:[e.jsx(B,{placeholder:"搜索游戏、开发者或标签",value:c,onChange:M=>g(M.target.value),variant:"standard",sx:{ml:1,flex:1,"& .MuiInputBase-input":{color:"white","&::placeholder":{color:"#94a3b8",opacity:1}},"& .MuiInputBase-root":{"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"}}},InputProps:{disableUnderline:!0}}),e.jsx(Q,{type:"submit",sx:{p:1,color:"#6366f1"},"aria-label":"search",children:e.jsx(Ts,{})})]})}),e.jsxs(n,{sx:{display:{xs:"none",md:"flex"},gap:2},children:[e.jsx(p,{color:"inherit",onClick:()=>a("/games"),children:"游戏商城"}),e.jsx(p,{color:"inherit",onClick:()=>a("/library"),children:"游戏库"}),e.jsx(p,{color:"inherit",onClick:()=>a("/developer"),children:"开发者中心"}),e.jsx(p,{variant:"contained",onClick:()=>a("/download"),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1},children:"下载客户端"})]}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsx(Q,{color:"inherit",onClick:()=>a("/cart"),children:e.jsx(vn,{badgeContent:i,color:"error",children:e.jsx(yn,{})})}),e.jsx(Q,{color:"inherit",onClick:b,children:e.jsx(Cn,{})})]}),e.jsxs(n,{sx:{display:{xs:"flex",md:"none"},ml:1},children:[e.jsx(Q,{size:"large",edge:"end",color:"inherit","aria-label":"menu",onClick:w,children:e.jsx(wn,{})}),e.jsxs(Gs,{id:"mobile-menu",anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!d,onClose:T,sx:{display:{xs:"block",md:"none"}},children:[e.jsx(E,{onClick:()=>k("/"),children:"首页"}),e.jsx(E,{onClick:()=>k("/games"),children:"游戏商城"}),e.jsx(E,{onClick:()=>k("/library"),children:"游戏库"}),e.jsx(E,{onClick:()=>k("/developer"),children:"开发者中心"}),e.jsx(E,{onClick:()=>k("/login"),children:"登录"}),e.jsx(E,{onClick:()=>k("/register"),children:"注册"})]})]})]})}),e.jsxs(f,{sx:{display:{xs:"flex",md:"none"},p:2,bgcolor:"#1e293b",borderBottom:"1px solid #334155"},component:"form",onSubmit:v,children:[e.jsx(B,{placeholder:"搜索游戏、开发者或标签",value:c,onChange:M=>g(M.target.value),variant:"outlined",fullWidth:!0,size:"small",sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiInputLabel-root":{color:"#94a3b8"},"& .MuiInputBase-input":{color:"white","&::placeholder":{color:"#94a3b8",opacity:1}}}}),e.jsx(Q,{type:"submit",sx:{ml:1,color:"#6366f1"},"aria-label":"search",children:e.jsx(Ts,{})})]}),e.jsx(Gs,{id:"user-menu",anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!u,onClose:D,children:s?e.jsxs(e.Fragment,{children:[e.jsx(E,{onClick:()=>k("/profile"),children:"个人中心"},"profile"),e.jsx(E,{onClick:()=>k("/orders"),children:"订单历史"},"orders"),e.jsx(E,{onClick:()=>k("/library"),children:"游戏库"},"library"),s.role==="developer"&&e.jsx(E,{onClick:()=>k("/developer"),children:"开发者中心"},"developer"),e.jsxs(E,{onClick:o,children:[e.jsx(Sn,{sx:{mr:1}}),"登出"]},"logout")]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{onClick:()=>k("/login"),children:"登录"},"login"),e.jsx(E,{onClick:()=>k("/register"),children:"注册"},"register")]})})]})},So=()=>e.jsx(n,{component:"footer",sx:{bgcolor:"#1e293b",color:"white",py:6,mt:"auto"},children:e.jsxs(Z,{maxWidth:"xl",children:[e.jsxs(l,{container:!0,spacing:4,children:[e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(t,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"木鱼游戏"}),e.jsx(t,{variant:"body2",sx:{mb:2,color:"rgba(255, 255, 255, 0.7)"},children:"木鱼游戏平台是一个专业的游戏分发平台，提供海量优质游戏下载、购买和社区服务。"}),e.jsxs(n,{sx:{display:"flex",gap:2,mt:2},children:[e.jsx(Y,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(In,{})}),e.jsx(Y,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(Rn,{})}),e.jsx(Y,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(Wn,{})}),e.jsx(Y,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(_n,{})})]})]}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(t,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"快速链接"}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(Y,{href:"/",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"首页"}),e.jsx(Y,{href:"/games",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"游戏商城"}),e.jsx(Y,{href:"/library",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"游戏库"}),e.jsx(Y,{href:"/developer",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"开发者中心"}),e.jsx(Y,{href:"/download",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"客户端下载"})]})]}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(t,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"支持与服务"}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(Y,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"帮助中心"}),e.jsx(Y,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"联系我们"}),e.jsx(Y,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"常见问题"}),e.jsx(Y,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"隐私政策"}),e.jsx(Y,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"用户协议"})]})]}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(t,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"订阅更新"}),e.jsx(t,{variant:"body2",sx:{mb:2,color:"rgba(255, 255, 255, 0.7)"},children:"订阅我们的新闻通讯，获取最新游戏资讯和优惠活动。"}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsx("input",{type:"email",placeholder:"您的邮箱",style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",outline:"none",flexGrow:1,fontSize:"0.9rem"}}),e.jsx("button",{style:{padding:"8px 16px",borderRadius:"4px",border:"none",backgroundColor:"#6366f1",color:"white",cursor:"pointer",fontSize:"0.9rem","&:hover":{backgroundColor:"#4f46e5"}},children:"订阅"})]})]})]}),e.jsx(X,{sx:{my:3,borderColor:"rgba(255, 255, 255, 0.1)"}}),e.jsxs(t,{variant:"body2",align:"center",sx:{color:"rgba(255, 255, 255, 0.5)"},children:["© ",new Date().getFullYear()," 木鱼游戏平台. 保留所有权利."]})]})}),Io=()=>{const a=ae();return x.useEffect(()=>{a(Qn())},[a]),null},Ro=zn({palette:{mode:"dark",primary:{main:"#6366f1"},secondary:{main:"#ec4899"},background:{default:"#0f172a",paper:"#1e293b"}},typography:{fontFamily:'Inter, Roboto, "Helvetica Neue", Arial, sans-serif'},components:{MuiButton:{styleOverrides:{root:{borderRadius:8}}}}});function Wo(){return e.jsxs(Pn,{store:na,children:[e.jsx(Io,{}),e.jsxs(kn,{theme:Ro,children:[e.jsx(Mn,{}),e.jsx(Dn,{children:e.jsxs("div",{className:"app-container",children:[e.jsx(wo,{}),e.jsx("main",{className:"main-content",children:e.jsxs(qn,{children:[e.jsx(ee,{path:"/",element:e.jsx(aa,{})}),e.jsx(ee,{path:"/games",element:e.jsx(Ca,{})}),e.jsx(ee,{path:"/game/:id",element:e.jsx(Ja,{})}),e.jsx(ee,{path:"/login",element:e.jsx(Ka,{})}),e.jsx(ee,{path:"/register",element:e.jsx(ei,{})}),e.jsx(ee,{path:"/download",element:e.jsx(Co,{})}),e.jsx(ee,{path:"/404",element:e.jsx(Ft,{})}),e.jsx(ee,{path:"*",element:e.jsx(Ft,{})}),e.jsx(ee,{path:"/library",element:e.jsx(Xa,{})}),e.jsx(ee,{path:"/profile",element:e.jsx(ri,{})}),e.jsx(ee,{path:"/cart",element:e.jsx(di,{})}),e.jsx(ee,{path:"/checkout",element:e.jsx(gi,{})}),e.jsx(ee,{path:"/orders",element:e.jsx(Ri,{})}),e.jsx(ee,{path:"/developer",element:e.jsx(Bi,{})}),e.jsx(ee,{path:"/developer/games",element:e.jsx(Zi,{})}),e.jsx(ee,{path:"/developer/sales",element:e.jsx(eo,{})}),e.jsx(ee,{path:"/developer/finances",element:e.jsx(go,{})})]})}),e.jsx(So,{})]})})]})]})}On.createRoot(document.getElementById("root")).render(e.jsx(Mr.StrictMode,{children:e.jsx(Wo,{})}));
