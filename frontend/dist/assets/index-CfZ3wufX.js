import{r as Yt,g as R,c as F,a as Pr,b as Qt,u as ie,d as ne,e as x,j as e,B as n,C as Q,G as l,T as a,f as m,P as g,h as N,i as ys,k as Cs,l as ws,D as X,m as Jt,n as Xt,o as W,p as _,q as Kt,s as E,t as en,I as J,A as Ur,S as Ms,F as Ie,v as Rr,M as L,w as Ds,x as te,y as pe,z as K,E as $r,H as rn,R as sn,L as qs,J as ke,K as Y,N as je,O as H,Q as ue,U as de,V as B,W as tn,X as ge,Y as Re,Z as We,_ as Z,$ as At,a0 as nn,a1 as Er,a2 as an,a3 as on,a4 as ln,a5 as dn,a6 as _r,a7 as cn,a8 as Zr,a9 as ve,aa as ye,ab as Ce,ac as oe,ad as j,ae as we,af as xn,ag as Ot,ah as Tt,ai as Ft,aj as Gt,ak as Yr,al as Qr,am as Jr,an as hn,ao as un,ap as pn,aq as Ls,ar as fn,as as mn,at as jn,au as gn,av as bn,aw as vn,ax as yn,ay as Cn,az as wn,aA as Sn,aB as In,aC as Rn,aD as Wn,aE as _n,aF as se}from"./vendor-C0SfoBT9.js";import{a as Pn}from"./network-B9ygI19o.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const u of h.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(d){if(d.ep)return;d.ep=!0;const h=s(d);fetch(d.href,h)}})();var zr={},Es;function kn(){if(Es)return zr;Es=1;var t=Yt();return zr.createRoot=t.createRoot,zr.hydrateRoot=t.hydrateRoot,zr}var zn=kn();const Mn=R(zn);var Dn={};const O=Pn.create({baseURL:Dn.REACT_APP_API_URL||"http://localhost:5000/api/v1",headers:{"Content-Type":"application/json"},withCredentials:!0,timeout:1e4});O.interceptors.request.use(t=>{const r=localStorage.getItem("token");return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>Promise.reject(t));O.interceptors.response.use(t=>t,t=>(t.response&&t.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)));const Ar=F("user/register",async(t,{rejectWithValue:r})=>{try{const s=await O.post("/auth/register",t);return s.data.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user))),s.data}catch(s){return r(s.response?.data?.message||"注册失败，请重试")}}),Or=F("user/login",async(t,{rejectWithValue:r})=>{try{const s=await O.post("/auth/login",t);return s.data.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user))),s.data}catch(s){return r(s.response?.data?.message||"登录失败，请检查您的邮箱和密码")}}),Xr=F("user/getCurrentUser",async(t,{rejectWithValue:r})=>{try{return(await O.get("/auth/me")).data}catch(s){return r(s.response?.data?.message||"获取用户信息失败")}}),Tr=F("user/updateProfile",async(t,{rejectWithValue:r})=>{try{const s=await O.put("/auth/profile",t);return s.data.user&&localStorage.setItem("user",JSON.stringify(s.data.user)),s.data}catch(s){return r(s.response?.data?.message||"更新用户信息失败")}}),Fr=F("user/changePassword",async(t,{rejectWithValue:r})=>{try{return(await O.put("/auth/password",t)).data}catch(s){return r(s.response?.data?.message||"修改密码失败")}}),Gr=F("user/logout",async(t,{rejectWithValue:r})=>{try{return localStorage.removeItem("token"),localStorage.removeItem("user"),{success:!0,message:"登出成功"}}catch(s){return r(s.response?.data?.message||"登出失败")}}),qn=()=>{const t=localStorage.getItem("user");return t?JSON.parse(t):null},Ln=()=>localStorage.getItem("token")||null,En=Pr({name:"user",initialState:{user:qn(),token:Ln(),loading:!1,error:null,success:!1,message:""},reducers:{clearError:t=>{t.error=null},clearMessage:t=>{t.message=""}},extraReducers:t=>{t.addCase(Ar.pending,r=>{r.loading=!0,r.error=null}).addCase(Ar.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=s.payload.user,r.token=s.payload.token,r.message=s.payload.message}).addCase(Ar.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),t.addCase(Or.pending,r=>{r.loading=!0,r.error=null}).addCase(Or.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=s.payload.user,r.token=s.payload.token,r.message=s.payload.message}).addCase(Or.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),t.addCase(Xr.pending,r=>{r.loading=!0,r.error=null}).addCase(Xr.fulfilled,(r,s)=>{r.loading=!1,r.user=s.payload.user}).addCase(Xr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}),t.addCase(Tr.pending,r=>{r.loading=!0,r.error=null}).addCase(Tr.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=s.payload.user,r.message=s.payload.message}).addCase(Tr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),t.addCase(Fr.pending,r=>{r.loading=!0,r.error=null}).addCase(Fr.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.message=s.payload.message}).addCase(Fr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1}),t.addCase(Gr.pending,r=>{r.loading=!0,r.error=null}).addCase(Gr.fulfilled,(r,s)=>{r.loading=!1,r.success=!0,r.user=null,r.token=null,r.message=s.payload.message}).addCase(Gr.rejected,(r,s)=>{r.loading=!1,r.error=s.payload,r.success=!1})}}),An=En.reducer,_e=F("game/fetchGames",async({page:t=1,...r},{rejectWithValue:s})=>{try{const o={page:t,limit:20,...r};return(await O.get("/games",{params:o})).data.data}catch(o){return s(o.response?.data?.message||"获取游戏列表失败")}}),Ht=F("game/fetchCategories",async(t,{rejectWithValue:r})=>{try{return(await O.get("/games/categories/all")).data.data}catch(s){return r(s.response?.data?.message||"获取游戏分类失败")}}),Bt=F("game/fetchTags",async(t,{rejectWithValue:r})=>{try{return(await O.get("/games/tags/all")).data.data}catch(s){return r(s.response?.data?.message||"获取游戏标签失败")}}),Hr=F("game/fetchGameDetail",async(t,{rejectWithValue:r})=>{try{return(await O.get(`/games/${t}`)).data.data}catch(s){return r(s.response?.data?.message||"获取游戏详情失败")}}),Kr=F("game/launchGame",async(t,{rejectWithValue:r})=>{try{return(await O.post(`/games/${t}/launch`)).data.data}catch(s){return r(s.response?.data?.message||"游戏启动失败")}}),es=F("game/installGame",async(t,{rejectWithValue:r})=>{try{return(await O.post(`/games/${t}/install`)).data.data}catch(s){return r(s.response?.data?.message||"游戏安装失败")}}),rs=F("game/updateGame",async(t,{rejectWithValue:r})=>{try{return(await O.post(`/games/${t}/update`)).data.data}catch(s){return r(s.response?.data?.message||"游戏更新失败")}}),ss=F("game/getInstallationStatus",async(t,{rejectWithValue:r})=>{try{return(await O.get(`/games/installation/${t}`)).data.data}catch(s){return r(s.response?.data?.message||"查询安装状态失败")}}),ts=F("game/checkSystemRequirements",async({gameId:t,systemInfo:r},{rejectWithValue:s})=>{try{return(await O.post(`/games/${t}/check-system`,r)).data.data}catch(o){return s(o.response?.data?.message||"系统需求检测失败")}}),ns=F("game/syncGameData",async({gameId:t,syncData:r},{rejectWithValue:s})=>{try{return(await O.post(`/games/${t}/sync`,r)).data.data}catch(o){return s(o.response?.data?.message||"游戏数据同步失败")}}),as=F("game/getGameData",async({gameId:t,dataType:r,dataName:s},{rejectWithValue:o})=>{try{const d={};return r&&(d.data_type=r),s&&(d.data_name=s),(await O.get(`/games/${t}/data`,{params:d})).data.data}catch(d){return o(d.response?.data?.message||"获取游戏数据失败")}}),os=F("game/deleteGameData",async({gameId:t,dataId:r},{rejectWithValue:s})=>{try{return(await O.delete(`/games/${t}/data/${r}`)).data.data}catch(o){return s(o.response?.data?.message||"删除游戏数据失败")}}),is=F("game/fetchGameReviews",async({gameId:t,page:r=1,limit:s=10},{rejectWithValue:o})=>{try{return(await O.get(`/reviews/game/${t}`,{params:{page:r,limit:s}})).data.data}catch(d){return o(d.response?.data?.message||"获取游戏评价失败")}}),ls=F("game/createGameReview",async({gameId:t,rating:r,content:s},{rejectWithValue:o})=>{try{return(await O.post(`/reviews/${t}`,{rating:r,content:s})).data.data}catch(d){return o(d.response?.data?.message||"创建游戏评价失败")}}),ds=F("game/createReviewReply",async({reviewId:t,content:r},{rejectWithValue:s})=>{try{return(await O.post(`/reviews/${t}/replies`,{content:r})).data.data}catch(o){return s(o.response?.data?.message||"创建评价回复失败")}}),On={games:[],currentGame:null,categories:[],tags:[],totalPages:1,currentPage:1,loading:!1,gameDetailLoading:!1,operationLoading:!1,error:null,gameDetailError:null,operationError:null,filters:{search:"",categories:[],tags:[],minPrice:0,maxPrice:1e3,sortBy:"release_date",sortOrder:"desc"},currentOperationGame:null,currentInstallation:null,currentUpdate:null,installationStatus:null,systemCheckResult:null,syncResult:null,gameData:null,reviews:[],reviewsLoading:!1,reviewsError:null,reviewPagination:{currentPage:1,totalPages:1,totalItems:0},currentReview:null},Vt=Pr({name:"game",initialState:On,reducers:{updateFilters:(t,r)=>{t.filters={...t.filters,...r.payload}},clearGameDetail:t=>{t.currentGame=null,t.gameDetailError=null},clearError:t=>{t.error=null,t.gameDetailError=null,t.operationError=null},setCurrentOperationGame:(t,r)=>{t.currentOperationGame=r.payload}},extraReducers:t=>{t.addCase(_e.pending,r=>{r.loading=!0,r.error=null}).addCase(_e.fulfilled,(r,s)=>{r.loading=!1,r.games=s.payload.games,r.totalPages=s.payload.pagination.totalPages,r.currentPage=s.payload.pagination.currentPage}).addCase(_e.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(Ht.fulfilled,(r,s)=>{r.categories=s.payload}).addCase(Bt.fulfilled,(r,s)=>{r.tags=s.payload}).addCase(Hr.pending,r=>{r.gameDetailLoading=!0,r.gameDetailError=null}).addCase(Hr.fulfilled,(r,s)=>{r.gameDetailLoading=!1,r.currentGame=s.payload}).addCase(Hr.rejected,(r,s)=>{r.gameDetailLoading=!1,r.gameDetailError=s.payload}).addCase(Kr.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(Kr.fulfilled,r=>{r.operationLoading=!1}).addCase(Kr.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(es.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(es.fulfilled,(r,s)=>{r.operationLoading=!1,r.currentInstallation=s.payload}).addCase(es.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(rs.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(rs.fulfilled,(r,s)=>{r.operationLoading=!1,r.currentUpdate=s.payload}).addCase(rs.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(ss.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ss.fulfilled,(r,s)=>{r.operationLoading=!1,r.installationStatus=s.payload}).addCase(ss.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(ts.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ts.fulfilled,(r,s)=>{r.operationLoading=!1,r.systemCheckResult=s.payload}).addCase(ts.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(ns.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ns.fulfilled,(r,s)=>{r.operationLoading=!1,r.syncResult=s.payload}).addCase(ns.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(as.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(as.fulfilled,(r,s)=>{r.operationLoading=!1,r.gameData=s.payload}).addCase(as.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(os.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(os.fulfilled,(r,s)=>{r.operationLoading=!1,r.gameData&&r.gameData.data&&(r.gameData.data=r.gameData.data.filter(o=>o.id!==s.payload.dataId))}).addCase(os.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(is.pending,r=>{r.reviewsLoading=!0,r.reviewsError=null}).addCase(is.fulfilled,(r,s)=>{r.reviewsLoading=!1,r.reviews=s.payload.reviews,r.reviewPagination=s.payload.pagination}).addCase(is.rejected,(r,s)=>{r.reviewsLoading=!1,r.reviewsError=s.payload}).addCase(ls.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ls.fulfilled,(r,s)=>{if(r.operationLoading=!1,r.reviews=[s.payload,...r.reviews],r.currentGame){const o=(r.currentGame.rating*r.currentGame.review_count+s.payload.rating)/(r.currentGame.review_count+1);r.currentGame={...r.currentGame,rating:parseFloat(o.toFixed(1)),review_count:r.currentGame.review_count+1}}}).addCase(ls.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload}).addCase(ds.pending,r=>{r.operationLoading=!0,r.operationError=null}).addCase(ds.fulfilled,(r,s)=>{r.operationLoading=!1;const o=r.reviews.findIndex(d=>d.id===s.payload.review_id);o!==-1&&(r.reviews[o]={...r.reviews[o],replies:[...r.reviews[o].replies,s.payload]})}).addCase(ds.rejected,(r,s)=>{r.operationLoading=!1,r.operationError=s.payload})}}),{clearGameDetail:Tn}=Vt.actions,Fn=Vt.reducer,Gn=()=>{const t=localStorage.getItem("cart");return t?JSON.parse(t):[]},Nt=Pr({name:"cart",initialState:{items:Gn(),totalAmount:0,totalItems:0},reducers:{addToCart:(t,r)=>{const{game:s}=r.payload,o=t.items.find(d=>d.id===s.id);o?o.quantity+=1:t.items.push({id:s.id,title:s.title,price:s.discount_price||s.price,originalPrice:s.price,image:s.main_image_url||"https://via.placeholder.com/300x200/6366f1/ffffff?text=Game+Image",quantity:1,isFree:s.price===0}),t.totalItems=t.items.reduce((d,h)=>d+h.quantity,0),t.totalAmount=t.items.reduce((d,h)=>d+h.price*h.quantity,0),localStorage.setItem("cart",JSON.stringify(t.items))},removeFromCart:(t,r)=>{const{gameId:s}=r.payload;t.items=t.items.filter(o=>o.id!==s),t.totalItems=t.items.reduce((o,d)=>o+d.quantity,0),t.totalAmount=t.items.reduce((o,d)=>o+d.price*d.quantity,0),localStorage.setItem("cart",JSON.stringify(t.items))},updateQuantity:(t,r)=>{const{gameId:s,quantity:o}=r.payload,d=t.items.find(h=>h.id===s);d&&o>0?(d.quantity=o,t.totalItems=t.items.reduce((h,u)=>h+u.quantity,0),t.totalAmount=t.items.reduce((h,u)=>h+u.price*u.quantity,0),localStorage.setItem("cart",JSON.stringify(t.items))):d&&o<=0&&(t.items=t.items.filter(h=>h.id!==s),t.totalItems=t.items.reduce((h,u)=>h+u.quantity,0),t.totalAmount=t.items.reduce((h,u)=>h+u.price*u.quantity,0),localStorage.setItem("cart",JSON.stringify(t.items)))},clearCart:t=>{t.items=[],t.totalItems=0,t.totalAmount=0,localStorage.removeItem("cart")},initializeCart:t=>{t.totalItems=t.items.reduce((r,s)=>r+s.quantity,0),t.totalAmount=t.items.reduce((r,s)=>r+s.price*s.quantity,0)}}}),{removeFromCart:Hn,updateQuantity:As,clearCart:Bn,initializeCart:Vn}=Nt.actions,Nn=Nt.reducer,cs=F("developer/fetchDeveloperInfo",async(t,{rejectWithValue:r})=>{try{return(await O.get("/developer/info")).data.data}catch(s){return r(s.response?.data?.message||"获取开发者信息失败")}}),xs=F("developer/fetchDeveloperGames",async({page:t=1,limit:r=10},{rejectWithValue:s})=>{try{return(await O.get("/developer/games",{params:{page:t,limit:r}})).data.data}catch(o){return s(o.response?.data?.message||"获取开发者游戏列表失败")}}),hs=F("developer/fetchDeveloperSales",async(t,{rejectWithValue:r})=>{try{return(await O.get("/developer/sales",{params:t})).data.data}catch(s){return r(s.response?.data?.message||"获取开发者销售数据失败")}}),us=F("developer/fetchDeveloperFinances",async(t,{rejectWithValue:r})=>{try{return(await O.get("/developer/finances")).data.data}catch(s){return r(s.response?.data?.message||"获取开发者财务数据失败")}}),$n={developerInfo:null,games:[],totalGames:0,totalPages:1,currentPage:1,salesData:null,financialData:null,loading:!1,gamesLoading:!1,salesLoading:!1,financesLoading:!1,error:null,gamesError:null,salesError:null,financesError:null},Un=Pr({name:"developer",initialState:$n,reducers:{clearError:t=>{t.error=null,t.gamesError=null,t.salesError=null,t.financesError=null},resetDeveloper:t=>{t.developerInfo=null,t.games=[],t.salesData=null,t.financialData=null,t.error=null}},extraReducers:t=>{t.addCase(cs.pending,r=>{r.loading=!0,r.error=null}).addCase(cs.fulfilled,(r,s)=>{r.loading=!1,r.developerInfo=s.payload}).addCase(cs.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(xs.pending,r=>{r.gamesLoading=!0,r.gamesError=null}).addCase(xs.fulfilled,(r,s)=>{r.gamesLoading=!1,r.games=s.payload.games,r.totalGames=s.payload.totalGames,r.totalPages=s.payload.totalPages,r.currentPage=s.payload.currentPage}).addCase(xs.rejected,(r,s)=>{r.gamesLoading=!1,r.gamesError=s.payload}).addCase(hs.pending,r=>{r.salesLoading=!0,r.salesError=null}).addCase(hs.fulfilled,(r,s)=>{r.salesLoading=!1,r.salesData=s.payload}).addCase(hs.rejected,(r,s)=>{r.salesLoading=!1,r.salesError=s.payload}).addCase(us.pending,r=>{r.financesLoading=!0,r.financesError=null}).addCase(us.fulfilled,(r,s)=>{r.financesLoading=!1,r.financialData=s.payload}).addCase(us.rejected,(r,s)=>{r.financesLoading=!1,r.financesError=s.payload})}}),Zn=Un.reducer,Br=F("payment/createPaymentIntent",async({gameIds:t},{rejectWithValue:r})=>{try{return(await O.post("/payments/intent",{gameIds:t})).data}catch(s){return r(s.response?.data?.message||"创建支付意图失败")}}),ps=F("payment/confirmPayment",async({orderId:t,paymentIntentId:r},{rejectWithValue:s})=>{try{return(await O.post("/payments/confirm",{orderId:t,paymentIntentId:r})).data}catch(o){return s(o.response?.data?.message||"确认支付失败")}}),fs=F("payment/fetchOrderHistory",async({page:t=1,limit:r=10},{rejectWithValue:s})=>{try{return(await O.get("/payments/orders",{params:{page:t,limit:r}})).data.data}catch(o){return s(o.response?.data?.message||"获取订单历史失败")}}),ms=F("payment/fetchOrderDetail",async(t,{rejectWithValue:r})=>{try{return(await O.get(`/payments/orders/${t}`)).data.data}catch(s){return r(s.response?.data?.message||"获取订单详情失败")}}),Yn={loading:!1,paymentIntent:null,paymentSuccess:!1,order:null,orders:[],totalPages:1,currentPage:1,error:null},Qn=Pr({name:"payment",initialState:Yn,reducers:{resetPayment:t=>{t.paymentIntent=null,t.paymentSuccess=!1,t.error=null},clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(Br.pending,r=>{r.loading=!0,r.error=null}).addCase(Br.fulfilled,(r,s)=>{r.loading=!1,r.paymentIntent=s.payload}).addCase(Br.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(ps.pending,r=>{r.loading=!0,r.error=null}).addCase(ps.fulfilled,(r,s)=>{r.loading=!1,r.paymentSuccess=!0,r.order=s.payload.order}).addCase(ps.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(fs.pending,r=>{r.loading=!0,r.error=null}).addCase(fs.fulfilled,(r,s)=>{r.loading=!1,r.orders=s.payload.orders,r.totalPages=s.payload.pagination.totalPages,r.currentPage=s.payload.pagination.currentPage}).addCase(fs.rejected,(r,s)=>{r.loading=!1,r.error=s.payload}).addCase(ms.pending,r=>{r.loading=!0,r.error=null}).addCase(ms.fulfilled,(r,s)=>{r.loading=!1,r.order=s.payload}).addCase(ms.rejected,(r,s)=>{r.loading=!1,r.error=s.payload})}}),Jn=Qn.reducer,Xn=Qt({reducer:{user:An,game:Fn,cart:Nn,developer:Zn,payment:Jn},middleware:t=>t({serializableCheck:{ignoredActions:["user/login/fulfilled"],ignoredPaths:["user.token","user.refreshToken"]}})}),Kn=()=>{const t=ie(),r=ne(),[s,o]=x.useState(""),d=c=>{o(c.target.value)},h=c=>{c.preventDefault(),s.trim()&&(r(_e({page:1,search:s.trim()})),t(`/games?search=${encodeURIComponent(s.trim())}`))},u=[{id:1,title:"赛博朋克2077",price:298,discountPrice:149,image:"https://via.placeholder.com/300x200/6366f1/ffffff?text=Cyberpunk+2077",rating:4.5},{id:2,title:"艾尔登法环",price:298,discountPrice:199,image:"https://via.placeholder.com/300x200/ec4899/ffffff?text=Elden+Ring",rating:4.8},{id:3,title:"星穹铁道",price:0,discountPrice:0,image:"https://via.placeholder.com/300x200/10b981/ffffff?text=Star+Rail",rating:4.6},{id:4,title:"原神",price:0,discountPrice:0,image:"https://via.placeholder.com/300x200/f59e0b/ffffff?text=Genshin+Impact",rating:4.7}],z=[{id:5,title:"黑神话：悟空",price:268,discountPrice:268,image:"https://via.placeholder.com/300x200/ef4444/ffffff?text=Black+Myth",rating:4.9},{id:6,title:"星球大战：亡命徒",price:298,discountPrice:249,image:"https://via.placeholder.com/300x200/6366f1/ffffff?text=Star+Wars",rating:4.4},{id:7,title:"漫威蜘蛛人2",price:468,discountPrice:399,image:"https://via.placeholder.com/300x200/8b5cf6/ffffff?text=Spider+Man+2",rating:4.7},{id:8,title:"霍格沃茨之遗",price:298,discountPrice:199,image:"https://via.placeholder.com/300x200/14b8a6/ffffff?text=Hogwarts+Legacy",rating:4.5}];return e.jsxs(n,{sx:{bgcolor:"#0f172a",minHeight:"calc(100vh - 64px - 240px)"},children:[e.jsx(n,{sx:{bgcolor:"#1e293b",py:8,px:2},children:e.jsx(Q,{maxWidth:"xl",children:e.jsxs(l,{container:!0,spacing:4,alignItems:"center",children:[e.jsxs(l,{item:!0,xs:12,md:7,children:[e.jsx(a,{variant:"h3",component:"h1",sx:{fontWeight:"bold",color:"#ffffff",mb:2},children:"发现你的下一款游戏"}),e.jsx(a,{variant:"h6",sx:{color:"rgba(255, 255, 255, 0.7)",mb:4},children:"在木鱼游戏平台，探索海量优质游戏，与全球玩家一起畅玩。"}),e.jsxs(n,{sx:{display:"flex",gap:2,mb:4,flexWrap:"wrap"},children:[e.jsx(m,{variant:"contained",size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4,py:1.5,fontSize:"1rem"},onClick:()=>t("/games"),children:"浏览游戏"}),e.jsx(m,{variant:"outlined",size:"large",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff"},px:4,py:1.5,fontSize:"1rem"},onClick:()=>t("/download"),children:"下载客户端"})]}),e.jsxs(n,{sx:{display:"flex",gap:4,alignItems:"center"},children:[e.jsxs(n,{children:[e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"超过100万玩家"}),e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"全球活跃用户"})]}),e.jsxs(n,{children:[e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"5000+游戏"}),e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"丰富的游戏库"})]}),e.jsxs(n,{children:[e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"98%好评率"}),e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"用户满意度"})]})]})]}),e.jsx(l,{item:!0,xs:12,md:5,sx:{display:"flex",justifyContent:"center",mt:{xs:4,md:0}},children:e.jsx(n,{sx:{position:"relative",width:"100%",maxWidth:400},children:e.jsx("img",{src:"https://via.placeholder.com/400x300/6366f1/ffffff?text=木鱼游戏",alt:"木鱼游戏",style:{width:"100%",borderRadius:12,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)"}})})})]})})}),e.jsx(n,{sx:{py:4,px:2},children:e.jsx(Q,{maxWidth:"md",children:e.jsx(g,{sx:{p:2,bgcolor:"#1e293b",boxShadow:3,borderRadius:2},children:e.jsxs(n,{component:"form",onSubmit:h,sx:{display:"flex",gap:1},children:[e.jsx(N,{fullWidth:!0,placeholder:"搜索游戏、开发者或标签",variant:"outlined",size:"small",value:s,onChange:d,sx:{"& .MuiOutlinedInput-root":{borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.1)","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiInputBase-input":{color:"white"},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"}}}),e.jsx(m,{type:"submit",variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:2,px:4},children:"搜索"})]})})})}),e.jsxs(Q,{maxWidth:"xl",sx:{py:6},children:[e.jsxs(n,{sx:{mb:4},children:[e.jsx(a,{variant:"h4",component:"h2",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:"热门游戏"}),e.jsx(a,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"查看当前最受欢迎的游戏"})]}),e.jsx(l,{container:!0,spacing:4,children:u.map(c=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(ys,{sx:{bgcolor:"#1e293b",borderRadius:2,overflow:"hidden",boxShadow:3,transition:"transform 0.3s","&:hover":{transform:"translateY(-5px)"}},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx(Cs,{component:"img",height:"180",image:c.image,alt:c.title}),c.discountPrice<c.price&&e.jsxs(n,{sx:{position:"absolute",top:8,right:8,bgcolor:"#ef4444",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:[Math.round((c.price-c.discountPrice)/c.price*100),"% OFF"]}),c.price===0&&e.jsx(n,{sx:{position:"absolute",top:8,right:8,bgcolor:"#10b981",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:"免费"})]}),e.jsxs(ws,{children:[e.jsx(a,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:c.title}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(n,{sx:{display:"flex",alignItems:"center",color:"#f59e0b"},children:Array.from({length:5}).map((b,v)=>e.jsx("span",{sx:{fontSize:"1rem"},children:v<Math.floor(c.rating)||v<c.rating?"★":"☆"},v))}),e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:c.rating})]}),e.jsx(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:c.discountPrice<c.price?e.jsxs(e.Fragment,{children:[e.jsxs(a,{variant:"body2",sx:{color:"#ef4444",fontWeight:"bold"},children:["¥",c.discountPrice]}),e.jsxs(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)",textDecoration:"line-through"},children:["¥",c.price]})]}):c.price===0?e.jsx(a,{variant:"body2",sx:{color:"#10b981",fontWeight:"bold"},children:"免费"}):e.jsxs(a,{variant:"body2",sx:{color:"#ffffff",fontWeight:"bold"},children:["¥",c.price]})}),e.jsx(n,{sx:{display:"flex",gap:1},children:e.jsx(m,{variant:"contained",fullWidth:!0,size:"small",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},onClick:()=>t(`/game/${c.id}`),children:"查看详情"})})]})]})},c.id))}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:6},children:e.jsx(m,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff",bgcolor:"rgba(255, 255, 255, 0.1)"},borderRadius:2,px:4},onClick:()=>t("/games"),children:"查看更多热门游戏"})})]}),e.jsx(X,{sx:{bgcolor:"rgba(255, 255, 255, 0.1)",my:6}}),e.jsxs(Q,{maxWidth:"xl",sx:{py:0,pb:6},children:[e.jsxs(n,{sx:{mb:4},children:[e.jsx(a,{variant:"h4",component:"h2",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:"最新发布"}),e.jsx(a,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"探索最新上架的游戏"})]}),e.jsx(l,{container:!0,spacing:4,children:z.map(c=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(ys,{sx:{bgcolor:"#1e293b",borderRadius:2,overflow:"hidden",boxShadow:3,transition:"transform 0.3s","&:hover":{transform:"translateY(-5px)"}},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx(Cs,{component:"img",height:"180",image:c.image,alt:c.title}),c.discountPrice<c.price&&e.jsxs(n,{sx:{position:"absolute",top:8,right:8,bgcolor:"#ef4444",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:[Math.round((c.price-c.discountPrice)/c.price*100),"% OFF"]}),c.price===0&&e.jsx(n,{sx:{position:"absolute",top:8,right:8,bgcolor:"#10b981",color:"white",px:2,py:.5,borderRadius:1,fontSize:"0.8rem",fontWeight:"bold"},children:"免费"})]}),e.jsxs(ws,{children:[e.jsx(a,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"#ffffff",mb:1},children:c.title}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(n,{sx:{display:"flex",alignItems:"center",color:"#f59e0b"},children:Array.from({length:5}).map((b,v)=>e.jsx("span",{sx:{fontSize:"1rem"},children:v<Math.floor(c.rating)||v<c.rating?"★":"☆"},v))}),e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:c.rating})]}),e.jsx(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:c.discountPrice<c.price?e.jsxs(e.Fragment,{children:[e.jsxs(a,{variant:"body2",sx:{color:"#ef4444",fontWeight:"bold"},children:["¥",c.discountPrice]}),e.jsxs(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.5)",textDecoration:"line-through"},children:["¥",c.price]})]}):c.price===0?e.jsx(a,{variant:"body2",sx:{color:"#10b981",fontWeight:"bold"},children:"免费"}):e.jsxs(a,{variant:"body2",sx:{color:"#ffffff",fontWeight:"bold"},children:["¥",c.price]})}),e.jsx(n,{sx:{display:"flex",gap:1},children:e.jsx(m,{variant:"contained",fullWidth:!0,size:"small",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},onClick:()=>t(`/game/${c.id}`),children:"查看详情"})})]})]})},c.id))}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:6},children:e.jsx(m,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff",bgcolor:"rgba(255, 255, 255, 0.1)"},borderRadius:2,px:4},onClick:()=>t("/games"),children:"查看更多最新游戏"})})]}),e.jsx(n,{sx:{bgcolor:"#1e293b",py:8,px:2,mt:6},children:e.jsx(Q,{maxWidth:"xl",children:e.jsxs(l,{container:!0,spacing:4,alignItems:"center",children:[e.jsxs(l,{item:!0,xs:12,md:6,sx:{order:{xs:2,md:1}},children:[e.jsx(a,{variant:"h4",component:"h2",sx:{fontWeight:"bold",color:"#ffffff",mb:2},children:"下载木鱼游戏客户端"}),e.jsx(a,{variant:"body1",sx:{color:"rgba(255, 255, 255, 0.7)",mb:4},children:"体验更流畅的游戏购买、下载和管理体验。支持Windows、macOS等主流操作系统。"}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2,mb:4},children:[e.jsxs(n,{sx:{display:"flex",gap:2},children:[e.jsx(m,{variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:2,px:4,py:1.5,fontSize:"1rem"},children:"Windows 下载"}),e.jsx(m,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff"},borderRadius:2,px:4,py:1.5,fontSize:"1rem"},children:"macOS 下载"})]}),e.jsx(m,{variant:"outlined",sx:{color:"#ffffff",borderColor:"rgba(255, 255, 255, 0.5)","&:hover":{borderColor:"#ffffff"},borderRadius:2,px:4,py:1.5,fontSize:"1rem"},children:"Linux 下载"})]}),e.jsxs(n,{sx:{display:"flex",gap:4},children:[e.jsxs(n,{children:[e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"版本"}),e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"v1.0.0"})]}),e.jsxs(n,{children:[e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"文件大小"}),e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"200 MB"})]}),e.jsxs(n,{children:[e.jsx(a,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",mb:1},children:"更新日期"}),e.jsx(a,{variant:"body1",sx:{color:"#ffffff",fontWeight:"bold"},children:"2025-12-04"})]})]})]}),e.jsx(l,{item:!0,xs:12,md:6,sx:{display:"flex",justifyContent:"center",order:{xs:1,md:2},mt:{xs:4,md:0}},children:e.jsx(n,{sx:{position:"relative",width:"100%",maxWidth:400},children:e.jsx("img",{src:"https://via.placeholder.com/400x300/6366f1/ffffff?text=木鱼游戏客户端",alt:"木鱼游戏客户端",style:{width:"100%",borderRadius:12,boxShadow:"0 10px 30px rgba(0, 0, 0, 0.5)"}})})})]})})})]})};var Me={},js={};const ea=Jt(Xt);var Os;function P(){return Os||(Os=1,(function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=ea})(js)),js}var Ts;function ra(){if(Ts)return Me;Ts=1;var t=W();Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var r=t(P()),s=_();return Me.default=(0,r.default)((0,s.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart"),Me}var sa=ra();const Se=R(sa);var De={},Fs;function ta(){if(Fs)return De;Fs=1;var t=W();Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var r=t(P()),s=_();return De.default=(0,r.default)((0,s.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),De}var na=ta();const Ss=R(na);var qe={},Gs;function aa(){if(Gs)return qe;Gs=1;var t=W();Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=void 0;var r=t(P()),s=_();return qe.default=(0,r.default)((0,s.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"}),"StarBorder"),qe}var oa=aa();const Hs=R(oa),Mr=({game:t,onGameClick:r,onAddToCart:s})=>{const o=h=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY",minimumFractionDigits:2}).format(h),d=h=>{const u=Math.floor(h),z=h%1>=.5,c=5-u-(z?1:0);return e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[[...Array(u)].map((b,v)=>e.jsx(Ss,{sx:{color:"#fbbf24",fontSize:16}},`full-${v}`)),z&&e.jsxs(n,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(Hs,{sx:{color:"#fbbf24",fontSize:16}}),e.jsx(n,{sx:{position:"absolute",left:0,top:0,overflow:"hidden",width:"50%"},children:e.jsx(Ss,{sx:{color:"#fbbf24",fontSize:16}})})]}),[...Array(c)].map((b,v)=>e.jsx(Hs,{sx:{color:"#fbbf24",fontSize:16}},`empty-${v}`)),e.jsxs(a,{variant:"body2",sx:{ml:1,color:"text.secondary"},children:["(",t.review_count,")"]})]})};return e.jsxs(ys,{className:"game-card",sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:2,transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(99, 102, 241, 0.3)"}},children:[e.jsxs(Kt,{onClick:()=>r(t.id),sx:{flexGrow:1},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx(Cs,{component:"img",height:"200",image:t.main_image_url||"https://via.placeholder.com/400x200?text=Game+Image",alt:t.title,sx:{objectFit:"cover",borderRadius:2}}),t.discount_price&&t.discount_price<t.price&&e.jsxs(n,{sx:{position:"absolute",top:8,right:8,backgroundColor:"#ef4444",color:"white",padding:"4px 8px",borderRadius:1,fontWeight:700,fontSize:"0.8rem",boxShadow:2},children:[Math.round((1-t.discount_price/t.price)*100),"% OFF"]})]}),e.jsxs(ws,{children:[e.jsx(n,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:1},children:t.categories?.slice(0,2).map(h=>e.jsx(E,{label:h.name,size:"small",sx:{backgroundColor:"#475569",color:"white","&:hover":{backgroundColor:"#64748b"}}},h.id))}),e.jsx(a,{gutterBottom:!0,variant:"h6",component:"h2",sx:{fontWeight:600},children:t.title}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{lineHeight:1.6,mb:2},children:t.description.length>100?`${t.description.substring(0,100)}...`:t.description}),d(t.rating||0)]})]}),e.jsxs(en,{sx:{justifyContent:"space-between",p:2},children:[e.jsx(n,{children:t.discount_price&&t.discount_price<t.price?e.jsxs(n,{children:[e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#6366f1"},children:o(t.discount_price)}),e.jsx(a,{variant:"body2",sx:{textDecoration:"line-through",color:"text.secondary"},children:o(t.price)})]}):e.jsx(a,{variant:"h6",sx:{fontWeight:700,color:"#6366f1"},children:o(t.price)})}),e.jsx(m,{variant:"contained",color:"primary",startIcon:e.jsx(Se,{}),onClick:h=>{h.stopPropagation(),s(t)},sx:{borderRadius:2},children:"加入购物车"})]})]})};var Le={},Bs;function ia(){if(Bs)return Le;Bs=1;var t=W();Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var r=t(P()),s=_();return Le.default=(0,r.default)((0,s.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Le}var la=ia();const da=R(la);var Ee={},Vs;function ca(){if(Vs)return Ee;Vs=1;var t=W();Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=void 0;var r=t(P()),s=_();return Ee.default=(0,r.default)((0,s.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),Ee}var xa=ca();const Is=R(xa);var Ae={},Ns;function ha(){if(Ns)return Ae;Ns=1;var t=W();Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.default=void 0;var r=t(P()),s=_();return Ae.default=(0,r.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Ae}var ua=ha();const pa=R(ua),fa=({filters:t,onChange:r})=>{const s=ne(),[o,d]=x.useState({...t,categories:[],tags:[],minRating:0,maxRating:5,platform:"",releaseDate:{from:"",to:""}}),[h,u]=x.useState([]),[z,c]=x.useState([]),[b,v]=x.useState(!0),[y,f]=x.useState([]),[T,I]=x.useState([]);x.useEffect(()=>{s(Ht()).unwrap().then(w=>{u(w)}),s(Bt()).unwrap().then(w=>{c(w)})},[s]);const A=w=>{d(C=>({...C,search:w.target.value}))},i=w=>{d(C=>({...C,sortBy:w.target.value}))},G=w=>{d(C=>({...C,sortOrder:w.target.value}))},p=(w,C)=>{d(S=>({...S,minPrice:C[0],maxPrice:C[1]}))},M=()=>{r(o)},V=()=>{const w={search:"",categories:[],tags:[],minPrice:0,maxPrice:1e3,minRating:0,maxRating:5,platform:"",releaseDate:{from:"",to:""},sortBy:"release_date",sortOrder:"desc"};d(w),f([]),I([]),r(w)},D=w=>`¥${w}`;return e.jsxs(g,{sx:{p:2,borderRadius:2,backgroundColor:"#1e293b",color:"white"},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(a,{variant:"h6",component:"h2",sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Is,{}),"筛选选项"]}),e.jsx(J,{size:"small",onClick:()=>v(!b),sx:{color:"white"},children:b?e.jsx(pa,{}):e.jsx(Is,{})})]}),b&&e.jsxs(e.Fragment,{children:[e.jsx(n,{sx:{mb:3},children:e.jsx(Ur,{freeSolo:!0,disableClearable:!0,options:[],renderInput:w=>e.jsx(N,{...w,fullWidth:!0,label:"搜索游戏",variant:"outlined",size:"small",value:o.search,onChange:C=>{A(C),clearTimeout(window.searchTimeout),window.searchTimeout=setTimeout(()=>{M()},300)},sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiInputLabel-root":{color:"#94a3b8"},"& .MuiInputBase-input":{color:"white"}},InputProps:{...w.InputProps,endAdornment:e.jsxs(e.Fragment,{children:[w.InputProps.endAdornment,e.jsx(J,{onClick:M,sx:{color:"#94a3b8",ml:1},children:e.jsx(da,{})})]})}})})}),e.jsx(X,{sx:{my:2,bgcolor:"#334155"}}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(a,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"游戏分类"}),e.jsx(Ur,{multiple:!0,options:h,getOptionLabel:w=>w.name,value:y,onChange:(w,C)=>{f(C),d(S=>({...S,categories:C.map(U=>U.name)}))},renderTags:(w,C)=>w.map((S,U)=>e.jsx(E,{label:S.name,...C({index:U}),sx:{backgroundColor:"#475569",color:"white","&:hover":{backgroundColor:"#64748b"}}},S.id)),renderInput:w=>e.jsx(N,{...w,variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiMenuList-root":{backgroundColor:"#1e293b",color:"white"},"& .MuiMenuItem-root":{"&:hover":{backgroundColor:"#334155"}}},placeholder:"选择游戏分类"})})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(a,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"游戏标签"}),e.jsx(Ur,{multiple:!0,options:z,getOptionLabel:w=>w.name,value:T,onChange:(w,C)=>{I(C),d(S=>({...S,tags:C.map(U=>U.name)}))},renderTags:(w,C)=>w.map((S,U)=>e.jsx(E,{label:S.name,...C({index:U}),sx:{backgroundColor:"#475569",color:"white","&:hover":{backgroundColor:"#64748b"}}},S.id)),renderInput:w=>e.jsx(N,{...w,variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiMenuList-root":{backgroundColor:"#1e293b",color:"white"},"& .MuiMenuItem-root":{"&:hover":{backgroundColor:"#334155"}}},placeholder:"选择游戏标签"})})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(a,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"价格范围"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(a,{variant:"body2",sx:{color:"#cbd5e1"},children:D(o.minPrice)}),e.jsx(a,{variant:"body2",sx:{color:"#cbd5e1"},children:D(o.maxPrice)})]}),e.jsx(Ms,{value:[o.minPrice,o.maxPrice],onChange:p,min:0,max:1e3,step:50,valueLabelDisplay:"auto",getAriaLabel:()=>"价格范围",getAriaValueText:D,sx:{color:"#6366f1","& .MuiSlider-thumb":{backgroundColor:"#6366f1"},"& .MuiSlider-track":{backgroundColor:"#6366f1"},"& .MuiSlider-rail":{backgroundColor:"#475569"}}})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(a,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"评分范围"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(a,{variant:"body2",sx:{color:"#cbd5e1"},children:o.minRating}),e.jsx(a,{variant:"body2",sx:{color:"#cbd5e1"},children:o.maxRating})]}),e.jsx(Ms,{value:[o.minRating,o.maxRating],onChange:(w,C)=>{d(S=>({...S,minRating:C[0],maxRating:C[1]}))},min:0,max:5,step:.5,valueLabelDisplay:"auto",getAriaLabel:()=>"评分范围",sx:{color:"#f59e0b","& .MuiSlider-thumb":{backgroundColor:"#f59e0b"},"& .MuiSlider-track":{backgroundColor:"#f59e0b"},"& .MuiSlider-rail":{backgroundColor:"#475569"}}})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(a,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"游戏平台"}),e.jsx(Ie,{fullWidth:!0,size:"small",children:e.jsxs(Rr,{value:o.platform,onChange:w=>{d(C=>({...C,platform:w.target.value}))},sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiMenuList-root":{backgroundColor:"#1e293b",color:"white"},"& .MuiMenuItem-root":{"&:hover":{backgroundColor:"#334155"}}},children:[e.jsx(L,{value:"",children:"所有平台"}),e.jsx(L,{value:"windows",children:"Windows"}),e.jsx(L,{value:"mac",children:"Mac"}),e.jsx(L,{value:"linux",children:"Linux"}),e.jsx(L,{value:"ios",children:"iOS"}),e.jsx(L,{value:"android",children:"Android"})]})})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(a,{variant:"subtitle2",sx:{mb:1,color:"#94a3b8",fontWeight:600},children:"排序方式"}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsxs(Ie,{size:"small",sx:{flexGrow:1},children:[e.jsx(Ds,{sx:{color:"#94a3b8"},children:"排序依据"}),e.jsxs(Rr,{label:"排序依据",value:o.sortBy,onChange:i,sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiMenuList-root":{backgroundColor:"#1e293b",color:"white"},"& .MuiMenuItem-root":{"&:hover":{backgroundColor:"#334155"}}},children:[e.jsx(L,{value:"release_date",children:"发布日期"}),e.jsx(L,{value:"rating",children:"评分"}),e.jsx(L,{value:"price",children:"价格"}),e.jsx(L,{value:"review_count",children:"评价数量"})]})]}),e.jsxs(Ie,{size:"small",sx:{minWidth:100},children:[e.jsx(Ds,{sx:{color:"#94a3b8"},children:"排序顺序"}),e.jsxs(Rr,{label:"排序顺序",value:o.sortOrder,onChange:G,sx:{"& .MuiOutlinedInput-root":{color:"white","& fieldset":{borderColor:"#475569"},"&:hover fieldset":{borderColor:"#6366f1"},"&.Mui-focused fieldset":{borderColor:"#6366f1"}},"& .MuiMenuList-root":{backgroundColor:"#1e293b",color:"white"},"& .MuiMenuItem-root":{"&:hover":{backgroundColor:"#334155"}}},children:[e.jsx(L,{value:"desc",children:"降序"}),e.jsx(L,{value:"asc",children:"升序"})]})]})]})]}),e.jsx(X,{sx:{my:2,bgcolor:"#334155"}}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsx(m,{variant:"contained",fullWidth:!0,onClick:M,sx:{borderRadius:1,backgroundColor:"#6366f1","&:hover":{backgroundColor:"#4f46e5"}},children:"应用筛选"}),e.jsx(m,{variant:"outlined",fullWidth:!0,onClick:V,sx:{borderRadius:1,borderColor:"#6366f1",color:"#6366f1","&:hover":{borderColor:"#4f46e5",color:"#4f46e5",backgroundColor:"rgba(99, 102, 241, 0.1)"}},children:"重置"})]})]})]})},ma=()=>{const t=ne(),{games:r,loading:s,error:o,totalPages:d,currentPage:h}=te(S=>S.game),[u,z]=x.useState({search:"",categories:[],tags:[],minPrice:0,maxPrice:1e3,sortBy:"release_date",sortOrder:"desc"}),[c,b]=x.useState(!1),[v,y]=x.useState(""),[f,T]=x.useState([]),[I,A]=x.useState([]),[i,G]=x.useState([]),[p,M]=x.useState([]);x.useEffect(()=>{t(_e({page:1,...u}))},[t,u]);const V=S=>{z(U=>({...U,...S}))},D=S=>{window.location.href=`/game/${S}`},w=S=>{y(`${S.title} 已加入购物车`),b(!0)},C=()=>{b(!1)};return x.useEffect(()=>{if(r.length>0){const S=[...r].filter(ee=>ee.rating>=4).sort((ee,ce)=>ce.rating-ee.rating).slice(0,4);T(S);const U=[...r].sort((ee,ce)=>new Date(ce.release_date)-new Date(ee.release_date)).slice(0,8);A(U);const k=new Date;k.setDate(k.getDate()-30);const le=[...r].filter(ee=>new Date(ee.release_date)>=k).sort((ee,ce)=>new Date(ce.release_date)-new Date(ee.release_date)).slice(0,8);G(le);const me=[...r].sort((ee,ce)=>{const re=ee.rating*Math.log(ee.review_count+1);return ce.rating*Math.log(ce.review_count+1)-re}).slice(0,8);M(me)}},[r]),e.jsxs(Q,{maxWidth:"xl",children:[e.jsxs(n,{sx:{py:4},children:[e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:700},children:"木鱼游戏"}),e.jsx(a,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:"发现最新、最热门的游戏"})]}),f.length>0&&e.jsxs(n,{sx:{mb:6},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"精选游戏"}),e.jsx(g,{sx:{p:4,borderRadius:2,background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",color:"white"},children:e.jsxs(l,{container:!0,spacing:3,alignItems:"center",children:[e.jsxs(l,{item:!0,xs:12,md:8,children:[e.jsx(a,{variant:"h4",component:"h3",sx:{fontWeight:700,mb:2},children:f[0].title}),e.jsx(a,{variant:"body1",sx:{mb:3,opacity:.9},children:f[0].description.length>200?`${f[0].description.substring(0,200)}...`:f[0].description}),e.jsxs(n,{sx:{display:"flex",gap:2},children:[e.jsx(Button,{variant:"contained",onClick:()=>D(f[0].id),sx:{bgcolor:"white",color:"#6366f1","&:hover":{bgcolor:"#f3f4f6"}},children:"查看详情"}),e.jsx(Button,{variant:"outlined",onClick:()=>w(f[0]),sx:{borderColor:"white",color:"white","&:hover":{bgcolor:"rgba(255, 255, 255, 0.1)"}},children:"加入购物车"})]})]}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsx(n,{sx:{borderRadius:2,overflow:"hidden",boxShadow:3},children:e.jsx("img",{src:f[0].main_image_url||"https://via.placeholder.com/400x200?text=Game+Image",alt:f[0].title,style:{width:"100%",height:"200px",objectFit:"cover"}})})})]})})]}),I.length>0&&e.jsxs(n,{sx:{mb:6},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"推荐游戏"}),e.jsx(n,{sx:{overflowX:"auto",pb:2},children:e.jsx(l,{container:!0,spacing:3,sx:{minWidth:"min-content"},children:I.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,sx:{minWidth:"250px"},children:e.jsx(Mr,{game:S,onGameClick:D,onAddToCart:w})},S.id))})})]}),i.length>0&&e.jsxs(n,{sx:{mb:6},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"新发布游戏"}),e.jsx(n,{sx:{overflowX:"auto",pb:2},children:e.jsx(l,{container:!0,spacing:3,sx:{minWidth:"min-content"},children:i.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,sx:{minWidth:"250px"},children:e.jsx(Mr,{game:S,onGameClick:D,onAddToCart:w})},S.id))})})]}),p.length>0&&e.jsxs(n,{sx:{mb:6},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:"热门游戏"}),e.jsx(n,{sx:{overflowX:"auto",pb:2},children:e.jsx(l,{container:!0,spacing:3,sx:{minWidth:"min-content"},children:p.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,sx:{minWidth:"250px"},children:e.jsx(Mr,{game:S,onGameClick:D,onAddToCart:w})},S.id))})})]}),e.jsxs(l,{container:!0,spacing:4,children:[e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(g,{elevation:3,sx:{p:3,borderRadius:2},children:e.jsx(fa,{filters:u,onChange:V})})}),e.jsxs(l,{item:!0,xs:12,md:9,children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(a,{variant:"h5",component:"h2",sx:{fontWeight:600},children:"所有游戏"}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["共 ",r.length," 款游戏"]})]}),s?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(pe,{size:60})}):o?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(K,{severity:"error",sx:{width:"100%",maxWidth:500},children:o})}):r.length===0?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(K,{severity:"info",sx:{width:"100%",maxWidth:500},children:"未找到符合条件的游戏"})}):e.jsx(l,{container:!0,spacing:3,children:r.map(S=>e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsx(Mr,{game:S,onGameClick:D,onAddToCart:w})},S.id))}),d>1&&e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:4}})]})]}),e.jsx($r,{open:c,autoHideDuration:3e3,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(K,{onClose:C,severity:"success",sx:{width:"100%"},children:v})})]})};var Oe={},$s;function ja(){if($s)return Oe;$s=1;var t=W();Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.default=void 0;var r=t(P()),s=_();return Oe.default=(0,r.default)((0,s.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),Oe}var ga=ja();const Pe=R(ga);var Te={},Us;function ba(){if(Us)return Te;Us=1;var t=W();Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var r=t(P()),s=_();return Te.default=(0,r.default)((0,s.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),Te}var va=ba();const $t=R(va);var Fe={},Zs;function ya(){if(Zs)return Fe;Zs=1;var t=W();Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0;var r=t(P()),s=_();return Fe.default=(0,r.default)((0,s.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),Fe}var Ca=ya();const ks=R(Ca);var Ge={},Ys;function wa(){if(Ys)return Ge;Ys=1;var t=W();Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=void 0;var r=t(P()),s=_();return Ge.default=(0,r.default)((0,s.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),Ge}var Sa=wa();const Rs=R(Sa);var He={},Qs;function Ia(){if(Qs)return He;Qs=1;var t=W();Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var r=t(P()),s=_();return He.default=(0,r.default)((0,s.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96"}),"Cloud"),He}var Ra=Ia();const Dr=R(Ra);var Be={},Js;function Wa(){if(Js)return Be;Js=1;var t=W();Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=void 0;var r=t(P()),s=_();return Be.default=(0,r.default)((0,s.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),Be}var _a=Wa();const Pa=R(_a);var Ve={},Xs;function ka(){if(Xs)return Ve;Xs=1;var t=W();Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;var r=t(P()),s=_();return Ve.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),Ve}var za=ka();const fe=R(za);var Ne={},Ks;function Ma(){if(Ks)return Ne;Ks=1;var t=W();Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;var r=t(P()),s=_();return Ne.default=(0,r.default)((0,s.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),Ne}var Da=Ma();const qa=R(Da);var $e={},et;function La(){if(et)return $e;et=1;var t=W();Object.defineProperty($e,"__esModule",{value:!0}),$e.default=void 0;var r=t(P()),s=_();return $e.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),$e}var Ea=La();const Ue=R(Ea);var Ze={},rt;function Aa(){if(rt)return Ze;rt=1;var t=W();Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=void 0;var r=t(P()),s=_();return Ze.default=(0,r.default)((0,s.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage"),Ze}var Oa=Aa();const qr=R(Oa);var Ye={},st;function Ta(){if(st)return Ye;st=1;var t=W();Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=void 0;var r=t(P()),s=_();return Ye.default=(0,r.default)((0,s.jsx)("path",{d:"M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6z"}),"SettingsInputComponent"),Ye}var Fa=Ta();const gs=R(Fa);var Qe={},tt;function Ga(){if(tt)return Qe;tt=1;var t=W();Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var r=t(P()),s=_();return Qe.default=(0,r.default)((0,s.jsx)("path",{d:"M15 9H9v6h6zm-2 4h-2v-2h2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2zm-4 6H7V7h10z"}),"Memory"),Qe}var Ha=Ga();const nt=R(Ha);var Je={},at;function Ba(){if(at)return Je;at=1;var t=W();Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var r=t(P()),s=_();return Je.default=(0,r.default)((0,s.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}),"GpsFixed"),Je}var Va=Ba();const ot=R(Va),Na=()=>{const{id:t}=rn(),r=ie(),s=ne(),{currentGame:o,gameDetailLoading:d,gameDetailError:h}=te(q=>q.game),[u,z]=x.useState(0),[c,b]=x.useState(!1),[v,y]=x.useState(""),[f,T]=x.useState(!1),[I,A]=x.useState(0),[i,G]=x.useState({isChecking:!1,results:{cpu:{passed:!0,value:"Intel i5-8400",required:"Intel i5-4590"},memory:{passed:!0,value:"16 GB",required:"8 GB"},graphics:{passed:!0,value:"NVIDIA GTX 1660",required:"NVIDIA GTX 970"},storage:{passed:!0,value:"512 GB SSD",required:"100 GB HDD"},os:{passed:!0,value:"Windows 10 64-bit",required:"Windows 7 64-bit"}}}),[p,M]=x.useState({isSyncing:!1,progress:0,lastSynced:new Date().toLocaleString("zh-CN")});x.useEffect(()=>(s(Hr(t)),()=>{s(Tn())}),[s,t]);const V=(q,$)=>{z($)},D=()=>{r(-1)},w=()=>{o&&(y(`${o.title} 已加入购物车`),b(!0))},C=()=>{o&&(y("开始下载游戏..."),b(!0))},S=()=>{if(!o)return;y("正在启动游戏..."),b(!0),T(!0),A(0);const q=setInterval(()=>{A($=>{const he=$+10;return he>=100&&(clearInterval(q),T(!1),y("游戏启动成功！"),b(!0)),he})},500)},U=()=>{G(q=>({...q,isChecking:!0})),setTimeout(()=>{G(q=>({...q,isChecking:!1})),y("系统需求检测完成！"),b(!0)},1500)},k=()=>{M($=>({...$,isSyncing:!0,progress:0}));const q=setInterval(()=>{M($=>{const he=$.progress+20;return he>=100?(clearInterval(q),{...$,isSyncing:!1,progress:100,lastSynced:new Date().toLocaleString("zh-CN")}):{...$,progress:he}})},300)},le=()=>{b(!1)},me=q=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY",minimumFractionDigits:2}).format(q),ee=q=>{if(q===0)return"0 Bytes";const $=1024,he=["Bytes","KB","MB","GB","TB"],zs=Math.floor(Math.log(q)/Math.log($));return parseFloat((q/Math.pow($,zs)).toFixed(2))+" "+he[zs]},ce=()=>!o||!o.screenshots?e.jsx(n,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无截图"})}):e.jsx(n,{sx:{display:"flex",gap:2,overflowX:"auto",py:2,pb:3},children:o.screenshots.map((q,$)=>e.jsx(n,{sx:{flex:"0 0 auto",width:400,height:225,borderRadius:2,overflow:"hidden",boxShadow:2},children:e.jsx("img",{src:q.url||"https://via.placeholder.com/400x225?text=Screenshot",alt:`${o.title} Screenshot ${$+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},$))}),re=()=>{if(!o||!o.system_requirements)return e.jsx(n,{sx:{py:2},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无系统需求信息"})});const q=o.system_requirements.find(he=>he.type==="minimum"),$=o.system_requirements.find(he=>he.type==="recommended");return e.jsxs(n,{children:[e.jsx(n,{sx:{mb:3,display:"flex",justifyContent:"center"},children:e.jsx(m,{variant:"contained",size:"large",startIcon:i.isChecking?e.jsx(pe,{size:20,color:"inherit"}):e.jsx(gs,{}),onClick:U,disabled:i.isChecking,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:i.isChecking?"正在检测...":"检测系统需求"})}),!i.isChecking&&e.jsxs(n,{sx:{mb:4},children:[e.jsx(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"系统检测结果"}),e.jsx(g,{sx:{p:3,borderRadius:2,mb:3},children:e.jsxs(je,{children:[e.jsxs(H,{children:[e.jsx(ue,{children:e.jsx(de,{sx:{bgcolor:i.results.cpu.passed?"#10b981":"#ef4444"},children:i.results.cpu.passed?e.jsx(fe,{}):e.jsx(Ue,{})})}),e.jsx(B,{primary:"CPU",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:i.results.cpu.value})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:i.results.cpu.required})]})]})})]}),e.jsxs(H,{children:[e.jsx(ue,{children:e.jsx(de,{sx:{bgcolor:i.results.memory.passed?"#10b981":"#ef4444"},children:i.results.memory.passed?e.jsx(fe,{}):e.jsx(Ue,{})})}),e.jsx(B,{primary:"内存",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:i.results.memory.value})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:i.results.memory.required})]})]})})]}),e.jsxs(H,{children:[e.jsx(ue,{children:e.jsx(de,{sx:{bgcolor:i.results.graphics.passed?"#10b981":"#ef4444"},children:i.results.graphics.passed?e.jsx(fe,{}):e.jsx(Ue,{})})}),e.jsx(B,{primary:"显卡",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:i.results.graphics.value})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:i.results.graphics.required})]})]})})]}),e.jsxs(H,{children:[e.jsx(ue,{children:e.jsx(de,{sx:{bgcolor:i.results.storage.passed?"#10b981":"#ef4444"},children:i.results.storage.passed?e.jsx(fe,{}):e.jsx(Ue,{})})}),e.jsx(B,{primary:"存储空间",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:i.results.storage.value})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:i.results.storage.required})]})]})})]}),e.jsxs(H,{children:[e.jsx(ue,{children:e.jsx(de,{sx:{bgcolor:i.results.os.passed?"#10b981":"#ef4444"},children:i.results.os.passed?e.jsx(fe,{}):e.jsx(Ue,{})})}),e.jsx(B,{primary:"操作系统",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"当前:"}),e.jsx("span",{children:i.results.os.value})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"需求:"}),e.jsx("span",{children:i.results.os.required})]})]})})]})]})})]}),e.jsxs(l,{container:!0,spacing:4,sx:{py:2},children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"最低配置"}),q?e.jsxs(n,{children:[e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ot,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"操作系统"})]}),e.jsx(a,{variant:"body1",children:q.os})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(gs,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"处理器"})]}),e.jsx(a,{variant:"body1",children:q.processor})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(nt,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"内存"})]}),e.jsx(a,{variant:"body1",children:q.memory})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(qr,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"显卡"})]}),e.jsx(a,{variant:"body1",children:q.graphics})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(qr,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"存储空间"})]}),e.jsx(a,{variant:"body1",children:q.storage})]})]}):e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无最低配置信息"})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"推荐配置"}),$?e.jsxs(n,{children:[e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(ot,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"操作系统"})]}),e.jsx(a,{variant:"body1",children:$.os})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(gs,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"处理器"})]}),e.jsx(a,{variant:"body1",children:$.processor})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(nt,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"内存"})]}),e.jsx(a,{variant:"body1",children:$.memory})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(qr,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"显卡"})]}),e.jsx(a,{variant:"body1",children:$.graphics})]}),e.jsxs(n,{sx:{mb:2,display:"flex",alignItems:"center",gap:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(qr,{sx:{mr:1,color:"#6366f1"}}),e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"存储空间"})]}),e.jsx(a,{variant:"body1",children:$.storage})]})]}):e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无推荐配置信息"})]})})]})]})},ae=()=>!o||!o.developer?e.jsx(n,{sx:{py:2},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无开发者信息"})}):e.jsx(n,{sx:{py:2},children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:o.developer.company_name}),o.developer.bio&&e.jsx(n,{sx:{mb:3},children:e.jsx(a,{variant:"body1",sx:{lineHeight:1.8},children:o.developer.bio})}),e.jsxs(n,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[o.developer.contact_email&&e.jsx(E,{label:`联系邮箱: ${o.developer.contact_email}`,variant:"outlined"}),o.developer.website&&e.jsx(E,{label:`官网: ${o.developer.website}`,variant:"outlined"})]})]})}),ze=()=>!o||!o.versions?e.jsx(n,{sx:{py:2},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"暂无版本信息"})}):e.jsx(n,{sx:{py:2},children:o.versions.map(q=>e.jsxs(g,{sx:{p:3,borderRadius:2,mb:2},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(n,{children:[e.jsxs(a,{variant:"h6",component:"h4",sx:{fontWeight:600},children:["版本 ",q.version_number]}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["发布日期: ",new Date(q.release_date).toLocaleDateString("zh-CN")]})]}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsx(E,{label:q.platform.toUpperCase(),color:"primary",size:"small"}),e.jsx(E,{label:ee(q.file_size),variant:"outlined",size:"small"})]})]}),q.changelog&&e.jsxs(n,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"更新日志:"}),e.jsx(a,{variant:"body2",sx:{lineHeight:1.8,whiteSpace:"pre-line"},children:q.changelog})]}),e.jsx(m,{variant:"contained",startIcon:e.jsx(Pe,{}),size:"small",sx:{mt:1},onClick:C,children:"下载此版本"})]},q.id))}),[kr,yi]=x.useState([]),[Ci,wi]=x.useState(!1),[Si,Ii]=x.useState(null),[Ri,Wi]=x.useState(0),[_i,Pi]=x.useState(""),[ki,zi]=x.useState(!1),[Mi,Di]=x.useState(""),[qi,Li]=x.useState(null),Zt=()=>e.jsxs(n,{sx:{py:2},children:[e.jsxs(g,{sx:{p:3,borderRadius:2,mb:3},children:[e.jsxs(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[e.jsx(Dr,{}),"游戏数据同步"]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(a,{variant:"subtitle2",sx:{color:"text.secondary",mb:1},children:"同步状态"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[e.jsx(a,{variant:"body1",children:p.isSyncing?e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(pe,{size:20,color:"primary"}),e.jsx("span",{children:"正在同步数据..."})]}):p.progress===100?e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,color:"#10b981"},children:[e.jsx(fe,{}),e.jsx("span",{children:"数据已同步"})]}):e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,color:"#f59e0b"},children:[e.jsx(qa,{}),e.jsx("span",{children:"数据未同步"})]})}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["最后同步: ",p.lastSynced]})]}),e.jsx(qs,{variant:p.isSyncing?"determinate":"indeterminate",value:p.progress,sx:{height:8,borderRadius:4,mb:2}}),p.progress>0&&!p.isSyncing&&e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"同步进度"}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:[p.progress,"%"]})]})]}),e.jsxs(n,{sx:{mb:3},children:[e.jsx(a,{variant:"subtitle2",sx:{fontWeight:600,mb:2},children:"同步选项"}),e.jsxs(n,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(E,{label:"存档",color:"primary",variant:"outlined"}),e.jsx(E,{label:"设置",color:"primary",variant:"outlined"}),e.jsx(E,{label:"成就",color:"primary",variant:"outlined"}),e.jsx(E,{label:"好友",color:"primary",variant:"outlined"})]})]}),e.jsx(m,{variant:"contained",size:"large",startIcon:p.isSyncing?e.jsx(pe,{size:20,color:"inherit"}):e.jsx(Pa,{}),onClick:k,disabled:p.isSyncing,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:p.isSyncing?"正在同步...":"立即同步"})]}),e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:"同步历史"}),e.jsxs(je,{children:[e.jsxs(H,{children:[e.jsx(B,{primary:"游戏存档同步",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:"状态:"}),e.jsx("span",{style:{color:"#10b981",fontWeight:"bold"},children:"已完成"})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"时间:"}),e.jsx("span",{children:p.lastSynced})]})]})}),e.jsx(J,{edge:"end","aria-label":"more",children:e.jsx(Dr,{})})]}),e.jsx(X,{variant:"inset",component:"li"}),e.jsxs(H,{children:[e.jsx(B,{primary:"成就数据同步",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:"状态:"}),e.jsx("span",{style:{color:"#10b981",fontWeight:"bold"},children:"已完成"})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"时间:"}),e.jsx("span",{children:new Date(Date.now()-864e5).toLocaleString("zh-CN")})]})]})}),e.jsx(J,{edge:"end","aria-label":"more",children:e.jsx(Dr,{})})]}),e.jsx(X,{variant:"inset",component:"li"}),e.jsxs(H,{children:[e.jsx(B,{primary:"游戏设置同步",secondary:e.jsxs(e.Fragment,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[e.jsx("span",{children:"状态:"}),e.jsx("span",{style:{color:"#f59e0b",fontWeight:"bold"},children:"同步中"})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"时间:"}),e.jsx("span",{children:new Date(Date.now()-1728e5).toLocaleString("zh-CN")})]})]})}),e.jsx(J,{edge:"end","aria-label":"more",children:e.jsx(Dr,{})})]})]})]})]});return e.jsxs(Q,{maxWidth:"xl",children:[e.jsxs(n,{sx:{py:4},children:[e.jsx(m,{startIcon:e.jsx(ks,{}),variant:"outlined",sx:{mb:3},onClick:D,children:"返回"}),d?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:500},children:e.jsx(pe,{size:80})}):h?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:500},children:e.jsx(K,{severity:"error",sx:{width:"100%",maxWidth:500},children:h})}):o?e.jsxs(n,{children:[e.jsx(g,{sx:{p:4,borderRadius:2,mb:4},children:e.jsxs(l,{container:!0,spacing:4,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(n,{sx:{position:"relative",borderRadius:2,overflow:"hidden",boxShadow:3},children:[e.jsx("img",{src:o.main_image_url||"https://via.placeholder.com/800x450?text=Game+Image",alt:o.title,style:{width:"100%",display:"block"}}),o.discount_price&&o.discount_price<o.price&&e.jsxs(n,{sx:{position:"absolute",top:16,right:16,backgroundColor:"#ef4444",color:"white",padding:"8px 16px",borderRadius:1,fontWeight:700,fontSize:"1rem",boxShadow:2},children:[Math.round((1-o.discount_price/o.price)*100),"% OFF"]})]})}),e.jsxs(l,{item:!0,xs:12,md:6,children:[e.jsxs(n,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:2},children:[o.categories?.map(q=>e.jsx(E,{label:q.name,sx:{backgroundColor:"#475569",color:"white","&:hover":{backgroundColor:"#64748b"}}},q.id)),o.tags?.map(q=>e.jsx(E,{label:q.name,variant:"outlined"},q.id))]}),e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:700},children:o.title}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(sn,{value:o.rating||0,precision:.5,readOnly:!0,size:"large"}),e.jsxs(a,{variant:"body1",sx:{ml:1,color:"text.secondary"},children:["(",o.review_count," 条评价)"]})]}),e.jsxs(a,{variant:"body2",color:"text.secondary",sx:{mb:3},children:["发布日期: ",new Date(o.release_date).toLocaleDateString("zh-CN")]}),e.jsx(a,{variant:"body1",sx:{lineHeight:1.8,mb:4},children:o.description}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(n,{children:o.discount_price&&o.discount_price<o.price?e.jsxs(e.Fragment,{children:[e.jsx(a,{variant:"h5",sx:{fontWeight:700,color:"#6366f1"},children:me(o.discount_price)}),e.jsxs(a,{variant:"body2",sx:{textDecoration:"line-through",color:"text.secondary"},children:["原价: ",me(o.price)]})]}):e.jsx(a,{variant:"h5",sx:{fontWeight:700,color:"#6366f1"},children:me(o.price)})}),f&&e.jsxs(n,{sx:{mb:2},children:[e.jsx(a,{variant:"body2",sx:{mb:.5},children:"游戏启动中..."}),e.jsx(qs,{variant:"determinate",value:I,sx:{height:8,borderRadius:4}}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:.5},children:e.jsxs(a,{variant:"caption",color:"text.secondary",children:[I,"%"]})})]}),e.jsxs(n,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(m,{variant:"contained",size:"large",startIcon:e.jsx(Se,{}),onClick:w,sx:{flexGrow:1,borderRadius:1,backgroundColor:"#6366f1","&:hover":{backgroundColor:"#4f46e5"}},children:"加入购物车"}),e.jsx(m,{variant:"contained",size:"large",startIcon:e.jsx(Pe,{}),onClick:C,sx:{flexGrow:1,borderRadius:1,backgroundColor:"#10b981","&:hover":{backgroundColor:"#059669"}},children:"立即下载"}),e.jsx(m,{variant:"outlined",size:"large",startIcon:e.jsx(Rs,{}),onClick:S,sx:{flexGrow:1,borderRadius:1},children:"启动游戏"}),e.jsx(J,{size:"large",color:"primary",sx:{borderRadius:1},title:"分享",children:e.jsx($t,{})})]})]})]})]})}),e.jsxs(n,{sx:{mb:4},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600},children:"游戏截图"}),ce()]}),e.jsxs(n,{sx:{mb:4},children:[e.jsx(a,{variant:"h5",component:"h2",gutterBottom:!0,sx:{fontWeight:600},children:"游戏视频"}),e.jsx(g,{sx:{p:2,borderRadius:2,position:"relative"},children:e.jsxs(n,{sx:{height:400,backgroundColor:"#0f172a",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:1,position:"relative",overflow:"hidden"},children:[e.jsx(n,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(99, 102, 241, 0.9)",width:80,height:80,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer","&:hover":{backgroundColor:"rgba(79, 70, 229, 0.9)",transform:"translate(-50%, -50%) scale(1.1)",transition:"all 0.3s ease"}},children:e.jsx(Rs,{sx:{fontSize:40,color:"white",ml:.5}})}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"点击播放游戏视频"})]})})]}),e.jsxs(g,{sx:{borderRadius:2,overflow:"hidden"},children:[e.jsx(n,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(ke,{value:u,onChange:V,variant:"scrollable",scrollButtons:"auto",textColor:"primary",indicatorColor:"primary",children:[e.jsx(Y,{label:"系统需求"}),e.jsx(Y,{label:"开发者信息"}),e.jsx(Y,{label:"版本历史"}),e.jsx(Y,{label:"用户评价"}),e.jsx(Y,{label:"数据同步"})]})}),e.jsxs(n,{sx:{p:3},children:[u===0&&re(),u===1&&ae(),u===2&&ze(),u===3&&e.jsx(n,{sx:{py:2},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"用户评价功能开发中..."})}),u===4&&Zt()]})]})]}):null]}),e.jsx($r,{open:c,autoHideDuration:3e3,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(K,{onClose:le,severity:"success",sx:{width:"100%"},children:v})})]})},$a=()=>{const t=ie();ne();const{user:r}=te(y=>y.user),[s,o]=x.useState(0),[d,h]=x.useState(!1),[u,z]=x.useState(""),[c,b]=x.useState([]),v=[{id:1,title:"赛博朋克2077",image:"https://via.placeholder.com/300x200/6366f1/ffffff?text=Cyberpunk+2077",status:"installed",lastPlayed:"2025-12-01",playTime:"25h 30m"},{id:2,title:"艾尔登法环",image:"https://via.placeholder.com/300x200/ec4899/ffffff?text=Elden+Ring",status:"installed",lastPlayed:"2025-11-28",playTime:"45h 15m"},{id:3,title:"星穹铁道",image:"https://via.placeholder.com/300x200/10b981/ffffff?text=Star+Rail",status:"downloaded",lastPlayed:"2025-11-25",playTime:"15h 45m"}];return x.useEffect(()=>{if(!r){t("/login");return}h(!0),setTimeout(()=>{b(v),h(!1)},1e3)},[r,t]),r?e.jsxs(Q,{maxWidth:"xl",sx:{py:4},children:[e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",mb:4},children:"我的游戏库"}),e.jsx(g,{sx:{mb:4,borderRadius:2,overflow:"hidden"},children:e.jsxs(ke,{value:s,onChange:(y,f)=>o(f),variant:"fullWidth",textColor:"primary",indicatorColor:"primary",children:[e.jsx(Y,{label:"已购游戏"}),e.jsx(Y,{label:"已安装"}),e.jsx(Y,{label:"最近游玩"})]})}),d?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(pe,{size:60})}):u?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(K,{severity:"error",sx:{width:"100%",maxWidth:500},children:u})}):c.length===0?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,textAlign:"center"},children:e.jsxs(n,{children:[e.jsx(a,{variant:"h6",component:"h2",sx:{mb:2},children:"您的游戏库是空的"}),e.jsx(a,{variant:"body1",sx:{color:"text.secondary",mb:4},children:"浏览游戏商城，购买并下载您喜欢的游戏。"}),e.jsx(m,{variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4},onClick:()=>t("/games"),children:"浏览游戏"})]})}):e.jsx(l,{container:!0,spacing:3,children:c.map(y=>e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(g,{sx:{borderRadius:2,overflow:"hidden",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx("img",{src:y.image,alt:y.title,style:{width:"100%",height:180,objectFit:"cover"}}),e.jsx(E,{label:y.status==="installed"?"已安装":"已购买",color:y.status==="installed"?"success":"primary",size:"small",sx:{position:"absolute",top:8,right:8,fontWeight:"bold"}})]}),e.jsxs(n,{sx:{p:3},children:[e.jsx(a,{variant:"h6",component:"div",sx:{fontWeight:"bold",mb:1},children:y.title}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxs(a,{variant:"body2",color:"text.secondary",children:["最近游玩: ",y.lastPlayed]}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:["游玩时间: ",y.playTime]})]}),e.jsx(n,{sx:{display:"flex",gap:1},children:y.status==="installed"?e.jsx(m,{variant:"contained",fullWidth:!0,startIcon:e.jsx(Rs,{}),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},children:"开始游戏"}):e.jsx(m,{variant:"contained",fullWidth:!0,startIcon:e.jsx(Pe,{}),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5},children:"下载"})})]})]})},y.id))})]}):null},Ua=()=>{const t=ie(),r=ne(),[s,o]=x.useState({email:"",password:""}),[d,h]=x.useState(!1),[u,z]=x.useState(""),[c,b]=x.useState(!1),v=I=>{const{name:A,value:i}=I.target;o(G=>({...G,[A]:i})),z("")},y=I=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I),f=async I=>{if(I.preventDefault(),!s.email){z("请输入邮箱地址");return}if(!y(s.email)){z("请输入有效的邮箱地址");return}if(!s.password){z("请输入密码");return}if(s.password.length<6){z("密码长度不能少于6个字符");return}b(!0),z("");try{await r(Or(s)).unwrap(),t("/")}catch(A){z(A.message||"登录失败，请检查您的邮箱和密码")}finally{b(!1)}},T=()=>{h(I=>!I)};return e.jsx(Q,{component:"main",maxWidth:"xs",sx:{mt:8,mb:8},children:e.jsxs(g,{elevation:3,sx:{p:4,borderRadius:2},children:[e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[e.jsx(de,{sx:{m:1,bgcolor:"#6366f1"},children:e.jsx(tn,{})}),e.jsx(a,{component:"h1",variant:"h5",sx:{fontWeight:"bold"},children:"登录"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"欢迎回到木鱼游戏平台"})]}),u&&e.jsx(K,{severity:"error",sx:{mb:2},children:u}),e.jsxs(n,{component:"form",onSubmit:f,noValidate:!0,sx:{mt:1},children:[e.jsx(N,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"邮箱地址",name:"email",autoComplete:"email",autoFocus:!0,value:s.email,onChange:v,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(N,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"密码",type:d?"text":"password",id:"password",autoComplete:"current-password",value:s.password,onChange:v,InputProps:{endAdornment:e.jsx(ge,{position:"end",children:e.jsx(J,{"aria-label":"toggle password visibility",onClick:T,edge:"end",children:d?e.jsx(Re,{}):e.jsx(We,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(m,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1},disabled:c,children:c?"登录中...":"登录"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(Z,{component:"button",variant:"body2",sx:{cursor:"pointer"},children:"忘记密码？"}),e.jsx(Z,{component:At,to:"/register",variant:"body2",children:"还没有账号？立即注册"})]}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsxs(a,{variant:"body2",color:"text.secondary",children:["登录即表示您同意我们的",e.jsx(Z,{component:"button",variant:"body2",sx:{ml:.5,cursor:"pointer"},children:"用户协议"}),"和",e.jsx(Z,{component:"button",variant:"body2",sx:{ml:.5,cursor:"pointer"},children:"隐私政策"})]})})]})]})})},Za=()=>{const t=ie(),r=ne(),[s,o]=x.useState({username:"",email:"",password:"",confirmPassword:""}),[d,h]=x.useState(!1),[u,z]=x.useState(!1),[c,b]=x.useState(""),[v,y]=x.useState(!1),[f,T]=x.useState(!1),I=D=>{const{name:w,value:C}=D.target;o(S=>({...S,[w]:C})),b("")},A=D=>{T(D.target.checked),b("")},i=D=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D),G=D=>D.length<6?"weak":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/.test(D)?"strong":"medium",p=async D=>{if(D.preventDefault(),!s.username){b("请输入用户名");return}if(s.username.length<3){b("用户名长度不能少于3个字符");return}if(!s.email){b("请输入邮箱地址");return}if(!i(s.email)){b("请输入有效的邮箱地址");return}if(!s.password){b("请输入密码");return}if(s.password.length<6){b("密码长度不能少于6个字符");return}if(G(s.password)==="weak"){b("密码强度太弱，建议包含大小写字母、数字和特殊字符");return}if(!s.confirmPassword){b("请确认密码");return}if(s.password!==s.confirmPassword){b("两次输入的密码不一致");return}if(!f){b("请阅读并同意用户协议和隐私政策");return}y(!0),b("");try{await r(Ar(s)).unwrap(),t("/")}catch(w){b(w.message||"注册失败，请重试")}finally{y(!1)}},M=()=>{h(D=>!D)},V=()=>{z(D=>!D)};return e.jsx(Q,{component:"main",maxWidth:"xs",sx:{mt:8,mb:8},children:e.jsxs(g,{elevation:3,sx:{p:4,borderRadius:2},children:[e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:3},children:[e.jsx(de,{sx:{m:1,bgcolor:"#6366f1"},children:e.jsx(nn,{})}),e.jsx(a,{component:"h1",variant:"h5",sx:{fontWeight:"bold"},children:"注册"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"创建您的木鱼游戏平台账号"})]}),c&&e.jsx(K,{severity:"error",sx:{mb:2},children:c}),e.jsxs(n,{component:"form",onSubmit:p,noValidate:!0,sx:{mt:1},children:[e.jsx(N,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"用户名",name:"username",autoComplete:"username",autoFocus:!0,value:s.username,onChange:I,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(N,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"邮箱地址",name:"email",autoComplete:"email",value:s.email,onChange:I,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(N,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"密码",type:d?"text":"password",id:"password",autoComplete:"new-password",value:s.password,onChange:I,InputProps:{endAdornment:e.jsx(ge,{position:"end",children:e.jsx(J,{"aria-label":"toggle password visibility",onClick:M,edge:"end",children:d?e.jsx(Re,{}):e.jsx(We,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(N,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:"确认密码",type:u?"text":"password",id:"confirmPassword",autoComplete:"new-password",value:s.confirmPassword,onChange:I,InputProps:{endAdornment:e.jsx(ge,{position:"end",children:e.jsx(J,{"aria-label":"toggle confirm password visibility",onClick:V,edge:"end",children:u?e.jsx(Re,{}):e.jsx(We,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}}),e.jsx(Er,{control:e.jsx(an,{color:"primary",checked:f,onChange:A}),label:e.jsxs(a,{variant:"body2",sx:{color:"text.secondary"},children:["我已阅读并同意",e.jsx(Z,{component:"button",variant:"body2",sx:{mx:.5,cursor:"pointer",color:"#6366f1"},children:"用户协议"}),"和",e.jsx(Z,{component:"button",variant:"body2",sx:{mx:.5,cursor:"pointer",color:"#6366f1"},children:"隐私政策"})]}),sx:{mt:1,mb:2}}),e.jsx(m,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,mb:2,py:1.5,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1},disabled:v,children:v?"注册中...":"注册"}),e.jsx(n,{sx:{display:"flex",justifyContent:"center"},children:e.jsxs(a,{variant:"body2",color:"text.secondary",children:["已经有账号了？",e.jsx(Z,{component:At,to:"/login",variant:"body2",sx:{ml:.5,color:"#6366f1",textDecoration:"none"},children:"立即登录"})]})}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(a,{variant:"body2",color:"text.secondary",children:"注册即表示您同意我们的服务条款和隐私政策"})})]})]})})},Ya=()=>{const t=ie(),r=ne(),{user:s,loading:o}=te(re=>re.user),[d,h]=x.useState(0),[u,z]=x.useState(!1),[c,b]=x.useState({username:s?.username||"",email:s?.email||""}),[v,y]=x.useState({currentPassword:"",newPassword:"",confirmNewPassword:""}),[f,T]=x.useState(!1),[I,A]=x.useState(!1),[i,G]=x.useState(!1),[p,M]=x.useState(""),[V,D]=x.useState("success"),w=(re,ae)=>{h(ae),C()},C=()=>{z(!1),b({username:s?.username||"",email:s?.email||""}),y({currentPassword:"",newPassword:"",confirmNewPassword:""}),M("")},S=re=>{const{name:ae,value:ze}=re.target;b(kr=>({...kr,[ae]:ze}))},U=re=>{const{name:ae,value:ze}=re.target;y(kr=>({...kr,[ae]:ze}))},k=re=>{switch(re){case"current":T(ae=>!ae);break;case"new":A(ae=>!ae);break;case"confirm":G(ae=>!ae);break}},le=()=>{z(!0),M("")},me=()=>{C()},ee=async()=>{if(!c.username||!c.email){M("请填写所有必填字段"),D("error");return}try{await r(Tr(c)).unwrap(),M("个人信息更新成功"),D("success"),z(!1)}catch(re){M(re.message||"更新失败"),D("error")}},ce=async()=>{if(!v.currentPassword||!v.newPassword||!v.confirmNewPassword){M("请填写所有必填字段"),D("error");return}if(v.newPassword!==v.confirmNewPassword){M("两次输入的新密码不一致"),D("error");return}if(v.newPassword.length<6){M("新密码长度不能少于6个字符"),D("error");return}try{await r(Fr({currentPassword:v.currentPassword,newPassword:v.newPassword})).unwrap(),M("密码修改成功"),D("success"),y({currentPassword:"",newPassword:"",confirmNewPassword:""})}catch(re){M(re.message||"密码修改失败"),D("error")}};return!s&&!o?(t("/login"),null):e.jsxs(Q,{component:"main",maxWidth:"md",sx:{mt:8,mb:8},children:[e.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontWeight:"bold",mb:4},children:"个人中心"}),e.jsxs(g,{elevation:3,sx:{p:4,borderRadius:2},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:3,mb:4},children:[e.jsx(de,{sx:{width:100,height:100,bgcolor:"#6366f1",fontSize:"2rem"},children:s?.username?.charAt(0).toUpperCase()||"U"}),e.jsxs(n,{children:[e.jsx(a,{variant:"h5",component:"div",sx:{fontWeight:"bold"},children:s?.username}),e.jsx(a,{variant:"body1",color:"text.secondary",children:s?.email}),e.jsxs(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["注册时间: ",s?.created_at?new Date(s.created_at).toLocaleDateString("zh-CN"):"未知"]})]})]}),e.jsx(X,{sx:{mb:4}}),e.jsxs(ke,{value:d,onChange:w,sx:{mb:3},children:[e.jsx(Y,{label:"基本信息"}),e.jsx(Y,{label:"修改密码"}),e.jsx(Y,{label:"安全设置"})]}),p&&e.jsx(K,{severity:V,sx:{mb:3},children:p}),d===0&&e.jsxs(n,{children:[e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsx(N,{fullWidth:!0,id:"username",label:"用户名",name:"username",value:c.username,onChange:S,disabled:!u,InputProps:{endAdornment:!u&&e.jsx(ge,{position:"end",children:e.jsx(J,{onClick:le,title:"编辑",children:e.jsx(on,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsx(N,{fullWidth:!0,id:"email",label:"邮箱地址",name:"email",type:"email",value:c.email,onChange:S,disabled:!u,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})})]}),u&&e.jsxs(n,{sx:{display:"flex",gap:2,mt:3,justifyContent:"flex-end"},children:[e.jsx(m,{variant:"outlined",onClick:me,startIcon:e.jsx(ln,{}),sx:{borderRadius:1},children:"取消"}),e.jsx(m,{variant:"contained",onClick:ee,startIcon:e.jsx(dn,{}),sx:{borderRadius:1,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"保存"})]})]}),d===1&&e.jsxs(n,{children:[e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,children:e.jsx(N,{fullWidth:!0,id:"currentPassword",label:"当前密码",name:"currentPassword",type:f?"text":"password",value:v.currentPassword,onChange:U,InputProps:{endAdornment:e.jsx(ge,{position:"end",children:e.jsx(J,{onClick:()=>k("current"),children:f?e.jsx(Re,{}):e.jsx(We,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(N,{fullWidth:!0,id:"newPassword",label:"新密码",name:"newPassword",type:I?"text":"password",value:v.newPassword,onChange:U,InputProps:{endAdornment:e.jsx(ge,{position:"end",children:e.jsx(J,{onClick:()=>k("new"),children:I?e.jsx(Re,{}):e.jsx(We,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(N,{fullWidth:!0,id:"confirmNewPassword",label:"确认新密码",name:"confirmNewPassword",type:i?"text":"password",value:v.confirmNewPassword,onChange:U,InputProps:{endAdornment:e.jsx(ge,{position:"end",children:e.jsx(J,{onClick:()=>k("confirm"),children:i?e.jsx(Re,{}):e.jsx(We,{})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})})]}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(m,{variant:"contained",onClick:ce,sx:{borderRadius:1,bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.2},children:"修改密码"})})]}),d===2&&e.jsxs(n,{children:[e.jsx(a,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"安全设置功能正在开发中..."}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(g,{elevation:2,sx:{p:3,borderRadius:2,textAlign:"center"},children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,fontWeight:"bold"},children:"双重验证"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"开启双重验证以提高账号安全性"}),e.jsx(m,{variant:"outlined",disabled:!0,sx:{borderRadius:1},children:"功能开发中"})]})}),e.jsx(l,{item:!0,xs:12,sm:6,children:e.jsxs(g,{elevation:2,sx:{p:3,borderRadius:2,textAlign:"center"},children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,fontWeight:"bold"},children:"登录设备管理"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"查看和管理您的登录设备"}),e.jsx(m,{variant:"outlined",disabled:!0,sx:{borderRadius:1},children:"功能开发中"})]})})]})]})]})]})};var Xe={},it;function Qa(){if(it)return Xe;it=1;var t=W();Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;var r=t(P()),s=_();return Xe.default=(0,r.default)((0,s.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove"),Xe}var Ja=Qa();const Xa=R(Ja);var Ke={},lt;function Ka(){if(lt)return Ke;lt=1;var t=W();Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var r=t(P()),s=_();return Ke.default=(0,r.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Ke}var eo=Ka();const Ws=R(eo);var er={},dt;function ro(){if(dt)return er;dt=1;var t=W();Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0;var r=t(P()),s=_();return er.default=(0,r.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),er}var so=ro();const _s=R(so),to=()=>{const t=ie(),r=ne(),{items:s,totalItems:o,totalAmount:d}=te(i=>i.cart),[h,u]=_r.useState(!1),[z,c]=_r.useState(""),b=()=>{t(-1)},v=i=>{r(As({gameId:i.id,quantity:i.quantity+1}))},y=i=>{i.quantity>1&&r(As({gameId:i.id,quantity:i.quantity-1}))},f=i=>{r(Hn({gameId:i})),c("商品已从购物车移除"),u(!0)},T=()=>{window.confirm("确定要清空购物车吗？")&&(r(Bn()),c("购物车已清空"),u(!0))},I=()=>{if(o===0){c("购物车为空，无法结算"),u(!0);return}t("/checkout")},A=()=>{u(!1)};return e.jsxs(Q,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(m,{startIcon:e.jsx(ks,{}),variant:"outlined",onClick:b,children:"返回"}),e.jsxs(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:[e.jsx(Se,{sx:{mr:1}}),"购物车"]})]}),e.jsxs(a,{variant:"h6",sx:{fontWeight:"bold",color:"#6366f1"},children:[o," 件商品"]})]}),o===0?e.jsxs(g,{sx:{p:8,textAlign:"center",borderRadius:2},children:[e.jsx(Se,{sx:{fontSize:120,color:"text.secondary",mb:3}}),e.jsx(a,{variant:"h5",component:"h2",sx:{fontWeight:"bold",mb:2},children:"购物车是空的"}),e.jsx(a,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"浏览游戏商城，将喜欢的游戏添加到购物车吧"}),e.jsx(m,{variant:"contained",size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4},onClick:()=>t("/games"),children:"浏览游戏"})]}):e.jsxs(l,{container:!0,spacing:4,children:[e.jsx(l,{item:!0,xs:12,md:8,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[s.map(i=>e.jsxs(n,{sx:{mb:3},children:[e.jsxs(l,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(l,{item:!0,xs:4,md:3,children:e.jsx(n,{sx:{width:"100%",height:100,borderRadius:1,overflow:"hidden",bgcolor:"rgba(255, 255, 255, 0.1)"},children:e.jsx("img",{src:i.image,alt:i.title,style:{width:"100%",height:"100%",objectFit:"cover"}})})}),e.jsx(l,{item:!0,xs:8,md:9,children:e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(n,{children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold",mb:1},children:i.title}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:i.isFree?"免费":`¥${i.price.toFixed(2)}`}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(J,{size:"small",onClick:()=>y(i),disabled:i.quantity<=1,children:e.jsx(Xa,{})}),e.jsx(a,{variant:"body1",sx:{fontWeight:"bold",minWidth:24,textAlign:"center"},children:i.quantity}),e.jsx(J,{size:"small",onClick:()=>v(i),children:e.jsx(Ws,{})})]})]}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1},children:[e.jsxs(a,{variant:"body1",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",(i.price*i.quantity).toFixed(2)]}),e.jsx(J,{size:"small",color:"error",onClick:()=>f(i.id),children:e.jsx(_s,{})})]})]})})]}),e.jsx(X,{sx:{mt:2}})]},i.id)),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:e.jsx(m,{variant:"outlined",color:"error",startIcon:e.jsx(_s,{}),onClick:T,children:"清空购物车"})})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"订单摘要"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"商品数量"}),e.jsxs(a,{variant:"body1",children:[o," 件"]})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"商品总价"}),e.jsxs(a,{variant:"body1",children:["¥",d.toFixed(2)]})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"运费"}),e.jsx(a,{variant:"body1",color:"success.main",children:"免费"})]}),e.jsx(X,{sx:{my:2}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold"},children:"总计"}),e.jsxs(a,{variant:"h6",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",d.toFixed(2)]})]}),e.jsx(m,{variant:"contained",fullWidth:!0,size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.5,fontSize:"1rem"},onClick:I,children:"去结算"}),e.jsx(m,{variant:"outlined",fullWidth:!0,sx:{mt:2},onClick:()=>t("/games"),children:"继续购物"})]})})]}),e.jsx($r,{open:h,autoHideDuration:3e3,onClose:A,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(K,{onClose:A,severity:"success",sx:{width:"100%"},children:z})})]})};var rr={},ct;function no(){if(ct)return rr;ct=1;var t=W();Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=void 0;var r=t(P()),s=_();return rr.default=(0,r.default)((0,s.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),rr}var ao=no();const Ir=R(ao);var sr={},xt;function oo(){if(xt)return sr;xt=1;var t=W();Object.defineProperty(sr,"__esModule",{value:!0}),sr.default=void 0;var r=t(P()),s=_();return sr.default=(0,r.default)((0,s.jsx)("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),sr}var io=oo();const lo=R(io);var tr={},ht;function co(){if(ht)return tr;ht=1;var t=W();Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0;var r=t(P()),s=_();return tr.default=(0,r.default)((0,s.jsx)("path",{d:"M18 4H6C3.79 4 2 5.79 2 8v8c0 2.21 1.79 4 4 4h12c2.21 0 4-1.79 4-4V8c0-2.21-1.79-4-4-4m-1.86 9.77c-.24.2-.57.28-.88.2L4.15 11.25C4.45 10.52 5.16 10 6 10h12c.67 0 1.26.34 1.63.84zM6 6h12c1.1 0 2 .9 2 2v.55c-.59-.34-1.27-.55-2-.55H6c-.73 0-1.41.21-2 .55V8c0-1.1.9-2 2-2"}),"Wallet"),tr}var xo=co();const ho=R(xo),uo=()=>{const t=ie(),r=ne(),{items:s,totalItems:o,totalAmount:d}=te(C=>C.cart),{user:h}=te(C=>C.user),[u,z]=x.useState("credit_card"),[c,b]=x.useState(!1),[v,y]=x.useState(""),[f,T]=x.useState(!1),[I,A]=x.useState(""),[i,G]=x.useState({fullName:h?.username||"",email:h?.email||"",address:"",city:"",zipCode:"",phone:""}),p=()=>{t("/cart")},M=C=>{z(C.target.value)},V=C=>{const{name:S,value:U}=C.target;G({...i,[S]:U})},D=async C=>{if(C.preventDefault(),!i.fullName||!i.email||!i.address||!i.city||!i.zipCode||!i.phone){y("请填写所有必填字段");return}if(o===0){y("购物车为空，无法结算");return}b(!0),y("");try{await r(Br({gameIds:s.map(S=>S.id)})).unwrap(),A("支付成功！"),T(!0),setTimeout(()=>{t("/orders")},1500)}catch(S){y(S.message||"支付失败，请重试")}finally{b(!1)}},w=()=>{T(!1)};return h?e.jsxs(Q,{maxWidth:"xl",sx:{py:4},children:[e.jsx(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(m,{startIcon:e.jsx(ks,{}),variant:"outlined",onClick:p,children:"返回购物车"}),e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"结算"})]})}),v&&e.jsx(K,{severity:"error",sx:{mb:4},children:v}),e.jsxs(l,{container:!0,spacing:4,children:[e.jsxs(l,{item:!0,xs:12,md:8,children:[e.jsxs(g,{sx:{p:3,borderRadius:2,mb:4},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"配送信息"}),e.jsx("form",{onSubmit:D,children:e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(N,{fullWidth:!0,label:"姓名",name:"fullName",value:i.fullName,onChange:V,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(N,{fullWidth:!0,label:"邮箱",name:"email",type:"email",value:i.email,onChange:V,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(N,{fullWidth:!0,label:"详细地址",name:"address",multiline:!0,rows:2,value:i.address,onChange:V,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(N,{fullWidth:!0,label:"城市",name:"city",value:i.city,onChange:V,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(N,{fullWidth:!0,label:"邮编",name:"zipCode",value:i.zipCode,onChange:V,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})}),e.jsx(l,{item:!0,xs:12,children:e.jsx(N,{fullWidth:!0,label:"电话",name:"phone",value:i.phone,onChange:V,required:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})})]})})]}),e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"支付方式"}),e.jsx(Ie,{component:"fieldset",children:e.jsxs(cn,{row:!0,"aria-label":"payment method",name:"paymentMethod",value:u,onChange:M,children:[e.jsx(Er,{value:"credit_card",control:e.jsx(Zr,{}),label:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ir,{})," 信用卡/借记卡"]})}),e.jsx(Er,{value:"bank_transfer",control:e.jsx(Zr,{}),label:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(lo,{})," 银行转账"]})}),e.jsx(Er,{value:"wallet",control:e.jsx(Zr,{}),label:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ho,{})," 电子钱包"]})})]})}),e.jsxs(n,{sx:{mt:3},children:[u==="credit_card"&&e.jsx(a,{variant:"body2",color:"text.secondary",children:"支持 Visa, MasterCard, American Express 等主流信用卡和借记卡"}),u==="bank_transfer"&&e.jsx(a,{variant:"body2",color:"text.secondary",children:"银行转账需要 1-3 个工作日处理"}),u==="wallet"&&e.jsx(a,{variant:"body2",color:"text.secondary",children:"支持支付宝、微信支付、PayPal 等电子钱包"})]})]})]}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold",mb:3},children:"订单摘要"}),e.jsx(n,{sx:{maxHeight:300,overflowY:"auto",mb:3},children:s.map(C=>e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2,pb:1,borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(n,{sx:{width:60,height:60,borderRadius:1,overflow:"hidden",bgcolor:"rgba(255, 255, 255, 0.1)"},children:e.jsx("img",{src:C.image,alt:C.title,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs(n,{children:[e.jsx(a,{variant:"body2",sx:{fontWeight:"bold"},children:C.title}),e.jsxs(a,{variant:"body2",color:"text.secondary",children:[C.quantity," × ¥",C.price.toFixed(2)]})]})]}),e.jsxs(a,{variant:"body2",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",(C.price*C.quantity).toFixed(2)]})]},C.id))}),e.jsx(X,{sx:{my:2}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"商品总价"}),e.jsxs(a,{variant:"body1",children:["¥",d.toFixed(2)]})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"运费"}),e.jsx(a,{variant:"body1",color:"success.main",children:"免费"})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsx(a,{variant:"body1",children:"税费"}),e.jsxs(a,{variant:"body1",children:["¥",(d*.06).toFixed(2)]})]}),e.jsx(X,{sx:{my:2}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",mb:3},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:"bold"},children:"订单总计"}),e.jsxs(a,{variant:"h6",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",(d*1.06).toFixed(2)]})]}),e.jsx(m,{type:"submit",variant:"contained",fullWidth:!0,size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},py:1.5,borderRadius:1},disabled:c||o===0,onClick:D,children:c?e.jsx(pe,{size:24,color:"inherit"}):"提交订单"})]})})]}),e.jsx($r,{open:f,autoHideDuration:3e3,onClose:w,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(K,{onClose:w,severity:"success",sx:{width:"100%"},children:I})})]}):(t("/login"),null)};var nr={},ut;function po(){if(ut)return nr;ut=1;var t=W();Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0;var r=t(P()),s=_();return nr.default=(0,r.default)([(0,s.jsx)("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),(0,s.jsx)("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong"),nr}var fo=po();const pt=R(fo);var ar={},ft;function mo(){if(ft)return ar;ft=1;var t=W();Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var r=t(P()),s=_();return ar.default=(0,r.default)((0,s.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),ar}var jo=mo();const Ut=R(jo);var or={},mt;function go(){if(mt)return or;mt=1;var t=W();Object.defineProperty(or,"__esModule",{value:!0}),or.default=void 0;var r=t(P()),s=_();return or.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m.88 15.76V19h-1.75v-1.29c-.74-.18-2.39-.77-3.02-2.96l1.65-.67c.06.22.58 2.09 2.4 2.09.93 0 1.98-.48 1.98-1.61 0-.96-.7-1.46-2.28-2.03-1.1-.39-3.35-1.03-3.35-3.31 0-.1.01-2.4 2.62-2.96V5h1.75v1.24c1.84.32 2.51 1.79 2.66 2.23l-1.58.67c-.11-.35-.59-1.34-1.9-1.34-.7 0-1.81.37-1.81 1.39 0 .95.86 1.31 2.64 1.9 2.4.83 3.01 2.05 3.01 3.45 0 2.63-2.5 3.13-3.02 3.22"}),"Paid"),or}var bo=go();const vo=R(bo),yo=()=>{const t=ie(),r=ne(),{user:s}=te(p=>p.user),{orders:o,loading:d,error:h,totalPages:u,currentPage:z}=te(p=>p.payment),[c,b]=x.useState(0),[v,y]=x.useState("all"),f=[{id:1,orderNumber:"MUYU-20251201-001",totalAmount:298,status:"completed",createdAt:"2025-12-01T10:30:00Z",games:[{id:1,title:"赛博朋克2077",price:298}]},{id:2,orderNumber:"MUYU-20251128-002",totalAmount:199,status:"completed",createdAt:"2025-11-28T15:45:00Z",games:[{id:2,title:"艾尔登法环",price:199}]},{id:3,orderNumber:"MUYU-20251125-003",totalAmount:0,status:"completed",createdAt:"2025-11-25T09:15:00Z",games:[{id:3,title:"星穹铁道",price:0}]}];x.useEffect(()=>{if(!s){t("/login");return}},[s,t,r]);const T=(p,M)=>{switch(b(M),M){case 0:y("all");break;case 1:y("completed");break;case 2:y("pending");break;case 3:y("cancelled");break;default:y("all")}},I=(p,M)=>{},A=p=>{alert(`查看订单详情: ${p}`)},i=p=>new Date(p).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),G=p=>{switch(p){case"completed":return{label:"已完成",color:"success"};case"pending":return{label:"待处理",color:"warning"};case"processing":return{label:"处理中",color:"info"};case"shipped":return{label:"已发货",color:"primary"};case"cancelled":return{label:"已取消",color:"error"};default:return{label:"未知",color:"default"}}};return s?e.jsxs(Q,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:4},children:[e.jsx(pt,{sx:{fontSize:32,color:"#6366f1"}}),e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"订单历史"})]}),e.jsx(g,{sx:{mb:4,borderRadius:2,overflow:"hidden"},children:e.jsxs(ke,{value:c,onChange:T,variant:"fullWidth",textColor:"primary",indicatorColor:"primary",children:[e.jsx(Y,{label:"全部订单"}),e.jsx(Y,{label:"已完成"}),e.jsx(Y,{label:"待处理"}),e.jsx(Y,{label:"已取消"})]})}),d?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(pe,{size:60})}):h?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},children:e.jsx(K,{severity:"error",sx:{width:"100%",maxWidth:500},children:h})}):f.length===0?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,textAlign:"center"},children:e.jsxs(n,{children:[e.jsx(a,{variant:"h6",component:"h2",sx:{mb:2},children:"您还没有任何订单"}),e.jsx(a,{variant:"body1",sx:{color:"text.secondary",mb:4},children:"浏览游戏商城，购买您喜欢的游戏吧"}),e.jsx(m,{variant:"contained",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4},onClick:()=>t("/games"),children:"浏览游戏"})]})}):e.jsxs(n,{children:[e.jsx(ve,{component:g,sx:{borderRadius:2,mb:3},children:e.jsxs(ye,{"aria-label":"订单历史表",children:[e.jsx(Ce,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"订单编号"}),e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"日期"}),e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"商品"}),e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"状态"}),e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem"},children:"总计"}),e.jsx(j,{sx:{fontWeight:"bold",fontSize:"1rem",textAlign:"right"},children:"操作"})]})}),e.jsx(we,{children:f.map(p=>{const M=G(p.status);return e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"}},children:[e.jsx(j,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(pt,{sx:{fontSize:16,color:"#6366f1"}}),e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:p.orderNumber})]})}),e.jsx(j,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ut,{sx:{fontSize:16,color:"#6366f1"}}),e.jsx(a,{variant:"body2",children:i(p.createdAt)})]})}),e.jsx(j,{children:e.jsx(n,{sx:{display:"flex",flexDirection:"column",gap:1},children:p.games.map(V=>e.jsx(a,{variant:"body2",children:V.title},V.id))})}),e.jsx(j,{children:e.jsx(E,{label:M.label,color:M.color,size:"small",variant:"outlined"})}),e.jsx(j,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(vo,{sx:{fontSize:16,color:"#6366f1"}}),e.jsxs(a,{variant:"body1",sx:{fontWeight:"bold",color:"#6366f1"},children:["¥",p.totalAmount.toFixed(2)]})]})}),e.jsx(j,{align:"right",children:e.jsx(m,{variant:"outlined",size:"small",onClick:()=>A(p.id),children:"查看详情"})})]},p.id)})})]})}),e.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:3},children:e.jsx(xn,{count:u,page:z,onChange:I,color:"primary",sx:{mb:3}})})]})]}):null};var ir={},jt;function Co(){if(jt)return ir;jt=1;var t=W();Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var r=t(P()),s=_();return ir.default=(0,r.default)((0,s.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),ir}var wo=Co();const be=R(wo);var lr={},gt;function So(){if(gt)return lr;gt=1;var t=W();Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var r=t(P()),s=_();return lr.default=(0,r.default)((0,s.jsx)("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2zm-9-2h10V8H12zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"AccountBalanceWallet"),lr}var Io=So();const Wr=R(Io);var dr={},bt;function Ro(){if(bt)return dr;bt=1;var t=W();Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=void 0;var r=t(P()),s=_();return dr.default=(0,r.default)((0,s.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"}),"BarChart"),dr}var Wo=Ro();const Nr=R(Wo);var cr={},vt;function _o(){if(vt)return cr;vt=1;var t=W();Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var r=t(P()),s=_();return cr.default=(0,r.default)((0,s.jsx)("path",{d:"M15 7.5V2H9v5.5l3 3zM7.5 9H2v6h5.5l3-3zM9 16.5V22h6v-5.5l-3-3zM16.5 9l-3 3 3 3H22V9z"}),"Gamepad"),cr}var Po=_o();const Vr=R(Po);var xr={},yt;function ko(){if(yt)return xr;yt=1;var t=W();Object.defineProperty(xr,"__esModule",{value:!0}),xr.default=void 0;var r=t(P()),s=_();return xr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),xr}var zo=ko();const Mo=R(zo);var hr={},Ct;function Do(){if(Ct)return hr;Ct=1;var t=W();Object.defineProperty(hr,"__esModule",{value:!0}),hr.default=void 0;var r=t(P()),s=_();return hr.default=(0,r.default)((0,s.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),hr}var qo=Do();const xe=R(qo);var ur={},wt;function Lo(){if(wt)return ur;wt=1;var t=W();Object.defineProperty(ur,"__esModule",{value:!0}),ur.default=void 0;var r=t(P()),s=_();return ur.default=(0,r.default)((0,s.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),ur}var Eo=Lo();const Ps=R(Eo),Ao=()=>{const t=ie();ne();const{user:r}=te(f=>f.user),[s,o]=x.useState(!1),[d,h]=x.useState(""),u={totalGames:5,totalSales:1250,totalRevenue:38500.5,totalDownloads:2500,avgRating:4.5},z=[{id:1,gameTitle:"赛博朋克2077",amount:298,date:"2025-12-01T10:30:00Z"},{id:2,gameTitle:"艾尔登法环",amount:199,date:"2025-11-30T15:45:00Z"},{id:3,gameTitle:"星穹铁道",amount:0,date:"2025-11-29T09:15:00Z"},{id:4,gameTitle:"黑神话：悟空",amount:268,date:"2025-11-28T14:20:00Z"},{id:5,gameTitle:"星球大战：亡命徒",amount:249,date:"2025-11-27T11:10:00Z"}];x.useEffect(()=>{if(!r){t("/login");return}if(r.role!=="developer"){h("您没有开发者权限，无法访问此页面");return}o(!0),setTimeout(()=>{o(!1)},1e3)},[r,t]);const c=()=>{t("/developer/games")},b=()=>{t("/developer/sales")},v=()=>{t("/developer/finances")},y=f=>new Date(f).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return r?e.jsxs(Q,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold"},children:"开发者中心"}),e.jsx(E,{label:"开发者",color:"primary",icon:e.jsx(Mo,{})})]}),d&&e.jsx(K,{severity:"error",sx:{mb:4},children:d}),e.jsx(g,{sx:{p:4,borderRadius:2,mb:4},children:e.jsxs(l,{container:!0,spacing:4,alignItems:"center",children:[e.jsx(l,{item:!0,xs:12,md:3,children:e.jsx(de,{sx:{width:120,height:120,bgcolor:"#6366f1",fontSize:"3rem"},children:r.username?.charAt(0).toUpperCase()||"D"})}),e.jsxs(l,{item:!0,xs:12,md:9,children:[e.jsx(a,{variant:"h5",component:"div",sx:{fontWeight:"bold",mb:1},children:r.username}),e.jsx(a,{variant:"body1",color:"text.secondary",sx:{mb:3},children:r.email}),e.jsxs(n,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsx(E,{label:`游戏数量: ${u.totalGames}`,variant:"outlined",icon:e.jsx(Vr,{})}),e.jsx(E,{label:`总销量: ${u.totalSales}`,variant:"outlined",icon:e.jsx(Se,{})}),e.jsx(E,{label:`总收入: ¥${u.totalRevenue.toFixed(2)}`,variant:"outlined",icon:e.jsx(Wr,{})}),e.jsx(E,{label:`平均评分: ${u.avgRating} ★`,variant:"outlined",icon:e.jsx(Ss,{})})]})]})]})}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #6366f1",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总游戏数"}),e.jsx(Vr,{sx:{color:"#6366f1"}})]}),e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:u.totalGames}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"2 款新游戏"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #10b981",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总销量"}),e.jsx(Se,{sx:{color:"#10b981"}})]}),e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:u.totalSales}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"12% 增长"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #f59e0b",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总收入"}),e.jsx(Wr,{sx:{color:"#f59e0b"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",u.totalRevenue.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"8% 增长"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #ec4899",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总下载量"}),e.jsx(be,{sx:{color:"#ec4899"}})]}),e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:u.totalDownloads}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ps,{sx:{fontSize:"0.8rem",color:"error.main"}}),e.jsx(a,{variant:"body2",color:"error.main",children:"3% 下降"})]})]})})]}),e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:7,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold"},children:"最近销售记录"}),e.jsx(m,{variant:"outlined",size:"small",onClick:b,children:"查看全部"})]}),e.jsx(ve,{sx:{maxHeight:400},children:e.jsxs(ye,{"aria-label":"最近销售记录表",stickyHeader:!0,children:[e.jsx(Ce,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"游戏名称"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"价格"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"购买日期"})]})}),e.jsx(we,{children:z.map(f=>e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(j,{children:f.gameTitle}),e.jsx(j,{children:f.amount===0?e.jsx(E,{label:"免费",size:"small",color:"success"}):e.jsxs(a,{variant:"body2",sx:{fontWeight:"bold"},children:["¥",f.amount.toFixed(2)]})}),e.jsx(j,{children:y(f.date)})]},f.id))})]})})]})}),e.jsxs(l,{item:!0,xs:12,md:5,children:[e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"快速操作"}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(m,{variant:"contained",fullWidth:!0,size:"large",startIcon:e.jsx(Vr,{}),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},borderRadius:1.5,py:1.5},onClick:c,children:"游戏管理"}),e.jsx(m,{variant:"contained",fullWidth:!0,size:"large",startIcon:e.jsx(Nr,{}),sx:{bgcolor:"#10b981","&:hover":{bgcolor:"#059669"},borderRadius:1.5,py:1.5},onClick:b,children:"销售分析"}),e.jsx(m,{variant:"contained",fullWidth:!0,size:"large",startIcon:e.jsx(Wr,{}),sx:{bgcolor:"#f59e0b","&:hover":{bgcolor:"#d97706"},borderRadius:1.5,py:1.5},onClick:v,children:"财务报表"}),e.jsx(m,{variant:"outlined",fullWidth:!0,size:"large",startIcon:e.jsx(Ut,{}),sx:{borderRadius:1.5,py:1.5},children:"发布新游戏"})]})]}),e.jsxs(g,{sx:{p:3,borderRadius:2,mt:3},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"本月概览"}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{variant:"body1",children:"新游戏发布"}),e.jsx(E,{label:"1",size:"small",color:"primary"})]}),e.jsx(X,{sx:{my:1}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{variant:"body1",children:"本月销量"}),e.jsx(E,{label:"234",size:"small",color:"success"})]}),e.jsx(X,{sx:{my:1}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{variant:"body1",children:"本月收入"}),e.jsx(E,{label:"¥12,580.00",size:"small",color:"warning"})]}),e.jsx(X,{sx:{my:1}}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{variant:"body1",children:"新增评价"}),e.jsx(E,{label:"45",size:"small",color:"info"})]})]})]})]})]})]}):null};var pr={},St;function Oo(){if(St)return pr;St=1;var t=W();Object.defineProperty(pr,"__esModule",{value:!0}),pr.default=void 0;var r=t(P()),s=_();return pr.default=(0,r.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),pr}var To=Oo();const Fo=R(To);var fr={},It;function Go(){if(It)return fr;It=1;var t=W();Object.defineProperty(fr,"__esModule",{value:!0}),fr.default=void 0;var r=t(P()),s=_();return fr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),fr}var Ho=Go();const Bo=R(Ho),Vo=()=>{const t=ne(),{games:r,loading:s,error:o}=te(i=>i.game),[d,h]=x.useState(!1),[u,z]=x.useState("create"),[c,b]=x.useState(null);x.useEffect(()=>{t(_e({status:"all"}))},[t]);const v=()=>{z("create"),b(null),h(!0)},y=i=>{z("edit"),b(i),h(!0)},f=i=>{console.log("Delete game:",i.id)},T=i=>{window.location.href=`/game/${i.id}`},I=i=>{console.log("Promote game:",i.id)},A=(i,G)=>{console.log("Update game status:",i.id,"to",G)};return e.jsxs(Q,{maxWidth:"xl",children:[e.jsxs(n,{sx:{py:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(n,{children:[e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:1},children:"我的游戏"}),e.jsx(a,{variant:"subtitle1",color:"text.secondary",children:"管理和推广您的游戏作品"})]}),e.jsx(m,{variant:"contained",startIcon:e.jsx(Ws,{}),onClick:v,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"创建新游戏"})]}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,bgcolor:"#f0f9ff",borderLeft:"4px solid #0ea5e9"},children:[e.jsx(a,{variant:"h6",sx:{color:"#0c4a6e",fontWeight:600},children:"总游戏数"}),e.jsx(a,{variant:"h4",sx:{mt:1,color:"#0ea5e9",fontWeight:700},children:r.length})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,bgcolor:"#fef3c7",borderLeft:"4px solid #f59e0b"},children:[e.jsx(a,{variant:"h6",sx:{color:"#92400e",fontWeight:600},children:"待审核"}),e.jsx(a,{variant:"h4",sx:{mt:1,color:"#f59e0b",fontWeight:700},children:r.filter(i=>i.status==="pending").length})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,bgcolor:"#d1fae5",borderLeft:"4px solid #10b981"},children:[e.jsx(a,{variant:"h6",sx:{color:"#065f46",fontWeight:600},children:"已通过"}),e.jsx(a,{variant:"h4",sx:{mt:1,color:"#10b981",fontWeight:700},children:r.filter(i=>i.status==="approved").length})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,bgcolor:"#fee2e2",borderLeft:"4px solid #ef4444"},children:[e.jsx(a,{variant:"h6",sx:{color:"#991b1b",fontWeight:600},children:"已拒绝"}),e.jsx(a,{variant:"h4",sx:{mt:1,color:"#ef4444",fontWeight:700},children:r.filter(i=>i.status==="rejected").length})]})})]}),s?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:10},children:e.jsx(pe,{size:60})}):o?e.jsx(K,{severity:"error",sx:{mb:3},children:o}):r.length===0?e.jsxs(n,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",py:10},children:[e.jsx(a,{variant:"h6",sx:{mb:3,textAlign:"center"},children:"您还没有创建任何游戏"}),e.jsx(m,{variant:"contained",startIcon:e.jsx(Ws,{}),onClick:v,sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"创建第一个游戏"})]}):e.jsx(l,{container:!0,spacing:3,children:r.map(i=>e.jsx(l,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsxs(g,{sx:{borderRadius:2,overflow:"hidden",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(99, 102, 241, 0.3)"}},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx("img",{src:i.main_image_url||"https://via.placeholder.com/400x200?text=Game+Cover",alt:i.title,style:{width:"100%",height:"200px",objectFit:"cover"}}),e.jsx(E,{label:i.status==="approved"?"已通过":i.status==="pending"?"待审核":"已拒绝",sx:{position:"absolute",top:8,right:8,bgcolor:i.status==="approved"?"#10b981":i.status==="pending"?"#f59e0b":"#ef4444",color:"white",fontWeight:700}})]}),e.jsxs(n,{sx:{p:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:600,mb:1},children:i.title}),e.jsx(n,{sx:{display:"flex",gap:1,mb:2},children:i.categories?.slice(0,2).map(G=>e.jsx(E,{label:G.name,size:"small",sx:{bgcolor:"#e2e8f0",color:"#334155",fontWeight:500}},G.id))}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:i.description.length>100?`${i.description.substring(0,100)}...`:i.description}),e.jsx(n,{sx:{mb:2},children:e.jsxs(a,{variant:"h6",sx:{color:"#6366f1",fontWeight:700},children:["¥",i.price.toFixed(2)]})}),e.jsxs(n,{sx:{mb:2},children:[e.jsx(a,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"游戏状态"}),e.jsxs(n,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[i.status==="pending"&&e.jsx(m,{variant:"outlined",size:"small",disabled:!0,sx:{minWidth:"auto",color:"#f59e0b",borderColor:"#f59e0b"},children:"待审核"}),i.status==="approved"&&e.jsx(m,{variant:"outlined",size:"small",onClick:()=>A(i,"draft"),sx:{minWidth:"auto",color:"#10b981",borderColor:"#10b981"},children:"已发布"}),i.status==="rejected"&&e.jsx(m,{variant:"outlined",size:"small",onClick:()=>A(i,"pending"),sx:{minWidth:"auto",color:"#ef4444",borderColor:"#ef4444"},children:"已拒绝"})]})]}),e.jsxs(n,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1},children:[e.jsx(m,{variant:"outlined",size:"small",startIcon:e.jsx(Bo,{}),onClick:()=>T(i),children:"预览"}),e.jsx(m,{variant:"outlined",size:"small",startIcon:e.jsx(Fo,{}),onClick:()=>y(i),children:"编辑"}),e.jsx(m,{variant:"contained",size:"small",startIcon:e.jsx($t,{}),onClick:()=>I(i),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:"推广"}),e.jsx(m,{variant:"outlined",size:"small",startIcon:e.jsx(_s,{}),onClick:()=>f(i),sx:{color:"#ef4444",borderColor:"#ef4444","&:hover":{bgcolor:"rgba(239, 68, 68, 0.08)"}},children:"删除"})]})]})]})},i.id))}),e.jsxs(Ot,{open:d,onClose:()=>h(!1),maxWidth:"lg",fullWidth:!0,children:[e.jsx(Tt,{sx:{fontWeight:"bold"},children:u==="create"?"创建新游戏":"编辑游戏"}),e.jsx(Ft,{children:e.jsxs(n,{sx:{mt:2},children:[e.jsx(a,{variant:"body1",children:u==="create"?"创建游戏表单":"编辑游戏表单"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"此功能将在后续开发中实现"})]})}),e.jsxs(Gt,{children:[e.jsx(m,{onClick:()=>h(!1),children:"取消"}),e.jsx(m,{variant:"contained",onClick:()=>h(!1),sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"}},children:u==="create"?"创建":"保存"})]})]})]})};var mr={},Rt;function No(){if(Rt)return mr;Rt=1;var t=W();Object.defineProperty(mr,"__esModule",{value:!0}),mr.default=void 0;var r=t(P()),s=_();return mr.default=(0,r.default)((0,s.jsx)("path",{d:"M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10m2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99m0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99z"}),"PieChart"),mr}var $o=No();const bs=R($o);var jr={},Wt;function Uo(){if(Wt)return jr;Wt=1;var t=W();Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=void 0;var r=t(P()),s=_();return jr.default=(0,r.default)((0,s.jsx)("path",{d:"m3.5 18.49 6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z"}),"ShowChart"),jr}var Zo=Uo();const _t=R(Zo),Yo=()=>{const t=ie(),{user:r}=te(p=>p.user),[s,o]=x.useState(!1),[d,h]=x.useState(""),[u,z]=x.useState("month"),[c,b]=x.useState("line"),[v,y]=x.useState(0),f={totalSales:1250,totalRevenue:38500.5,avgPrice:30.8,salesGrowth:12,revenueGrowth:8,dailySales:[{date:"12-01",sales:45,revenue:13500},{date:"12-02",sales:38,revenue:11400},{date:"12-03",sales:52,revenue:15600},{date:"12-04",sales:48,revenue:14400},{date:"12-05",sales:55,revenue:16500},{date:"12-06",sales:62,revenue:18600},{date:"12-07",sales:58,revenue:17400},{date:"12-08",sales:49,revenue:14700},{date:"12-09",sales:53,revenue:15900},{date:"12-10",sales:57,revenue:17100}],gameSales:[{id:1,title:"赛博朋克2077",sales:320,revenue:95360,price:298},{id:2,title:"艾尔登法环",sales:280,revenue:55720,price:199},{id:3,title:"黑神话：悟空",sales:250,revenue:67e3,price:268},{id:4,title:"星穹铁道",sales:180,revenue:0,price:0},{id:5,title:"星球大战：亡命徒",sales:120,revenue:29880,price:249}],regionalSales:[{region:"华东",sales:350,revenue:104300,percentage:28},{region:"华南",sales:280,revenue:83200,percentage:22},{region:"华北",sales:240,revenue:71520,percentage:18},{region:"西南",sales:180,revenue:53640,percentage:14},{region:"东北",sales:120,revenue:35760,percentage:9},{region:"西北",sales:80,revenue:23840,percentage:7}]};x.useEffect(()=>{if(!r){t("/login");return}if(r.role!=="developer"){h("您没有开发者权限，无法访问此页面");return}o(!0),setTimeout(()=>{o(!1)},1e3)},[r,t]);const T=p=>{z(p.target.value)},I=(p,M)=>{y(M)},A=()=>{t("/developer")},i=()=>{t("/developer/games")},G=()=>{t("/developer/finances")};return r?e.jsxs(Q,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(n,{children:[e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:1},children:"销售分析"}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"查看您的游戏销售数据和趋势"})]}),e.jsxs(n,{sx:{display:"flex",gap:2},children:[e.jsx(m,{variant:"outlined",startIcon:e.jsx(be,{}),onClick:A,children:"返回仪表盘"}),e.jsx(m,{variant:"contained",startIcon:e.jsx(Nr,{}),onClick:G,children:"财务报表"})]})]}),d&&e.jsx(K,{severity:"error",sx:{mb:4},children:d}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #10b981",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总销量"}),e.jsx(Se,{sx:{color:"#10b981"}})]}),e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:f.totalSales}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(a,{variant:"body2",color:"success.main",children:[f.salesGrowth,"% 增长"]})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #f59e0b",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总收入"}),e.jsx(be,{sx:{color:"#f59e0b"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",f.totalRevenue.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(a,{variant:"body2",color:"success.main",children:[f.revenueGrowth,"% 增长"]})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #6366f1",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"平均价格"}),e.jsx(xe,{sx:{color:"#6366f1"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",f.avgPrice.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"5% 增长"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #ec4899",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"游戏数量"}),e.jsx(Vr,{sx:{color:"#ec4899"}})]}),e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:f.gameSales.length}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"1 款新游戏"})]})]})})]}),e.jsx(g,{sx:{p:3,borderRadius:2,mb:4},children:e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"时间范围："}),e.jsx(Ie,{size:"small",sx:{minWidth:120},children:e.jsxs(Rr,{value:u,onChange:T,displayEmpty:!0,children:[e.jsx(L,{value:"week",children:"最近一周"}),e.jsx(L,{value:"month",children:"最近一个月"}),e.jsx(L,{value:"quarter",children:"最近三个月"}),e.jsx(L,{value:"year",children:"最近一年"})]})})]}),e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"图表类型："}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsx(m,{variant:c==="line"?"contained":"outlined",size:"small",startIcon:e.jsx(_t,{}),onClick:()=>b("line"),children:"折线图"}),e.jsx(m,{variant:c==="bar"?"contained":"outlined",size:"small",startIcon:e.jsx(Nr,{}),onClick:()=>b("bar"),children:"柱状图"}),e.jsx(m,{variant:c==="pie"?"contained":"outlined",size:"small",startIcon:e.jsx(bs,{}),onClick:()=>b("pie"),children:"饼图"})]})]})]})}),e.jsx(n,{sx:{width:"100%",mb:4},children:e.jsxs(ke,{value:v,onChange:I,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTabs-indicator":{backgroundColor:"#6366f1"},"& .MuiTab-root.Mui-selected":{color:"#6366f1",fontWeight:"bold"}},children:[e.jsx(Y,{label:"销售概览",sx:{minWidth:120}}),e.jsx(Y,{label:"游戏详情",sx:{minWidth:120}}),e.jsx(Y,{label:"地区分析",sx:{minWidth:120}})]})}),v===0&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:8,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"销售趋势"}),e.jsx(n,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(n,{sx:{textAlign:"center"},children:[e.jsx(_t,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"销售趋势图表"}),e.jsxs(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["显示最近 ",u==="week"?"7天":u==="month"?"30天":u==="quarter"?"90天":"365天"," 的销售数据"]})]})})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"销售分布"}),e.jsx(n,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(n,{sx:{textAlign:"center"},children:[e.jsx(bs,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"销售分布图表"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示不同游戏的销售占比"})]})})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"每日销售数据"}),e.jsx(ve,{sx:{maxHeight:400},children:e.jsxs(ye,{"aria-label":"每日销售数据表",stickyHeader:!0,children:[e.jsx(Ce,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"日期"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"销量"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"收入"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"平均价格"})]})}),e.jsx(we,{children:f.dailySales.map(p=>e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(j,{children:p.date}),e.jsx(j,{children:p.sales}),e.jsxs(j,{children:["¥",p.revenue.toLocaleString()]}),e.jsx(j,{children:p.sales>0?`¥${(p.revenue/p.sales).toFixed(2)}`:"¥0.00"})]},p.date))})]})})]})})]}),v===1&&e.jsx(l,{container:!0,spacing:3,children:e.jsx(l,{item:!0,xs:12,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold"},children:"游戏销量排名"}),e.jsx(m,{variant:"outlined",size:"small",onClick:i,children:"管理游戏"})]}),e.jsx(ve,{sx:{maxHeight:500},children:e.jsxs(ye,{"aria-label":"游戏销量排名表",stickyHeader:!0,children:[e.jsx(Ce,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"排名"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"游戏名称"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"价格"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"销量"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"收入"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"平均单价"})]})}),e.jsx(we,{children:f.gameSales.map((p,M)=>e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsxs(j,{sx:{fontWeight:"bold"},children:[M+1,M<3&&e.jsx(E,{label:M+1===1?"🥇":M+1===2?"🥈":"🥉",size:"small",sx:{ml:1}})]}),e.jsx(j,{sx:{fontWeight:"bold"},children:p.title}),e.jsx(j,{children:p.price===0?e.jsx(E,{label:"免费",size:"small",color:"success"}):`¥${p.price.toFixed(2)}`}),e.jsx(j,{children:p.sales}),e.jsxs(j,{children:["¥",p.revenue.toLocaleString()]}),e.jsx(j,{children:p.sales>0?`¥${(p.revenue/p.sales).toFixed(2)}`:"¥0.00"})]},p.id))})]})})]})})}),v===2&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"地区销售分布"}),e.jsx(n,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(n,{sx:{textAlign:"center"},children:[e.jsx(bs,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"地区销售分布图表"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示不同地区的销售占比"})]})})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"地区销售详情"}),e.jsx(ve,{sx:{maxHeight:300},children:e.jsxs(ye,{"aria-label":"地区销售详情表",stickyHeader:!0,children:[e.jsx(Ce,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"地区"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"销量"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"收入"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"占比"})]})}),e.jsx(we,{children:f.regionalSales.map(p=>e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(j,{children:p.region}),e.jsx(j,{children:p.sales}),e.jsxs(j,{children:["¥",p.revenue.toLocaleString()]}),e.jsx(j,{children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(n,{sx:{width:60,height:8,bgcolor:"#334155",borderRadius:4,overflow:"hidden"},children:e.jsx(n,{sx:{width:`${p.percentage}%`,height:"100%",bgcolor:"#6366f1",borderRadius:4}})}),e.jsxs(a,{variant:"body2",sx:{fontWeight:"bold"},children:[p.percentage,"%"]})]})})]},p.region))})]})})]})})]})]}):null};var gr={},Pt;function Qo(){if(Pt)return gr;Pt=1;var t=W();Object.defineProperty(gr,"__esModule",{value:!0}),gr.default=void 0;var r=t(P()),s=_();return gr.default=(0,r.default)((0,s.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),gr}var Jo=Qo();const vs=R(Jo);var br={},kt;function Xo(){if(kt)return br;kt=1;var t=W();Object.defineProperty(br,"__esModule",{value:!0}),br.default=void 0;var r=t(P()),s=_();return br.default=(0,r.default)((0,s.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),br}var Ko=Xo();const ei=R(Ko);var vr={},zt;function ri(){if(zt)return vr;zt=1;var t=W();Object.defineProperty(vr,"__esModule",{value:!0}),vr.default=void 0;var r=t(P()),s=_();return vr.default=(0,r.default)((0,s.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm1 10h-4v1h3c.55 0 1 .45 1 1v3c0 .55-.45 1-1 1h-1v1h-2v-1H9v-2h4v-1h-3c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1h1V9h2v1h2zm-2-4V3.5L17.5 8z"}),"RequestQuote"),vr}var si=ri();const ti=R(si);var yr={},Mt;function ni(){if(Mt)return yr;Mt=1;var t=W();Object.defineProperty(yr,"__esModule",{value:!0}),yr.default=void 0;var r=t(P()),s=_();return yr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"Pending"),yr}var ai=ni();const Lr=R(ai);var Cr={},Dt;function oi(){if(Dt)return Cr;Dt=1;var t=W();Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.default=void 0;var r=t(P()),s=_();return Cr.default=(0,r.default)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Cr}var ii=oi();const li=R(ii);var wr={},qt;function di(){if(qt)return wr;qt=1;var t=W();Object.defineProperty(wr,"__esModule",{value:!0}),wr.default=void 0;var r=t(P()),s=_();return wr.default=(0,r.default)((0,s.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),wr}var ci=di();const xi=R(ci),hi=()=>{const t=ie(),{user:r}=te(k=>k.user),[s,o]=x.useState(!1),[d,h]=x.useState(""),[u,z]=x.useState("month"),[c,b]=x.useState(0),[v,y]=x.useState(!1),[f,T]=x.useState(""),[I,A]=x.useState(""),i={balance:32500.75,availableBalance:28500.75,pendingBalance:4e3,totalRevenue:45600.5,totalWithdrawals:13100,revenueGrowth:8,incomeDetails:[{id:1,type:"game_sale",amount:298,date:"2025-12-01T10:30:00Z",description:"赛博朋克2077 销售",status:"completed"},{id:2,type:"game_sale",amount:199,date:"2025-12-01T15:45:00Z",description:"艾尔登法环 销售",status:"completed"},{id:3,type:"game_sale",amount:268,date:"2025-11-30T09:15:00Z",description:"黑神话：悟空 销售",status:"completed"},{id:4,type:"game_sale",amount:0,date:"2025-11-29T14:20:00Z",description:"星穹铁道 销售",status:"completed"},{id:5,type:"game_sale",amount:249,date:"2025-11-28T11:10:00Z",description:"星球大战：亡命徒 销售",status:"completed"},{id:6,type:"refund",amount:-298,date:"2025-11-27T16:30:00Z",description:"赛博朋克2077 退款",status:"completed"},{id:7,type:"game_sale",amount:298,date:"2025-11-26T08:45:00Z",description:"赛博朋克2077 销售",status:"completed"},{id:8,type:"game_sale",amount:199,date:"2025-11-25T13:20:00Z",description:"艾尔登法环 销售",status:"completed"}],withdrawalRequests:[{id:1,amount:5e3,date:"2025-11-15T10:00:00Z",status:"completed",account:"支付宝 - 138****1234",processedAt:"2025-11-16T14:30:00Z"},{id:2,amount:3e3,date:"2025-10-20T15:30:00Z",status:"completed",account:"微信 - 138****1234",processedAt:"2025-10-21T10:15:00Z"},{id:3,amount:5100,date:"2025-09-10T09:45:00Z",status:"completed",account:"银行转账 - 工商银行 ****1234",processedAt:"2025-09-11T16:20:00Z"},{id:4,amount:4e3,date:"2025-12-05T14:20:00Z",status:"pending",account:"支付宝 - 138****1234",processedAt:null},{id:5,amount:2e3,date:"2025-08-25T11:10:00Z",status:"canceled",account:"支付宝 - 138****1234",processedAt:null}]};x.useEffect(()=>{if(!r){t("/login");return}if(r.role!=="developer"){h("您没有开发者权限，无法访问此页面");return}o(!0),setTimeout(()=>{o(!1)},1e3)},[r,t]);const G=k=>{z(k.target.value)},p=(k,le)=>{b(le)},M=()=>{y(!0)},V=()=>{y(!1),T(""),A("")},D=()=>{console.log("提交提现申请:",{amount:f,account:I}),V()},w=()=>{t("/developer")},C=()=>{t("/developer/sales")},S=k=>new Date(k).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),U=k=>{switch(k){case"completed":return{icon:e.jsx(fe,{}),color:"success",label:"已完成"};case"pending":return{icon:e.jsx(Lr,{}),color:"warning",label:"待处理"};case"canceled":return{icon:e.jsx(li,{}),color:"error",label:"已取消"};default:return{icon:e.jsx(Lr,{}),color:"info",label:"未知状态"}}};return r?e.jsxs(Q,{maxWidth:"xl",sx:{py:4},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[e.jsxs(n,{children:[e.jsx(a,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:1},children:"财务报表"}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"查看您的财务状况和交易记录"})]}),e.jsxs(n,{sx:{display:"flex",gap:2},children:[e.jsx(m,{variant:"outlined",startIcon:e.jsx(be,{}),onClick:w,children:"返回仪表盘"}),e.jsx(m,{variant:"contained",startIcon:e.jsx(Nr,{}),onClick:C,children:"销售分析"}),e.jsx(m,{variant:"contained",startIcon:e.jsx(Pe,{}),onClick:M,sx:{bgcolor:"#10b981","&:hover":{bgcolor:"#059669"}},children:"申请提现"})]})]}),d&&e.jsx(K,{severity:"error",sx:{mb:4},children:d}),e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #6366f1",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"账户余额"}),e.jsx(Wr,{sx:{color:"#6366f1"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",i.balance.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(a,{variant:"body2",color:"success.main",children:[i.revenueGrowth,"% 增长"]})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #10b981",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"可用余额"}),e.jsx(xi,{sx:{color:"#10b981"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",i.availableBalance.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsx(a,{variant:"body2",color:"success.main",children:"上月增长 12%"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #f59e0b",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"待处理金额"}),e.jsx(Lr,{sx:{color:"#f59e0b"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",i.pendingBalance.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ps,{sx:{fontSize:"0.8rem",color:"warning.main"}}),e.jsx(a,{variant:"body2",color:"warning.main",children:"4笔交易待处理"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(g,{sx:{p:3,borderRadius:2,borderLeft:"4px solid #ec4899",bgcolor:"#1e293b",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.3)"}},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:"总收入"}),e.jsx(be,{sx:{color:"#ec4899"}})]}),e.jsxs(a,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:["¥",i.totalRevenue.toFixed(2)]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{sx:{fontSize:"0.8rem",color:"success.main"}}),e.jsxs(a,{variant:"body2",color:"success.main",children:[i.revenueGrowth,"% 增长"]})]})]})})]}),e.jsx(g,{sx:{p:3,borderRadius:2,mb:4},children:e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"时间范围："}),e.jsx(Ie,{size:"small",sx:{minWidth:120},children:e.jsxs(Rr,{value:u,onChange:G,displayEmpty:!0,children:[e.jsx(L,{value:"week",children:"最近一周"}),e.jsx(L,{value:"month",children:"最近一个月"}),e.jsx(L,{value:"quarter",children:"最近三个月"}),e.jsx(L,{value:"year",children:"最近一年"})]})})]}),e.jsxs(n,{sx:{display:"flex",gap:2},children:[e.jsx(m,{variant:"outlined",size:"small",startIcon:e.jsx(Is,{}),children:"筛选"}),e.jsx(m,{variant:"outlined",size:"small",startIcon:e.jsx(Pe,{}),children:"导出报表"})]})]})}),e.jsx(n,{sx:{width:"100%",mb:4},children:e.jsxs(ke,{value:c,onChange:p,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTabs-indicator":{backgroundColor:"#6366f1"},"& .MuiTab-root.Mui-selected":{color:"#6366f1",fontWeight:"bold"}},children:[e.jsx(Y,{label:"财务概览",sx:{minWidth:120}}),e.jsx(Y,{label:"收支明细",sx:{minWidth:120}}),e.jsx(Y,{label:"提现记录",sx:{minWidth:120}})]})}),c===0&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:8,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"月收入趋势"}),e.jsx(n,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(n,{sx:{textAlign:"center"},children:[e.jsx(be,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"月收入趋势图表"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示最近12个月的收入数据"})]})})]})}),e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"财务统计"}),e.jsxs(je,{sx:{width:"100%",maxWidth:360},children:[e.jsxs(H,{children:[e.jsx(ue,{children:e.jsx(de,{sx:{bgcolor:"#6366f1"},children:e.jsx(be,{})})}),e.jsx(B,{primary:"总收入",secondary:`¥${i.totalRevenue.toFixed(2)}`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]}),e.jsx(X,{variant:"inset",component:"li"}),e.jsxs(H,{children:[e.jsx(ue,{children:e.jsx(de,{sx:{bgcolor:"#10b981"},children:e.jsx(Pe,{})})}),e.jsx(B,{primary:"总提现",secondary:`¥${i.totalWithdrawals.toFixed(2)}`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]}),e.jsx(X,{variant:"inset",component:"li"}),e.jsxs(H,{children:[e.jsx(ue,{children:e.jsx(de,{sx:{bgcolor:"#f59e0b"},children:e.jsx(Wr,{})})}),e.jsx(B,{primary:"当前余额",secondary:`¥${i.balance.toFixed(2)}`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]}),e.jsx(X,{variant:"inset",component:"li"}),e.jsxs(H,{children:[e.jsx(ue,{children:e.jsx(de,{sx:{bgcolor:"#ec4899"},children:e.jsx(ei,{})})}),e.jsx(B,{primary:"提现次数",secondary:`${i.withdrawalRequests.length} 次`,primaryTypographyProps:{fontWeight:"bold"},secondaryTypographyProps:{fontSize:"1.1rem",fontWeight:"bold"}})]})]})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"收入构成"}),e.jsx(n,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"#1e293b",borderRadius:1},children:e.jsxs(n,{sx:{textAlign:"center"},children:[e.jsx(Ir,{sx:{fontSize:64,color:"#6366f1",mb:2}}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"收入构成图表"}),e.jsx(a,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"显示不同游戏的收入占比"})]})})]})})]}),c===1&&e.jsx(l,{container:!0,spacing:3,children:e.jsx(l,{item:!0,xs:12,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"收支明细"}),e.jsx(ve,{sx:{maxHeight:600},children:e.jsxs(ye,{"aria-label":"收支明细表",stickyHeader:!0,children:[e.jsx(Ce,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"日期"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"类型"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"描述"}),e.jsx(j,{sx:{fontWeight:"bold",textAlign:"right"},children:"金额"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"状态"})]})}),e.jsx(we,{children:i.incomeDetails.map(k=>e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(j,{children:S(k.date)}),e.jsx(j,{children:e.jsx(E,{label:k.type==="game_sale"?"游戏销售":k.type==="refund"?"退款":"其他",size:"small",color:k.type==="game_sale"?"success":k.type==="refund"?"error":"info",icon:k.type==="game_sale"?e.jsx(xe,{}):e.jsx(Ps,{})})}),e.jsx(j,{children:k.description}),e.jsxs(j,{sx:{fontWeight:"bold",textAlign:"right",color:k.amount>=0?"success.main":"error.main"},children:[k.amount>=0?"+":"","¥",k.amount.toFixed(2)]}),e.jsx(j,{children:e.jsx(E,{label:k.status==="completed"?"已完成":"待处理",size:"small",color:k.status==="completed"?"success":"warning",icon:k.status==="completed"?e.jsx(fe,{}):e.jsx(Lr,{})})})]},k.id))})]})})]})})}),c===2&&e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"提现记录"}),e.jsx(ve,{sx:{maxHeight:600},children:e.jsxs(ye,{"aria-label":"提现记录表",stickyHeader:!0,children:[e.jsx(Ce,{children:e.jsxs(oe,{children:[e.jsx(j,{sx:{fontWeight:"bold"},children:"提现日期"}),e.jsx(j,{sx:{fontWeight:"bold",textAlign:"right"},children:"金额"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"账户"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"状态"}),e.jsx(j,{sx:{fontWeight:"bold"},children:"处理时间"})]})}),e.jsx(we,{children:i.withdrawalRequests.map(k=>{const le=U(k.status);return e.jsxs(oe,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(j,{children:S(k.date)}),e.jsxs(j,{sx:{fontWeight:"bold",textAlign:"right"},children:["¥",k.amount.toFixed(2)]}),e.jsx(j,{children:k.account}),e.jsx(j,{children:e.jsx(E,{label:le.label,size:"small",color:le.color,icon:le.icon})}),e.jsx(j,{children:k.processedAt?S(k.processedAt):"-"})]},k.id)})})]})})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(g,{sx:{p:3,borderRadius:2},children:[e.jsx(a,{variant:"h6",component:"h2",sx:{fontWeight:"bold",mb:3},children:"提现说明"}),e.jsxs(Yr,{sx:{bgcolor:"#1e293b",mb:2},children:[e.jsx(Qr,{expandIcon:e.jsx(vs,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"提现规则"})}),e.jsx(Jr,{children:e.jsxs(je,{children:[e.jsx(H,{children:e.jsx(B,{primary:"1. 最低提现金额：¥100"})}),e.jsx(H,{children:e.jsx(B,{primary:"2. 提现手续费：免费"})}),e.jsx(H,{children:e.jsx(B,{primary:"3. 提现处理时间：1-3个工作日"})}),e.jsx(H,{children:e.jsx(B,{primary:"4. 每月提现次数：无限制"})})]})})]}),e.jsxs(Yr,{sx:{bgcolor:"#1e293b",mb:2},children:[e.jsx(Qr,{expandIcon:e.jsx(vs,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"支持的提现方式"})}),e.jsx(Jr,{children:e.jsxs(je,{children:[e.jsxs(H,{children:[e.jsx(ListItemIcon,{children:e.jsx(Ir,{})}),e.jsx(B,{primary:"支付宝"})]}),e.jsxs(H,{children:[e.jsx(ListItemIcon,{children:e.jsx(Ir,{})}),e.jsx(B,{primary:"微信支付"})]}),e.jsxs(H,{children:[e.jsx(ListItemIcon,{children:e.jsx(Ir,{})}),e.jsx(B,{primary:"银行转账"})]})]})})]}),e.jsxs(Yr,{sx:{bgcolor:"#1e293b"},children:[e.jsx(Qr,{expandIcon:e.jsx(vs,{}),"aria-controls":"panel3a-content",id:"panel3a-header",children:e.jsx(a,{variant:"body1",sx:{fontWeight:"bold"},children:"提现常见问题"})}),e.jsx(Jr,{children:e.jsxs(je,{children:[e.jsx(H,{children:e.jsx(B,{primary:"Q: 提现申请提交后可以取消吗？",secondary:"A: 提现申请提交后，在处理前可以取消，处理中或已完成的提现无法取消。"})}),e.jsx(H,{children:e.jsx(B,{primary:"Q: 提现失败怎么办？",secondary:"A: 提现失败后，资金会自动退回您的账户余额，请检查您的提现账户信息是否正确。"})})]})})]})]})})]}),e.jsxs(Ot,{open:v,onClose:V,maxWidth:"sm",fullWidth:!0,children:[e.jsx(Tt,{sx:{fontWeight:"bold"},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ti,{sx:{color:"#6366f1"}}),"申请提现"]})}),e.jsxs(Ft,{children:[e.jsx(n,{sx:{mt:2,mb:3},children:e.jsxs(a,{variant:"body1",color:"text.secondary",children:["当前可用余额：",e.jsxs("span",{style:{fontWeight:"bold",color:"#10b981"},children:["¥",i.availableBalance.toFixed(2)]})]})}),e.jsx(N,{autoFocus:!0,margin:"dense",label:"提现金额",type:"number",fullWidth:!0,variant:"outlined",value:f,onChange:k=>T(k.target.value),placeholder:"请输入提现金额，最低¥100",sx:{mb:2}}),e.jsx(N,{margin:"dense",label:"提现账户",type:"text",fullWidth:!0,variant:"outlined",value:I,onChange:k=>A(k.target.value),placeholder:"请输入提现账户信息",sx:{mb:2}}),e.jsxs(n,{sx:{mt:2},children:[e.jsx(a,{variant:"body2",color:"text.secondary",children:e.jsx("strong",{children:"提现说明："})}),e.jsxs(je,{sx:{mt:1},children:[e.jsx(H,{sx:{padding:0},children:e.jsx(B,{primary:"• 最低提现金额：¥100",secondary:""})}),e.jsx(H,{sx:{padding:0},children:e.jsx(B,{primary:"• 提现处理时间：1-3个工作日",secondary:""})}),e.jsx(H,{sx:{padding:0},children:e.jsx(B,{primary:"• 提现手续费：免费",secondary:""})})]})]})]}),e.jsxs(Gt,{children:[e.jsx(m,{onClick:V,children:"取消"}),e.jsx(m,{onClick:D,variant:"contained",sx:{bgcolor:"#10b981","&:hover":{bgcolor:"#059669"}},disabled:!f||parseFloat(f)<100||parseFloat(f)>i.availableBalance,children:"提交申请"})]})]})]}):null};var Sr={},Lt;function ui(){if(Lt)return Sr;Lt=1;var t=W();Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.default=void 0;var r=t(P()),s=_();return Sr.default=(0,r.default)((0,s.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),Sr}var pi=ui();const fi=R(pi),Et=()=>{const t=ie(),r=()=>{t("/")};return e.jsxs(Q,{maxWidth:"md",sx:{py:12,textAlign:"center"},children:[e.jsx(n,{sx:{mb:4},children:e.jsx(fi,{sx:{fontSize:120,color:"#6366f1"}})}),e.jsx(a,{variant:"h3",component:"h1",sx:{fontWeight:"bold",mb:2},children:"404 - 页面不存在"}),e.jsx(a,{variant:"h6",sx:{color:"text.secondary",mb:4},children:"抱歉，您访问的页面不存在或已被移除。"}),e.jsx(m,{variant:"contained",size:"large",sx:{bgcolor:"#6366f1","&:hover":{bgcolor:"#4f46e5"},px:4,py:1.5},onClick:r,children:"返回首页"})]})},mi=()=>{const t=ie(),r=ne(),{user:s}=te(I=>I.user),{totalItems:o}=te(I=>I.cart),[d,h]=_r.useState(null),[u,z]=_r.useState(null),c=I=>{h(I.currentTarget)},b=I=>{z(I.currentTarget)},v=()=>{h(null)},y=()=>{z(null)},f=I=>{t(I),v(),y()},T=async()=>{try{await r(Gr()).unwrap(),t("/"),y()}catch(I){console.error("登出失败:",I)}};return e.jsx(hn,{position:"static",sx:{bgcolor:"#1e293b",boxShadow:3},children:e.jsxs(un,{children:[e.jsx(a,{variant:"h5",component:"div",sx:{flexGrow:1,fontWeight:"bold",color:"#6366f1",cursor:"pointer"},onClick:()=>t("/"),children:"木鱼游戏"}),e.jsxs(n,{sx:{display:{xs:"none",md:"flex"},gap:2},children:[e.jsx(m,{color:"inherit",onClick:()=>t("/games"),children:"游戏商城"}),e.jsx(m,{color:"inherit",onClick:()=>t("/library"),children:"游戏库"}),e.jsx(m,{color:"inherit",onClick:()=>t("/developer"),children:"开发者中心"})]}),e.jsxs(n,{sx:{display:{xs:"flex",md:"none"}},children:[e.jsx(J,{size:"large",edge:"end",color:"inherit","aria-label":"menu",onClick:c,children:e.jsx(pn,{})}),e.jsxs(Ls,{id:"mobile-menu",anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!d,onClose:v,sx:{display:{xs:"block",md:"none"}},children:[e.jsx(L,{onClick:()=>f("/"),children:"首页"}),e.jsx(L,{onClick:()=>f("/games"),children:"游戏商城"}),e.jsx(L,{onClick:()=>f("/library"),children:"游戏库"}),e.jsx(L,{onClick:()=>f("/developer"),children:"开发者中心"}),e.jsx(L,{onClick:()=>f("/login"),children:"登录"}),e.jsx(L,{onClick:()=>f("/register"),children:"注册"})]})]}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsx(J,{color:"inherit",onClick:()=>t("/cart"),children:e.jsx(fn,{badgeContent:o,color:"error",children:e.jsx(mn,{})})}),e.jsx(J,{color:"inherit",onClick:b,children:e.jsx(jn,{})}),e.jsx(Ls,{id:"user-menu",anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!u,onClose:y,children:s?e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:()=>f("/profile"),children:"个人中心"},"profile"),e.jsx(L,{onClick:()=>f("/orders"),children:"订单历史"},"orders"),e.jsx(L,{onClick:()=>f("/library"),children:"游戏库"},"library"),s.role==="developer"&&e.jsx(L,{onClick:()=>f("/developer"),children:"开发者中心"},"developer"),e.jsxs(L,{onClick:T,children:[e.jsx(gn,{sx:{mr:1}}),"登出"]},"logout")]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:()=>f("/login"),children:"登录"},"login"),e.jsx(L,{onClick:()=>f("/register"),children:"注册"},"register")]})})]})]})})},ji=()=>e.jsx(n,{component:"footer",sx:{bgcolor:"#1e293b",color:"white",py:6,mt:"auto"},children:e.jsxs(Q,{maxWidth:"xl",children:[e.jsxs(l,{container:!0,spacing:4,children:[e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"木鱼游戏"}),e.jsx(a,{variant:"body2",sx:{mb:2,color:"rgba(255, 255, 255, 0.7)"},children:"木鱼游戏平台是一个专业的游戏分发平台，提供海量优质游戏下载、购买和社区服务。"}),e.jsxs(n,{sx:{display:"flex",gap:2,mt:2},children:[e.jsx(Z,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(bn,{})}),e.jsx(Z,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(vn,{})}),e.jsx(Z,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(yn,{})}),e.jsx(Z,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"}},children:e.jsx(Cn,{})})]})]}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"快速链接"}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(Z,{href:"/",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"首页"}),e.jsx(Z,{href:"/games",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"游戏商城"}),e.jsx(Z,{href:"/library",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"游戏库"}),e.jsx(Z,{href:"/developer",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"开发者中心"}),e.jsx(Z,{href:"/download",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"客户端下载"})]})]}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"支持与服务"}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsx(Z,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"帮助中心"}),e.jsx(Z,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"联系我们"}),e.jsx(Z,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"常见问题"}),e.jsx(Z,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"隐私政策"}),e.jsx(Z,{href:"#",color:"inherit",sx:{"&:hover":{color:"#6366f1"},fontSize:"0.9rem"},children:"用户协议"})]})]}),e.jsxs(l,{item:!0,xs:12,md:3,children:[e.jsx(a,{variant:"h6",component:"div",sx:{mb:2,color:"#6366f1",fontWeight:"bold"},children:"订阅更新"}),e.jsx(a,{variant:"body2",sx:{mb:2,color:"rgba(255, 255, 255, 0.7)"},children:"订阅我们的新闻通讯，获取最新游戏资讯和优惠活动。"}),e.jsxs(n,{sx:{display:"flex",gap:1},children:[e.jsx("input",{type:"email",placeholder:"您的邮箱",style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",outline:"none",flexGrow:1,fontSize:"0.9rem"}}),e.jsx("button",{style:{padding:"8px 16px",borderRadius:"4px",border:"none",backgroundColor:"#6366f1",color:"white",cursor:"pointer",fontSize:"0.9rem","&:hover":{backgroundColor:"#4f46e5"}},children:"订阅"})]})]})]}),e.jsx(X,{sx:{my:3,borderColor:"rgba(255, 255, 255, 0.1)"}}),e.jsxs(a,{variant:"body2",align:"center",sx:{color:"rgba(255, 255, 255, 0.5)"},children:["© ",new Date().getFullYear()," 木鱼游戏平台. 保留所有权利."]})]})}),gi=()=>{const t=ne();return x.useEffect(()=>{t(Vn())},[t]),null},bi=wn({palette:{mode:"dark",primary:{main:"#6366f1"},secondary:{main:"#ec4899"},background:{default:"#0f172a",paper:"#1e293b"}},typography:{fontFamily:'Inter, Roboto, "Helvetica Neue", Arial, sans-serif'},components:{MuiButton:{styleOverrides:{root:{borderRadius:8}}}}});function vi(){return e.jsxs(Sn,{store:Xn,children:[e.jsx(gi,{}),e.jsxs(In,{theme:bi,children:[e.jsx(Rn,{}),e.jsx(Wn,{children:e.jsxs("div",{className:"app-container",children:[e.jsx(mi,{}),e.jsx("main",{className:"main-content",children:e.jsxs(_n,{children:[e.jsx(se,{path:"/",element:e.jsx(Kn,{})}),e.jsx(se,{path:"/games",element:e.jsx(ma,{})}),e.jsx(se,{path:"/game/:id",element:e.jsx(Na,{})}),e.jsx(se,{path:"/login",element:e.jsx(Ua,{})}),e.jsx(se,{path:"/register",element:e.jsx(Za,{})}),e.jsx(se,{path:"/404",element:e.jsx(Et,{})}),e.jsx(se,{path:"*",element:e.jsx(Et,{})}),e.jsx(se,{path:"/library",element:e.jsx($a,{})}),e.jsx(se,{path:"/profile",element:e.jsx(Ya,{})}),e.jsx(se,{path:"/cart",element:e.jsx(to,{})}),e.jsx(se,{path:"/checkout",element:e.jsx(uo,{})}),e.jsx(se,{path:"/orders",element:e.jsx(yo,{})}),e.jsx(se,{path:"/developer",element:e.jsx(Ao,{})}),e.jsx(se,{path:"/developer/games",element:e.jsx(Vo,{})}),e.jsx(se,{path:"/developer/sales",element:e.jsx(Yo,{})}),e.jsx(se,{path:"/developer/finances",element:e.jsx(hi,{})})]})}),e.jsx(ji,{})]})})]})]})}Mn.createRoot(document.getElementById("root")).render(e.jsx(_r.StrictMode,{children:e.jsx(vi,{})}));
